(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vh(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ht={},ys=[],ei=()=>{},km=()=>!1,el=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),bh=e=>e.startsWith("onUpdate:"),Cn=Object.assign,xh=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hy=Object.prototype.hasOwnProperty,Kt=(e,t)=>hy.call(e,t),dt=Array.isArray,vs=e=>tl(e)==="[object Map]",Bs=e=>tl(e)==="[object Set]",cf=e=>tl(e)==="[object Date]",xt=e=>typeof e=="function",sn=e=>typeof e=="string",Fr=e=>typeof e=="symbol",Qt=e=>e!==null&&typeof e=="object",Em=e=>(Qt(e)||xt(e))&&xt(e.then)&&xt(e.catch),Mm=Object.prototype.toString,tl=e=>Mm.call(e),fy=e=>tl(e).slice(8,-1),Tm=e=>tl(e)==="[object Object]",wh=e=>sn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bs=vh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},py=/-\w/g,_r=Vu(e=>e.replace(py,t=>t.slice(1).toUpperCase())),my=/\B([A-Z])/g,Ci=Vu(e=>e.replace(my,"-$1").toLowerCase()),$u=Vu(e=>e.charAt(0).toUpperCase()+e.slice(1)),ud=Vu(e=>e?`on${$u(e)}`:""),ar=(e,t)=>!Object.is(e,t),cu=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Sm=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},xu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},_y=e=>{const t=sn(e)?Number(e):NaN;return isNaN(t)?e:t};let df;const zu=()=>df||(df=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vn(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],a=sn(i)?by(i):Vn(i);if(a)for(const s in a)t[s]=a[s]}return t}else if(sn(e)||Qt(e))return e}const gy=/;(?![^(]*\))/g,yy=/:([^]+)/,vy=/\/\*[^]*?\*\//g;function by(e){const t={};return e.replace(vy,"").split(gy).forEach(n=>{if(n){const i=n.split(yy);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Xt(e){let t="";if(sn(e))t=e;else if(dt(e))for(let n=0;n<e.length;n++){const i=Xt(e[n]);i&&(t+=i+" ")}else if(Qt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Fd(e){if(!e)return null;let{class:t,style:n}=e;return t&&!sn(t)&&(e.class=Xt(t)),n&&(e.style=Vn(n)),e}const xy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wy=vh(xy);function Pm(e){return!!e||e===""}function Ly(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=nl(e[i],t[i]);return n}function nl(e,t){if(e===t)return!0;let n=cf(e),i=cf(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Fr(e),i=Fr(t),n||i)return e===t;if(n=dt(e),i=dt(t),n||i)return n&&i?Ly(e,t):!1;if(n=Qt(e),i=Qt(t),n||i){if(!n||!i)return!1;const a=Object.keys(e).length,s=Object.keys(t).length;if(a!==s)return!1;for(const u in e){const h=e.hasOwnProperty(u),m=t.hasOwnProperty(u);if(h&&!m||!h&&m||!nl(e[u],t[u]))return!1}}return String(e)===String(t)}function Lh(e,t){return e.findIndex(n=>nl(n,t))}const Bm=e=>!!(e&&e.__v_isRef===!0),_e=e=>sn(e)?e:e==null?"":dt(e)||Qt(e)&&(e.toString===Mm||!xt(e.toString))?Bm(e)?_e(e.value):JSON.stringify(e,Am,2):String(e),Am=(e,t)=>Bm(t)?Am(e,t.value):vs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,a],s)=>(n[cd(i,s)+" =>"]=a,n),{})}:Bs(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>cd(n))}:Fr(t)?cd(t):Qt(t)&&!dt(t)&&!Tm(t)?String(t):t,cd=(e,t="")=>{var n;return Fr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qn;class Om{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qn,!t&&qn&&(this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=qn;try{return qn=this,t()}finally{qn=n}}}on(){++this._on===1&&(this.prevScope=qn,qn=this)}off(){this._on>0&&--this._on===0&&(qn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Rm(e){return new Om(e)}function Dm(){return qn}function Cy(e,t=!1){qn&&qn.cleanups.push(e)}let nn;const dd=new WeakSet;class Im{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qn&&qn.active&&qn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,dd.has(this)&&(dd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hf(this),Nm(this);const t=nn,n=jr;nn=this,jr=!0;try{return this.fn()}finally{Vm(this),nn=t,jr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Eh(t);this.deps=this.depsTail=void 0,hf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?dd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nd(this)&&this.run()}get dirty(){return Nd(this)}}let jm=0,Sa,Pa;function Fm(e,t=!1){if(e.flags|=8,t){e.next=Pa,Pa=e;return}e.next=Sa,Sa=e}function Ch(){jm++}function kh(){if(--jm>0)return;if(Pa){let t=Pa;for(Pa=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Sa;){let t=Sa;for(Sa=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function Nm(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Vm(e){let t,n=e.depsTail,i=n;for(;i;){const a=i.prevDep;i.version===-1?(i===n&&(n=a),Eh(i),ky(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=a}e.deps=t,e.depsTail=n}function Nd(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($m(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $m(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===za)||(e.globalVersion=za,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Nd(e))))return;e.flags|=2;const t=e.dep,n=nn,i=jr;nn=e,jr=!0;try{Nm(e);const a=e.fn(e._value);(t.version===0||ar(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{nn=n,jr=i,Vm(e),e.flags&=-3}}function Eh(e,t=!1){const{dep:n,prevSub:i,nextSub:a}=e;if(i&&(i.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Eh(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function ky(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let jr=!0;const zm=[];function wi(){zm.push(jr),jr=!1}function Li(){const e=zm.pop();jr=e===void 0?!0:e}function hf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=nn;nn=void 0;try{t()}finally{nn=n}}}let za=0;class Ey{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hu{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!nn||!jr||nn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==nn)n=this.activeLink=new Ey(nn,this),nn.deps?(n.prevDep=nn.depsTail,nn.depsTail.nextDep=n,nn.depsTail=n):nn.deps=nn.depsTail=n,Hm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=nn.depsTail,n.nextDep=void 0,nn.depsTail.nextDep=n,nn.depsTail=n,nn.deps===n&&(nn.deps=i)}return n}trigger(t){this.version++,za++,this.notify(t)}notify(t){Ch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{kh()}}}function Hm(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Hm(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const wu=new WeakMap,bo=Symbol(""),Vd=Symbol(""),Ha=Symbol("");function Zn(e,t,n){if(jr&&nn){let i=wu.get(e);i||wu.set(e,i=new Map);let a=i.get(n);a||(i.set(n,a=new Hu),a.map=i,a.key=n),a.track()}}function yi(e,t,n,i,a,s){const u=wu.get(e);if(!u){za++;return}const h=m=>{m&&m.trigger()};if(Ch(),t==="clear")u.forEach(h);else{const m=dt(e),g=m&&wh(n);if(m&&n==="length"){const y=Number(i);u.forEach((x,T)=>{(T==="length"||T===Ha||!Fr(T)&&T>=y)&&h(x)})}else switch((n!==void 0||u.has(void 0))&&h(u.get(n)),g&&h(u.get(Ha)),t){case"add":m?g&&h(u.get("length")):(h(u.get(bo)),vs(e)&&h(u.get(Vd)));break;case"delete":m||(h(u.get(bo)),vs(e)&&h(u.get(Vd)));break;case"set":vs(e)&&h(u.get(bo));break}}kh()}function My(e,t){const n=wu.get(e);return n&&n.get(t)}function cs(e){const t=$t(e);return t===e?t:(Zn(t,"iterate",Ha),Sr(e)?t:t.map(In))}function Uu(e){return Zn(e=$t(e),"iterate",Ha),e}const Ty={__proto__:null,[Symbol.iterator](){return hd(this,Symbol.iterator,In)},concat(...e){return cs(this).concat(...e.map(t=>dt(t)?cs(t):t))},entries(){return hd(this,"entries",e=>(e[1]=In(e[1]),e))},every(e,t){return fi(this,"every",e,t,void 0,arguments)},filter(e,t){return fi(this,"filter",e,t,n=>n.map(In),arguments)},find(e,t){return fi(this,"find",e,t,In,arguments)},findIndex(e,t){return fi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return fi(this,"findLast",e,t,In,arguments)},findLastIndex(e,t){return fi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return fi(this,"forEach",e,t,void 0,arguments)},includes(...e){return fd(this,"includes",e)},indexOf(...e){return fd(this,"indexOf",e)},join(e){return cs(this).join(e)},lastIndexOf(...e){return fd(this,"lastIndexOf",e)},map(e,t){return fi(this,"map",e,t,void 0,arguments)},pop(){return _a(this,"pop")},push(...e){return _a(this,"push",e)},reduce(e,...t){return ff(this,"reduce",e,t)},reduceRight(e,...t){return ff(this,"reduceRight",e,t)},shift(){return _a(this,"shift")},some(e,t){return fi(this,"some",e,t,void 0,arguments)},splice(...e){return _a(this,"splice",e)},toReversed(){return cs(this).toReversed()},toSorted(e){return cs(this).toSorted(e)},toSpliced(...e){return cs(this).toSpliced(...e)},unshift(...e){return _a(this,"unshift",e)},values(){return hd(this,"values",In)}};function hd(e,t,n){const i=Uu(e),a=i[t]();return i!==e&&!Sr(e)&&(a._next=a.next,a.next=()=>{const s=a._next();return s.done||(s.value=n(s.value)),s}),a}const Sy=Array.prototype;function fi(e,t,n,i,a,s){const u=Uu(e),h=u!==e&&!Sr(e),m=u[t];if(m!==Sy[t]){const x=m.apply(e,s);return h?In(x):x}let g=n;u!==e&&(h?g=function(x,T){return n.call(this,In(x),T,e)}:n.length>2&&(g=function(x,T){return n.call(this,x,T,e)}));const y=m.call(u,g,i);return h&&a?a(y):y}function ff(e,t,n,i){const a=Uu(e);let s=n;return a!==e&&(Sr(e)?n.length>3&&(s=function(u,h,m){return n.call(this,u,h,m,e)}):s=function(u,h,m){return n.call(this,u,In(h),m,e)}),a[t](s,...i)}function fd(e,t,n){const i=$t(e);Zn(i,"iterate",Ha);const a=i[t](...n);return(a===-1||a===!1)&&Sh(n[0])?(n[0]=$t(n[0]),i[t](...n)):a}function _a(e,t,n=[]){wi(),Ch();const i=$t(e)[t].apply(e,n);return kh(),Li(),i}const Py=vh("__proto__,__v_isRef,__isVue"),Um=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fr));function By(e){Fr(e)||(e=String(e));const t=$t(this);return Zn(t,"has",e),t.hasOwnProperty(e)}class Gm{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(a?s?$y:Wm:s?Km:Zm).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const u=dt(t);if(!a){let m;if(u&&(m=Ty[n]))return m;if(n==="hasOwnProperty")return By}const h=Reflect.get(t,n,cn(t)?t:i);if((Fr(n)?Um.has(n):Py(n))||(a||Zn(t,"get",n),s))return h;if(cn(h)){const m=u&&wh(n)?h:h.value;return a&&Qt(m)?zd(m):m}return Qt(h)?a?zd(h):As(h):h}}class qm extends Gm{constructor(t=!1){super(!1,t)}set(t,n,i,a){let s=t[n];if(!this._isShallow){const m=qi(s);if(!Sr(i)&&!qi(i)&&(s=$t(s),i=$t(i)),!dt(t)&&cn(s)&&!cn(i))return m||(s.value=i),!0}const u=dt(t)&&wh(n)?Number(n)<t.length:Kt(t,n),h=Reflect.set(t,n,i,cn(t)?t:a);return t===$t(a)&&(u?ar(i,s)&&yi(t,"set",n,i):yi(t,"add",n,i)),h}deleteProperty(t,n){const i=Kt(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&i&&yi(t,"delete",n,void 0),a}has(t,n){const i=Reflect.has(t,n);return(!Fr(n)||!Um.has(n))&&Zn(t,"has",n),i}ownKeys(t){return Zn(t,"iterate",dt(t)?"length":bo),Reflect.ownKeys(t)}}class Ay extends Gm{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Oy=new qm,Ry=new Ay,Dy=new qm(!0);const $d=e=>e,tu=e=>Reflect.getPrototypeOf(e);function Iy(e,t,n){return function(...i){const a=this.__v_raw,s=$t(a),u=vs(s),h=e==="entries"||e===Symbol.iterator&&u,m=e==="keys"&&u,g=a[e](...i),y=n?$d:t?Lu:In;return!t&&Zn(s,"iterate",m?Vd:bo),{next(){const{value:x,done:T}=g.next();return T?{value:x,done:T}:{value:h?[y(x[0]),y(x[1])]:y(x),done:T}},[Symbol.iterator](){return this}}}}function nu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jy(e,t){const n={get(a){const s=this.__v_raw,u=$t(s),h=$t(a);e||(ar(a,h)&&Zn(u,"get",a),Zn(u,"get",h));const{has:m}=tu(u),g=t?$d:e?Lu:In;if(m.call(u,a))return g(s.get(a));if(m.call(u,h))return g(s.get(h));s!==u&&s.get(a)},get size(){const a=this.__v_raw;return!e&&Zn($t(a),"iterate",bo),a.size},has(a){const s=this.__v_raw,u=$t(s),h=$t(a);return e||(ar(a,h)&&Zn(u,"has",a),Zn(u,"has",h)),a===h?s.has(a):s.has(a)||s.has(h)},forEach(a,s){const u=this,h=u.__v_raw,m=$t(h),g=t?$d:e?Lu:In;return!e&&Zn(m,"iterate",bo),h.forEach((y,x)=>a.call(s,g(y),g(x),u))}};return Cn(n,e?{add:nu("add"),set:nu("set"),delete:nu("delete"),clear:nu("clear")}:{add(a){!t&&!Sr(a)&&!qi(a)&&(a=$t(a));const s=$t(this);return tu(s).has.call(s,a)||(s.add(a),yi(s,"add",a,a)),this},set(a,s){!t&&!Sr(s)&&!qi(s)&&(s=$t(s));const u=$t(this),{has:h,get:m}=tu(u);let g=h.call(u,a);g||(a=$t(a),g=h.call(u,a));const y=m.call(u,a);return u.set(a,s),g?ar(s,y)&&yi(u,"set",a,s):yi(u,"add",a,s),this},delete(a){const s=$t(this),{has:u,get:h}=tu(s);let m=u.call(s,a);m||(a=$t(a),m=u.call(s,a)),h&&h.call(s,a);const g=s.delete(a);return m&&yi(s,"delete",a,void 0),g},clear(){const a=$t(this),s=a.size!==0,u=a.clear();return s&&yi(a,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=Iy(a,e,t)}),n}function Mh(e,t){const n=jy(e,t);return(i,a,s)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?i:Reflect.get(Kt(n,a)&&a in i?n:i,a,s)}const Fy={get:Mh(!1,!1)},Ny={get:Mh(!1,!0)},Vy={get:Mh(!0,!1)};const Zm=new WeakMap,Km=new WeakMap,Wm=new WeakMap,$y=new WeakMap;function zy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hy(e){return e.__v_skip||!Object.isExtensible(e)?0:zy(fy(e))}function As(e){return qi(e)?e:Th(e,!1,Oy,Fy,Zm)}function Jm(e){return Th(e,!1,Dy,Ny,Km)}function zd(e){return Th(e,!0,Ry,Vy,Wm)}function Th(e,t,n,i,a){if(!Qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Hy(e);if(s===0)return e;const u=a.get(e);if(u)return u;const h=new Proxy(e,s===2?i:n);return a.set(e,h),h}function bi(e){return qi(e)?bi(e.__v_raw):!!(e&&e.__v_isReactive)}function qi(e){return!!(e&&e.__v_isReadonly)}function Sr(e){return!!(e&&e.__v_isShallow)}function Sh(e){return e?!!e.__v_raw:!1}function $t(e){const t=e&&e.__v_raw;return t?$t(t):e}function Ph(e){return!Kt(e,"__v_skip")&&Object.isExtensible(e)&&Sm(e,"__v_skip",!0),e}const In=e=>Qt(e)?As(e):e,Lu=e=>Qt(e)?zd(e):e;function cn(e){return e?e.__v_isRef===!0:!1}function Me(e){return Xm(e,!1)}function Ym(e){return Xm(e,!0)}function Xm(e,t){return cn(e)?e:new Uy(e,t)}class Uy{constructor(t,n){this.dep=new Hu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:$t(t),this._value=n?t:In(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Sr(t)||qi(t);t=i?t:$t(t),ar(t,n)&&(this._rawValue=t,this._value=i?t:In(t),this.dep.trigger())}}function Re(e){return cn(e)?e.value:e}function Gy(e){return xt(e)?e():Re(e)}const qy={get:(e,t,n)=>t==="__v_raw"?e:Re(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const a=e[t];return cn(a)&&!cn(n)?(a.value=n,!0):Reflect.set(e,t,n,i)}};function Qm(e){return bi(e)?e:new Proxy(e,qy)}class Zy{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Hu,{get:i,set:a}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Ky(e){return new Zy(e)}function Wy(e){const t=dt(e)?new Array(e.length):{};for(const n in e)t[n]=Yy(e,n);return t}class Jy{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return My($t(this._object),this._key)}}function Yy(e,t,n){const i=e[t];return cn(i)?i:new Jy(e,t,n)}class Xy{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Hu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=za-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&nn!==this)return Fm(this,!0),!0}get value(){const t=this.dep.track();return $m(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Qy(e,t,n=!1){let i,a;return xt(e)?i=e:(i=e.get,a=e.set),new Xy(i,a,n)}const ru={},Cu=new WeakMap;let _o;function ev(e,t=!1,n=_o){if(n){let i=Cu.get(n);i||Cu.set(n,i=[]),i.push(e)}}function tv(e,t,n=Ht){const{immediate:i,deep:a,once:s,scheduler:u,augmentJob:h,call:m}=n,g=W=>a?W:Sr(W)||a===!1||a===0?vi(W,1):vi(W);let y,x,T,E,S=!1,P=!1;if(cn(e)?(x=()=>e.value,S=Sr(e)):bi(e)?(x=()=>g(e),S=!0):dt(e)?(P=!0,S=e.some(W=>bi(W)||Sr(W)),x=()=>e.map(W=>{if(cn(W))return W.value;if(bi(W))return g(W);if(xt(W))return m?m(W,2):W()})):xt(e)?t?x=m?()=>m(e,2):e:x=()=>{if(T){wi();try{T()}finally{Li()}}const W=_o;_o=y;try{return m?m(e,3,[E]):e(E)}finally{_o=W}}:x=ei,t&&a){const W=x,oe=a===!0?1/0:a;x=()=>vi(W(),oe)}const U=Dm(),X=()=>{y.stop(),U&&U.active&&xh(U.effects,y)};if(s&&t){const W=t;t=(...oe)=>{W(...oe),X()}}let Q=P?new Array(e.length).fill(ru):ru;const $=W=>{if(!(!(y.flags&1)||!y.dirty&&!W))if(t){const oe=y.run();if(a||S||(P?oe.some((Ce,be)=>ar(Ce,Q[be])):ar(oe,Q))){T&&T();const Ce=_o;_o=y;try{const be=[oe,Q===ru?void 0:P&&Q[0]===ru?[]:Q,E];Q=oe,m?m(t,3,be):t(...be)}finally{_o=Ce}}}else y.run()};return h&&h($),y=new Im(x),y.scheduler=u?()=>u($,!1):$,E=W=>ev(W,!1,y),T=y.onStop=()=>{const W=Cu.get(y);if(W){if(m)m(W,4);else for(const oe of W)oe();Cu.delete(y)}},t?i?$(!0):Q=y.run():u?u($.bind(null,!0),!0):y.run(),X.pause=y.pause.bind(y),X.resume=y.resume.bind(y),X.stop=X,X}function vi(e,t=1/0,n){if(t<=0||!Qt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,cn(e))vi(e.value,t,n);else if(dt(e))for(let i=0;i<e.length;i++)vi(e[i],t,n);else if(Bs(e)||vs(e))e.forEach(i=>{vi(i,t,n)});else if(Tm(e)){for(const i in e)vi(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&vi(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rl(e,t,n,i){try{return i?e(...i):e()}catch(a){il(a,t,n)}}function Nr(e,t,n,i){if(xt(e)){const a=rl(e,t,n,i);return a&&Em(a)&&a.catch(s=>{il(s,t,n)}),a}if(dt(e)){const a=[];for(let s=0;s<e.length;s++)a.push(Nr(e[s],t,n,i));return a}}function il(e,t,n,i=!0){const a=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Ht;if(t){let h=t.parent;const m=t.proxy,g=`https://vuejs.org/error-reference/#runtime-${n}`;for(;h;){const y=h.ec;if(y){for(let x=0;x<y.length;x++)if(y[x](e,m,g)===!1)return}h=h.parent}if(s){wi(),rl(s,null,10,[e,m,g]),Li();return}}nv(e,n,a,i,u)}function nv(e,t,n,i=!0,a=!1){if(a)throw e;console.error(e)}const tr=[];let Xr=-1;const xs=[];let zi=null,ms=0;const e_=Promise.resolve();let ku=null;function ol(e){const t=ku||e_;return e?t.then(this?e.bind(this):e):t}function rv(e){let t=Xr+1,n=tr.length;for(;t<n;){const i=t+n>>>1,a=tr[i],s=Ua(a);s<e||s===e&&a.flags&2?t=i+1:n=i}return t}function Bh(e){if(!(e.flags&1)){const t=Ua(e),n=tr[tr.length-1];!n||!(e.flags&2)&&t>=Ua(n)?tr.push(e):tr.splice(rv(t),0,e),e.flags|=1,t_()}}function t_(){ku||(ku=e_.then(n_))}function iv(e){dt(e)?xs.push(...e):zi&&e.id===-1?zi.splice(ms+1,0,e):e.flags&1||(xs.push(e),e.flags|=1),t_()}function pf(e,t,n=Xr+1){for(;n<tr.length;n++){const i=tr[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;tr.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Eu(e){if(xs.length){const t=[...new Set(xs)].sort((n,i)=>Ua(n)-Ua(i));if(xs.length=0,zi){zi.push(...t);return}for(zi=t,ms=0;ms<zi.length;ms++){const n=zi[ms];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zi=null,ms=0}}const Ua=e=>e.id==null?e.flags&2?-1:1/0:e.id;function n_(e){try{for(Xr=0;Xr<tr.length;Xr++){const t=tr[Xr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Xr<tr.length;Xr++){const t=tr[Xr];t&&(t.flags&=-2)}Xr=-1,tr.length=0,Eu(),ku=null,(tr.length||xs.length)&&n_()}}let Nn=null,r_=null;function Mu(e){const t=Nn;return Nn=e,r_=e&&e.type.__scopeId||null,t}function V(e,t=Nn,n){if(!t||e._n)return e;const i=(...a)=>{i._d&&Bu(-1);const s=Mu(t);let u;try{u=e(...a)}finally{Mu(s),i._d&&Bu(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function kn(e,t){if(Nn===null)return e;const n=Wu(Nn),i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,u,h,m=Ht]=t[a];s&&(xt(s)&&(s={mounted:s,updated:s}),s.deep&&vi(u),i.push({dir:s,instance:n,value:u,oldValue:void 0,arg:h,modifiers:m}))}return e}function Qr(e,t,n,i){const a=e.dirs,s=t&&t.dirs;for(let u=0;u<a.length;u++){const h=a[u];s&&(h.oldValue=s[u].value);let m=h.dir[i];m&&(wi(),Nr(m,n,8,[e.el,h,e,t]),Li())}}const i_=Symbol("_vte"),o_=e=>e.__isTeleport,Ba=e=>e&&(e.disabled||e.disabled===""),mf=e=>e&&(e.defer||e.defer===""),_f=e=>typeof SVGElement<"u"&&e instanceof SVGElement,gf=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Hd=(e,t)=>{const n=e&&e.to;return sn(n)?t?t(n):null:n},s_={name:"Teleport",__isTeleport:!0,process(e,t,n,i,a,s,u,h,m,g){const{mc:y,pc:x,pbc:T,o:{insert:E,querySelector:S,createText:P,createComment:U}}=g,X=Ba(t.props);let{shapeFlag:Q,children:$,dynamicChildren:W}=t;if(e==null){const oe=t.el=P(""),Ce=t.anchor=P("");E(oe,n,i),E(Ce,n,i);const be=(Ee,Pe)=>{Q&16&&y($,Ee,Pe,a,s,u,h,m)},Fe=()=>{const Ee=t.target=Hd(t.props,S),Pe=a_(Ee,t,P,E);Ee&&(u!=="svg"&&_f(Ee)?u="svg":u!=="mathml"&&gf(Ee)&&(u="mathml"),a&&a.isCE&&(a.ce._teleportTargets||(a.ce._teleportTargets=new Set)).add(Ee),X||(be(Ee,Pe),du(t,!1)))};X&&(be(n,Ce),du(t,!0)),mf(t.props)?(t.el.__isMounted=!1,er(()=>{Fe(),delete t.el.__isMounted},s)):Fe()}else{if(mf(t.props)&&e.el.__isMounted===!1){er(()=>{s_.process(e,t,n,i,a,s,u,h,m,g)},s);return}t.el=e.el,t.targetStart=e.targetStart;const oe=t.anchor=e.anchor,Ce=t.target=e.target,be=t.targetAnchor=e.targetAnchor,Fe=Ba(e.props),Ee=Fe?n:Ce,Pe=Fe?oe:be;if(u==="svg"||_f(Ce)?u="svg":(u==="mathml"||gf(Ce))&&(u="mathml"),W?(T(e.dynamicChildren,W,Ee,a,s,u,h),jh(e,t,!0)):m||x(e,t,Ee,Pe,a,s,u,h,!1),X)Fe?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):iu(t,n,oe,g,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ze=t.target=Hd(t.props,S);ze&&iu(t,ze,null,g,0)}else Fe&&iu(t,Ce,be,g,1);du(t,X)}},remove(e,t,n,{um:i,o:{remove:a}},s){const{shapeFlag:u,children:h,anchor:m,targetStart:g,targetAnchor:y,target:x,props:T}=e;if(x&&(a(g),a(y)),s&&a(m),u&16){const E=s||!Ba(T);for(let S=0;S<h.length;S++){const P=h[S];i(P,t,n,E,!!P.dynamicChildren)}}},move:iu,hydrate:ov};function iu(e,t,n,{o:{insert:i},m:a},s=2){s===0&&i(e.targetAnchor,t,n);const{el:u,anchor:h,shapeFlag:m,children:g,props:y}=e,x=s===2;if(x&&i(u,t,n),(!x||Ba(y))&&m&16)for(let T=0;T<g.length;T++)a(g[T],t,n,2);x&&i(h,t,n)}function ov(e,t,n,i,a,s,{o:{nextSibling:u,parentNode:h,querySelector:m,insert:g,createText:y}},x){function T(P,U,X,Q){U.anchor=x(u(P),U,h(P),n,i,a,s),U.targetStart=X,U.targetAnchor=Q}const E=t.target=Hd(t.props,m),S=Ba(t.props);if(E){const P=E._lpa||E.firstChild;if(t.shapeFlag&16)if(S)T(e,t,P,P&&u(P));else{t.anchor=u(e);let U=P;for(;U;){if(U&&U.nodeType===8){if(U.data==="teleport start anchor")t.targetStart=U;else if(U.data==="teleport anchor"){t.targetAnchor=U,E._lpa=t.targetAnchor&&u(t.targetAnchor);break}}U=u(U)}t.targetAnchor||a_(E,t,y,g),x(P&&u(P),t,E,n,i,a,s)}du(t,S)}else S&&t.shapeFlag&16&&T(e,t,e,u(e));return t.anchor&&u(t.anchor)}const sv=s_;function du(e,t){const n=e.ctx;if(n&&n.ut){let i,a;for(t?(i=e.el,a=e.anchor):(i=e.targetStart,a=e.targetAnchor);i&&i!==a;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function a_(e,t,n,i){const a=t.targetStart=n(""),s=t.targetAnchor=n("");return a[i_]=s,e&&(i(a,e),i(s,e)),s}const gi=Symbol("_leaveCb"),ou=Symbol("_enterCb");function av(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return an(()=>{e.isMounted=!0}),Pr(()=>{e.isUnmounting=!0}),e}const Er=[Function,Array],l_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Er,onEnter:Er,onAfterEnter:Er,onEnterCancelled:Er,onBeforeLeave:Er,onLeave:Er,onAfterLeave:Er,onLeaveCancelled:Er,onBeforeAppear:Er,onAppear:Er,onAfterAppear:Er,onAppearCancelled:Er},u_=e=>{const t=e.subTree;return t.component?u_(t.component):t},lv={name:"BaseTransition",props:l_,setup(e,{slots:t}){const n=To(),i=av();return()=>{const a=t.default&&h_(t.default(),!0);if(!a||!a.length)return;const s=c_(a),u=$t(e),{mode:h}=u;if(i.isLeaving)return pd(s);const m=yf(s);if(!m)return pd(s);let g=Ud(m,u,i,n,x=>g=x);m.type!==jn&&Ga(m,g);let y=n.subTree&&yf(n.subTree);if(y&&y.type!==jn&&!go(y,m)&&u_(n).type!==jn){let x=Ud(y,u,i,n);if(Ga(y,x),h==="out-in"&&m.type!==jn)return i.isLeaving=!0,x.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete x.afterLeave,y=void 0},pd(s);h==="in-out"&&m.type!==jn?x.delayLeave=(T,E,S)=>{const P=d_(i,y);P[String(y.key)]=y,T[gi]=()=>{E(),T[gi]=void 0,delete g.delayedLeave,y=void 0},g.delayedLeave=()=>{S(),delete g.delayedLeave,y=void 0}}:y=void 0}else y&&(y=void 0);return s}}};function c_(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==jn){t=n;break}}return t}const uv=lv;function d_(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Ud(e,t,n,i,a){const{appear:s,mode:u,persisted:h=!1,onBeforeEnter:m,onEnter:g,onAfterEnter:y,onEnterCancelled:x,onBeforeLeave:T,onLeave:E,onAfterLeave:S,onLeaveCancelled:P,onBeforeAppear:U,onAppear:X,onAfterAppear:Q,onAppearCancelled:$}=t,W=String(e.key),oe=d_(n,e),Ce=(Ee,Pe)=>{Ee&&Nr(Ee,i,9,Pe)},be=(Ee,Pe)=>{const ze=Pe[1];Ce(Ee,Pe),dt(Ee)?Ee.every(Be=>Be.length<=1)&&ze():Ee.length<=1&&ze()},Fe={mode:u,persisted:h,beforeEnter(Ee){let Pe=m;if(!n.isMounted)if(s)Pe=U||m;else return;Ee[gi]&&Ee[gi](!0);const ze=oe[W];ze&&go(e,ze)&&ze.el[gi]&&ze.el[gi](),Ce(Pe,[Ee])},enter(Ee){let Pe=g,ze=y,Be=x;if(!n.isMounted)if(s)Pe=X||g,ze=Q||y,Be=$||x;else return;let rt=!1;const mt=Ee[ou]=Ye=>{rt||(rt=!0,Ye?Ce(Be,[Ee]):Ce(ze,[Ee]),Fe.delayedLeave&&Fe.delayedLeave(),Ee[ou]=void 0)};Pe?be(Pe,[Ee,mt]):mt()},leave(Ee,Pe){const ze=String(e.key);if(Ee[ou]&&Ee[ou](!0),n.isUnmounting)return Pe();Ce(T,[Ee]);let Be=!1;const rt=Ee[gi]=mt=>{Be||(Be=!0,Pe(),mt?Ce(P,[Ee]):Ce(S,[Ee]),Ee[gi]=void 0,oe[ze]===e&&delete oe[ze])};oe[ze]=e,E?be(E,[Ee,rt]):rt()},clone(Ee){const Pe=Ud(Ee,t,n,i,a);return a&&a(Pe),Pe}};return Fe}function pd(e){if(sl(e))return e=Zi(e),e.children=null,e}function yf(e){if(!sl(e))return o_(e.type)&&e.children?c_(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&xt(n.default))return n.default()}}function Ga(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ga(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function h_(e,t=!1,n){let i=[],a=0;for(let s=0;s<e.length;s++){let u=e[s];const h=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Oe?(u.patchFlag&128&&a++,i=i.concat(h_(u.children,t,h))):(t||u.type!==jn)&&i.push(h!=null?Zi(u,{key:h}):u)}if(a>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Et(e,t){return xt(e)?Cn({name:e.name},t,{setup:e}):e}function Ah(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Gu(e){const t=To(),n=Ym(null);if(t){const a=t.refs===Ht?t.refs={}:t.refs;Object.defineProperty(a,e,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}const Tu=new WeakMap;function ws(e,t,n,i,a=!1){if(dt(e)){e.forEach((S,P)=>ws(S,t&&(dt(t)?t[P]:t),n,i,a));return}if(xo(i)&&!a){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&ws(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?Wu(i.component):i.el,u=a?null:s,{i:h,r:m}=e,g=t&&t.r,y=h.refs===Ht?h.refs={}:h.refs,x=h.setupState,T=$t(x),E=x===Ht?km:S=>Kt(T,S);if(g!=null&&g!==m){if(vf(t),sn(g))y[g]=null,E(g)&&(x[g]=null);else if(cn(g)){g.value=null;const S=t;S.k&&(y[S.k]=null)}}if(xt(m))rl(m,h,12,[u,y]);else{const S=sn(m),P=cn(m);if(S||P){const U=()=>{if(e.f){const X=S?E(m)?x[m]:y[m]:m.value;if(a)dt(X)&&xh(X,s);else if(dt(X))X.includes(s)||X.push(s);else if(S)y[m]=[s],E(m)&&(x[m]=y[m]);else{const Q=[s];m.value=Q,e.k&&(y[e.k]=Q)}}else S?(y[m]=u,E(m)&&(x[m]=u)):P&&(m.value=u,e.k&&(y[e.k]=u))};if(u){const X=()=>{U(),Tu.delete(e)};X.id=-1,Tu.set(e,X),er(X,n)}else vf(e),U()}}}function vf(e){const t=Tu.get(e);t&&(t.flags|=8,Tu.delete(e))}let bf=!1;const ds=()=>{bf||(console.error("Hydration completed but contains mismatches."),bf=!0)},cv=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",dv=e=>e.namespaceURI.includes("MathML"),su=e=>{if(e.nodeType===1){if(cv(e))return"svg";if(dv(e))return"mathml"}},gs=e=>e.nodeType===8;function hv(e){const{mt:t,p:n,o:{patchProp:i,createText:a,nextSibling:s,parentNode:u,remove:h,insert:m,createComment:g}}=e,y=($,W)=>{if(!W.hasChildNodes()){n(null,$,W),Eu(),W._vnode=$;return}x(W.firstChild,$,null,null,null),Eu(),W._vnode=$},x=($,W,oe,Ce,be,Fe=!1)=>{Fe=Fe||!!W.dynamicChildren;const Ee=gs($)&&$.data==="[",Pe=()=>P($,W,oe,Ce,be,Ee),{type:ze,ref:Be,shapeFlag:rt,patchFlag:mt}=W;let Ye=$.nodeType;W.el=$,mt===-2&&(Fe=!1,W.dynamicChildren=null);let Ue=null;switch(ze){case Lo:Ye!==3?W.children===""?(m(W.el=a(""),u($),$),Ue=$):Ue=Pe():($.data!==W.children&&(ds(),$.data=W.children),Ue=s($));break;case jn:Q($)?(Ue=s($),X(W.el=$.content.firstChild,$,oe)):Ye!==8||Ee?Ue=Pe():Ue=s($);break;case Ra:if(Ee&&($=s($),Ye=$.nodeType),Ye===1||Ye===3){Ue=$;const ot=!W.children.length;for(let Ae=0;Ae<W.staticCount;Ae++)ot&&(W.children+=Ue.nodeType===1?Ue.outerHTML:Ue.data),Ae===W.staticCount-1&&(W.anchor=Ue),Ue=s(Ue);return Ee?s(Ue):Ue}else Pe();break;case Oe:Ee?Ue=S($,W,oe,Ce,be,Fe):Ue=Pe();break;default:if(rt&1)(Ye!==1||W.type.toLowerCase()!==$.tagName.toLowerCase())&&!Q($)?Ue=Pe():Ue=T($,W,oe,Ce,be,Fe);else if(rt&6){W.slotScopeIds=be;const ot=u($);if(Ee?Ue=U($):gs($)&&$.data==="teleport start"?Ue=U($,$.data,"teleport end"):Ue=s($),t(W,ot,null,oe,Ce,su(ot),Fe),xo(W)&&!W.type.__asyncResolved){let Ae;Ee?(Ae=I(Oe),Ae.anchor=Ue?Ue.previousSibling:ot.lastChild):Ae=$.nodeType===3?we(""):I("div"),Ae.el=$,W.component.subTree=Ae}}else rt&64?Ye!==8?Ue=Pe():Ue=W.type.hydrate($,W,oe,Ce,be,Fe,e,E):rt&128&&(Ue=W.type.hydrate($,W,oe,Ce,su(u($)),be,Fe,e,x))}return Be!=null&&ws(Be,null,Ce,W),Ue},T=($,W,oe,Ce,be,Fe)=>{Fe=Fe||!!W.dynamicChildren;const{type:Ee,props:Pe,patchFlag:ze,shapeFlag:Be,dirs:rt,transition:mt}=W,Ye=Ee==="input"||Ee==="option";if(Ye||ze!==-1){rt&&Qr(W,null,oe,"created");let Ue=!1;if(Q($)){Ue=R_(null,mt)&&oe&&oe.vnode.props&&oe.vnode.props.appear;const Ae=$.content.firstChild;if(Ue){const Ut=Ae.getAttribute("class");Ut&&(Ae.$cls=Ut),mt.beforeEnter(Ae)}X(Ae,$,oe),W.el=$=Ae}if(Be&16&&!(Pe&&(Pe.innerHTML||Pe.textContent))){let Ae=E($.firstChild,W,$,oe,Ce,be,Fe);for(;Ae;){au($,1)||ds();const Ut=Ae;Ae=Ae.nextSibling,h(Ut)}}else if(Be&8){let Ae=W.children;Ae[0]===`
`&&($.tagName==="PRE"||$.tagName==="TEXTAREA")&&(Ae=Ae.slice(1)),$.textContent!==Ae&&(au($,0)||ds(),$.textContent=W.children)}if(Pe){if(Ye||!Fe||ze&48){const Ae=$.tagName.includes("-");for(const Ut in Pe)(Ye&&(Ut.endsWith("value")||Ut==="indeterminate")||el(Ut)&&!bs(Ut)||Ut[0]==="."||Ae)&&i($,Ut,null,Pe[Ut],void 0,oe)}else if(Pe.onClick)i($,"onClick",null,Pe.onClick,void 0,oe);else if(ze&4&&bi(Pe.style))for(const Ae in Pe.style)Pe.style[Ae]}let ot;(ot=Pe&&Pe.onVnodeBeforeMount)&&Mr(ot,oe,W),rt&&Qr(W,null,oe,"beforeMount"),((ot=Pe&&Pe.onVnodeMounted)||rt||Ue)&&$_(()=>{ot&&Mr(ot,oe,W),Ue&&mt.enter($),rt&&Qr(W,null,oe,"mounted")},Ce)}return $.nextSibling},E=($,W,oe,Ce,be,Fe,Ee)=>{Ee=Ee||!!W.dynamicChildren;const Pe=W.children,ze=Pe.length;for(let Be=0;Be<ze;Be++){const rt=Ee?Pe[Be]:Pe[Be]=Tr(Pe[Be]),mt=rt.type===Lo;$?(mt&&!Ee&&Be+1<ze&&Tr(Pe[Be+1]).type===Lo&&(m(a($.data.slice(rt.children.length)),oe,s($)),$.data=rt.children),$=x($,rt,Ce,be,Fe,Ee)):mt&&!rt.children?m(rt.el=a(""),oe):(au(oe,1)||ds(),n(null,rt,oe,null,Ce,be,su(oe),Fe))}return $},S=($,W,oe,Ce,be,Fe)=>{const{slotScopeIds:Ee}=W;Ee&&(be=be?be.concat(Ee):Ee);const Pe=u($),ze=E(s($),W,Pe,oe,Ce,be,Fe);return ze&&gs(ze)&&ze.data==="]"?s(W.anchor=ze):(ds(),m(W.anchor=g("]"),Pe,ze),ze)},P=($,W,oe,Ce,be,Fe)=>{if(au($.parentElement,1)||ds(),W.el=null,Fe){const ze=U($);for(;;){const Be=s($);if(Be&&Be!==ze)h(Be);else break}}const Ee=s($),Pe=u($);return h($),n(null,W,Pe,Ee,oe,Ce,su(Pe),be),oe&&(oe.vnode.el=W.el,N_(oe,W.el)),Ee},U=($,W="[",oe="]")=>{let Ce=0;for(;$;)if($=s($),$&&gs($)&&($.data===W&&Ce++,$.data===oe)){if(Ce===0)return s($);Ce--}return $},X=($,W,oe)=>{const Ce=W.parentNode;Ce&&Ce.replaceChild($,W);let be=oe;for(;be;)be.vnode.el===W&&(be.vnode.el=be.subTree.el=$),be=be.parent},Q=$=>$.nodeType===1&&$.tagName==="TEMPLATE";return[y,x]}const xf="data-allow-mismatch",fv={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function au(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(xf);)e=e.parentElement;const n=e&&e.getAttribute(xf);if(n==null)return!1;if(n==="")return!0;{const i=n.split(",");return t===0&&i.includes("children")?!0:i.includes(fv[t])}}zu().requestIdleCallback;zu().cancelIdleCallback;function pv(e,t){if(gs(e)&&e.data==="["){let n=1,i=e.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(gs(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else t(e)}const xo=e=>!!e.type.__asyncLoader;function f_(e){xt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:a=200,hydrate:s,timeout:u,suspensible:h=!0,onError:m}=e;let g=null,y,x=0;const T=()=>(x++,g=null,E()),E=()=>{let S;return g||(S=g=t().catch(P=>{if(P=P instanceof Error?P:new Error(String(P)),m)return new Promise((U,X)=>{m(P,()=>U(T()),()=>X(P),x+1)});throw P}).then(P=>S!==g&&g?g:(P&&(P.__esModule||P[Symbol.toStringTag]==="Module")&&(P=P.default),y=P,P)))};return Et({name:"AsyncComponentWrapper",__asyncLoader:E,__asyncHydrate(S,P,U){let X=!1;(P.bu||(P.bu=[])).push(()=>X=!0);const Q=()=>{X||U()},$=s?()=>{const W=s(Q,oe=>pv(S,oe));W&&(P.bum||(P.bum=[])).push(W)}:Q;y?$():E().then(()=>!P.isUnmounted&&$())},get __asyncResolved(){return y},setup(){const S=Fn;if(Ah(S),y)return()=>md(y,S);const P=$=>{g=null,il($,S,13,!i)};if(h&&S.suspense||ks)return E().then($=>()=>md($,S)).catch($=>(P($),()=>i?I(i,{error:$}):null));const U=Me(!1),X=Me(),Q=Me(!!a);return a&&setTimeout(()=>{Q.value=!1},a),u!=null&&setTimeout(()=>{if(!U.value&&!X.value){const $=new Error(`Async component timed out after ${u}ms.`);P($),X.value=$}},u),E().then(()=>{U.value=!0,S.parent&&sl(S.parent.vnode)&&S.parent.update()}).catch($=>{P($),X.value=$}),()=>{if(U.value&&y)return md(y,S);if(X.value&&i)return I(i,{error:X.value});if(n&&!Q.value)return I(n)}}})}function md(e,t){const{ref:n,props:i,children:a,ce:s}=t.vnode,u=I(e,i,a);return u.ref=n,u.ce=s,delete t.vnode.ce,u}const sl=e=>e.type.__isKeepAlive;function p_(e,t){__(e,"a",t)}function m_(e,t){__(e,"da",t)}function __(e,t,n=Fn){const i=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(qu(t,i,n),n){let a=n.parent;for(;a&&a.parent;)sl(a.parent.vnode)&&mv(i,t,n,a),a=a.parent}}function mv(e,t,n,i){const a=qu(t,e,i,!0);ni(()=>{xh(i[t],a)},n)}function qu(e,t,n=Fn,i=!1){if(n){const a=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{wi();const h=al(n),m=Nr(t,n,e,u);return h(),Li(),m});return i?a.unshift(s):a.push(s),s}}const ki=e=>(t,n=Fn)=>{(!ks||e==="sp")&&qu(e,(...i)=>t(...i),n)},Oh=ki("bm"),an=ki("m"),_v=ki("bu"),gv=ki("u"),Pr=ki("bum"),ni=ki("um"),Rh=ki("sp"),yv=ki("rtg"),vv=ki("rtc");function bv(e,t=Fn){qu("ec",e,t)}const g_="components";function Z(e,t){return v_(g_,e,!0,t)||e}const y_=Symbol.for("v-ndc");function Wi(e){return sn(e)?v_(g_,e,!1)||e:e||y_}function v_(e,t,n=!0,i=!1){const a=Nn||Fn;if(a){const s=a.type;{const h=ob(s,!1);if(h&&(h===t||h===_r(t)||h===$u(_r(t))))return s}const u=wf(a[e]||s[e],t)||wf(a.appContext[e],t);return!u&&i?s:u}}function wf(e,t){return e&&(e[t]||e[_r(t)]||e[$u(_r(t))])}function et(e,t,n,i){let a;const s=n,u=dt(e);if(u||sn(e)){const h=u&&bi(e);let m=!1,g=!1;h&&(m=!Sr(e),g=qi(e),e=Uu(e)),a=new Array(e.length);for(let y=0,x=e.length;y<x;y++)a[y]=t(m?g?Lu(In(e[y])):In(e[y]):e[y],y,void 0,s)}else if(typeof e=="number"){a=new Array(e);for(let h=0;h<e;h++)a[h]=t(h+1,h,void 0,s)}else if(Qt(e))if(e[Symbol.iterator])a=Array.from(e,(h,m)=>t(h,m,void 0,s));else{const h=Object.keys(e);a=new Array(h.length);for(let m=0,g=h.length;m<g;m++){const y=h[m];a[m]=t(e[y],y,m,s)}}else a=[];return a}function pt(e,t,n={},i,a){if(Nn.ce||Nn.parent&&xo(Nn.parent)&&Nn.parent.ce){const g=Object.keys(n).length>0;return t!=="default"&&(n.name=t),C(),ae(Oe,null,[I("slot",n,i&&i())],g?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),C();const u=s&&b_(s(n)),h=n.key||u&&u.key,m=ae(Oe,{key:(h&&!Fr(h)?h:`_${t}`)+(!u&&i?"_fb":"")},u||(i?i():[]),u&&e._===1?64:-2);return!a&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),s&&s._c&&(s._d=!0),m}function b_(e){return e.some(t=>Za(t)?!(t.type===jn||t.type===Oe&&!b_(t.children)):!0)?e:null}const Gd=e=>e?U_(e)?Wu(e):Gd(e.parent):null,Aa=Cn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gd(e.parent),$root:e=>Gd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>w_(e),$forceUpdate:e=>e.f||(e.f=()=>{Bh(e.update)}),$nextTick:e=>e.n||(e.n=ol.bind(e.proxy)),$watch:e=>Uv.bind(e)}),_d=(e,t)=>e!==Ht&&!e.__isScriptSetup&&Kt(e,t),xv={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:a,props:s,accessCache:u,type:h,appContext:m}=e;let g;if(t[0]!=="$"){const E=u[t];if(E!==void 0)switch(E){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(_d(i,t))return u[t]=1,i[t];if(a!==Ht&&Kt(a,t))return u[t]=2,a[t];if((g=e.propsOptions[0])&&Kt(g,t))return u[t]=3,s[t];if(n!==Ht&&Kt(n,t))return u[t]=4,n[t];qd&&(u[t]=0)}}const y=Aa[t];let x,T;if(y)return t==="$attrs"&&Zn(e.attrs,"get",""),y(e);if((x=h.__cssModules)&&(x=x[t]))return x;if(n!==Ht&&Kt(n,t))return u[t]=4,n[t];if(T=m.config.globalProperties,Kt(T,t))return T[t]},set({_:e},t,n){const{data:i,setupState:a,ctx:s}=e;return _d(a,t)?(a[t]=n,!0):i!==Ht&&Kt(i,t)?(i[t]=n,!0):Kt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:a,propsOptions:s,type:u}},h){let m,g;return!!(n[h]||e!==Ht&&h[0]!=="$"&&Kt(e,h)||_d(t,h)||(m=s[0])&&Kt(m,h)||Kt(i,h)||Kt(Aa,h)||Kt(a.config.globalProperties,h)||(g=u.__cssModules)&&g[h])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Kt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function wv(){return Lv().slots}function Lv(e){const t=To();return t.setupContext||(t.setupContext=q_(t))}function Su(e){return dt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Cs(e,t){return!e||!t?e||t:dt(e)&&dt(t)?e.concat(t):Cn({},Su(e),Su(t))}let qd=!0;function Cv(e){const t=w_(e),n=e.proxy,i=e.ctx;qd=!1,t.beforeCreate&&Lf(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:u,watch:h,provide:m,inject:g,created:y,beforeMount:x,mounted:T,beforeUpdate:E,updated:S,activated:P,deactivated:U,beforeDestroy:X,beforeUnmount:Q,destroyed:$,unmounted:W,render:oe,renderTracked:Ce,renderTriggered:be,errorCaptured:Fe,serverPrefetch:Ee,expose:Pe,inheritAttrs:ze,components:Be,directives:rt,filters:mt}=t;if(g&&kv(g,i,null),u)for(const ot in u){const Ae=u[ot];xt(Ae)&&(i[ot]=Ae.bind(n))}if(a){const ot=a.call(n,n);Qt(ot)&&(e.data=As(ot))}if(qd=!0,s)for(const ot in s){const Ae=s[ot],Ut=xt(Ae)?Ae.bind(n,n):xt(Ae.get)?Ae.get.bind(n,n):ei,lt=!xt(Ae)&&xt(Ae.set)?Ae.set.bind(n):ei,wt=He({get:Ut,set:lt});Object.defineProperty(i,ot,{enumerable:!0,configurable:!0,get:()=>wt.value,set:At=>wt.value=At})}if(h)for(const ot in h)x_(h[ot],i,n,ot);if(m){const ot=xt(m)?m.call(n):m;Reflect.ownKeys(ot).forEach(Ae=>{Oa(Ae,ot[Ae])})}y&&Lf(y,e,"c");function Ue(ot,Ae){dt(Ae)?Ae.forEach(Ut=>ot(Ut.bind(n))):Ae&&ot(Ae.bind(n))}if(Ue(Oh,x),Ue(an,T),Ue(_v,E),Ue(gv,S),Ue(p_,P),Ue(m_,U),Ue(bv,Fe),Ue(vv,Ce),Ue(yv,be),Ue(Pr,Q),Ue(ni,W),Ue(Rh,Ee),dt(Pe))if(Pe.length){const ot=e.exposed||(e.exposed={});Pe.forEach(Ae=>{Object.defineProperty(ot,Ae,{get:()=>n[Ae],set:Ut=>n[Ae]=Ut,enumerable:!0})})}else e.exposed||(e.exposed={});oe&&e.render===ei&&(e.render=oe),ze!=null&&(e.inheritAttrs=ze),Be&&(e.components=Be),rt&&(e.directives=rt),Ee&&Ah(e)}function kv(e,t,n=ei){dt(e)&&(e=Zd(e));for(const i in e){const a=e[i];let s;Qt(a)?"default"in a?s=Bn(a.from||i,a.default,!0):s=Bn(a.from||i):s=Bn(a),cn(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[i]=s}}function Lf(e,t,n){Nr(dt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function x_(e,t,n,i){let a=i.includes(".")?I_(n,i):()=>n[i];if(sn(e)){const s=t[e];xt(s)&&on(a,s)}else if(xt(e))on(a,e.bind(n));else if(Qt(e))if(dt(e))e.forEach(s=>x_(s,t,n,i));else{const s=xt(e.handler)?e.handler.bind(n):t[e.handler];xt(s)&&on(a,s,e)}}function w_(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:a,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,h=s.get(t);let m;return h?m=h:!a.length&&!n&&!i?m=t:(m={},a.length&&a.forEach(g=>Pu(m,g,u,!0)),Pu(m,t,u)),Qt(t)&&s.set(t,m),m}function Pu(e,t,n,i=!1){const{mixins:a,extends:s}=t;s&&Pu(e,s,n,!0),a&&a.forEach(u=>Pu(e,u,n,!0));for(const u in t)if(!(i&&u==="expose")){const h=Ev[u]||n&&n[u];e[u]=h?h(e[u],t[u]):t[u]}return e}const Ev={data:Cf,props:kf,emits:kf,methods:Ca,computed:Ca,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:Ca,directives:Ca,watch:Tv,provide:Cf,inject:Mv};function Cf(e,t){return t?e?function(){return Cn(xt(e)?e.call(this,this):e,xt(t)?t.call(this,this):t)}:t:e}function Mv(e,t){return Ca(Zd(e),Zd(t))}function Zd(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Qn(e,t){return e?[...new Set([].concat(e,t))]:t}function Ca(e,t){return e?Cn(Object.create(null),e,t):t}function kf(e,t){return e?dt(e)&&dt(t)?[...new Set([...e,...t])]:Cn(Object.create(null),Su(e),Su(t??{})):t}function Tv(e,t){if(!e)return t;if(!t)return e;const n=Cn(Object.create(null),e);for(const i in t)n[i]=Qn(e[i],t[i]);return n}function L_(){return{app:null,config:{isNativeTag:km,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sv=0;function Pv(e,t){return function(i,a=null){xt(i)||(i=Cn({},i)),a!=null&&!Qt(a)&&(a=null);const s=L_(),u=new WeakSet,h=[];let m=!1;const g=s.app={_uid:Sv++,_component:i,_props:a,_container:null,_context:s,_instance:null,version:ab,get config(){return s.config},set config(y){},use(y,...x){return u.has(y)||(y&&xt(y.install)?(u.add(y),y.install(g,...x)):xt(y)&&(u.add(y),y(g,...x))),g},mixin(y){return s.mixins.includes(y)||s.mixins.push(y),g},component(y,x){return x?(s.components[y]=x,g):s.components[y]},directive(y,x){return x?(s.directives[y]=x,g):s.directives[y]},mount(y,x,T){if(!m){const E=g._ceVNode||I(i,a);return E.appContext=s,T===!0?T="svg":T===!1&&(T=void 0),x&&t?t(E,y):e(E,y,T),m=!0,g._container=y,y.__vue_app__=g,Wu(E.component)}},onUnmount(y){h.push(y)},unmount(){m&&(Nr(h,g._instance,16),e(null,g._container),delete g._container.__vue_app__)},provide(y,x){return s.provides[y]=x,g},runWithContext(y){const x=wo;wo=g;try{return y()}finally{wo=x}}};return g}}let wo=null;function Oa(e,t){if(Fn){let n=Fn.provides;const i=Fn.parent&&Fn.parent.provides;i===n&&(n=Fn.provides=Object.create(i)),n[e]=t}}function Bn(e,t,n=!1){const i=To();if(i||wo){let a=wo?wo._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&xt(t)?t.call(i&&i.proxy):t}}function C_(){return!!(To()||wo)}const k_={},E_=()=>Object.create(k_),M_=e=>Object.getPrototypeOf(e)===k_;function Bv(e,t,n,i=!1){const a={},s=E_();e.propsDefaults=Object.create(null),T_(e,t,a,s);for(const u in e.propsOptions[0])u in a||(a[u]=void 0);n?e.props=i?a:Jm(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function Av(e,t,n,i){const{props:a,attrs:s,vnode:{patchFlag:u}}=e,h=$t(a),[m]=e.propsOptions;let g=!1;if((i||u>0)&&!(u&16)){if(u&8){const y=e.vnode.dynamicProps;for(let x=0;x<y.length;x++){let T=y[x];if(Ku(e.emitsOptions,T))continue;const E=t[T];if(m)if(Kt(s,T))E!==s[T]&&(s[T]=E,g=!0);else{const S=_r(T);a[S]=Kd(m,h,S,E,e,!1)}else E!==s[T]&&(s[T]=E,g=!0)}}}else{T_(e,t,a,s)&&(g=!0);let y;for(const x in h)(!t||!Kt(t,x)&&((y=Ci(x))===x||!Kt(t,y)))&&(m?n&&(n[x]!==void 0||n[y]!==void 0)&&(a[x]=Kd(m,h,x,void 0,e,!0)):delete a[x]);if(s!==h)for(const x in s)(!t||!Kt(t,x))&&(delete s[x],g=!0)}g&&yi(e.attrs,"set","")}function T_(e,t,n,i){const[a,s]=e.propsOptions;let u=!1,h;if(t)for(let m in t){if(bs(m))continue;const g=t[m];let y;a&&Kt(a,y=_r(m))?!s||!s.includes(y)?n[y]=g:(h||(h={}))[y]=g:Ku(e.emitsOptions,m)||(!(m in i)||g!==i[m])&&(i[m]=g,u=!0)}if(s){const m=$t(n),g=h||Ht;for(let y=0;y<s.length;y++){const x=s[y];n[x]=Kd(a,m,x,g[x],e,!Kt(g,x))}}return u}function Kd(e,t,n,i,a,s){const u=e[n];if(u!=null){const h=Kt(u,"default");if(h&&i===void 0){const m=u.default;if(u.type!==Function&&!u.skipFactory&&xt(m)){const{propsDefaults:g}=a;if(n in g)i=g[n];else{const y=al(a);i=g[n]=m.call(null,t),y()}}else i=m;a.ce&&a.ce._setProp(n,i)}u[0]&&(s&&!h?i=!1:u[1]&&(i===""||i===Ci(n))&&(i=!0))}return i}const Ov=new WeakMap;function S_(e,t,n=!1){const i=n?Ov:t.propsCache,a=i.get(e);if(a)return a;const s=e.props,u={},h=[];let m=!1;if(!xt(e)){const y=x=>{m=!0;const[T,E]=S_(x,t,!0);Cn(u,T),E&&h.push(...E)};!n&&t.mixins.length&&t.mixins.forEach(y),e.extends&&y(e.extends),e.mixins&&e.mixins.forEach(y)}if(!s&&!m)return Qt(e)&&i.set(e,ys),ys;if(dt(s))for(let y=0;y<s.length;y++){const x=_r(s[y]);Ef(x)&&(u[x]=Ht)}else if(s)for(const y in s){const x=_r(y);if(Ef(x)){const T=s[y],E=u[x]=dt(T)||xt(T)?{type:T}:Cn({},T),S=E.type;let P=!1,U=!0;if(dt(S))for(let X=0;X<S.length;++X){const Q=S[X],$=xt(Q)&&Q.name;if($==="Boolean"){P=!0;break}else $==="String"&&(U=!1)}else P=xt(S)&&S.name==="Boolean";E[0]=P,E[1]=U,(P||Kt(E,"default"))&&h.push(x)}}const g=[u,h];return Qt(e)&&i.set(e,g),g}function Ef(e){return e[0]!=="$"&&!bs(e)}const Dh=e=>e==="_"||e==="_ctx"||e==="$stable",Ih=e=>dt(e)?e.map(Tr):[Tr(e)],Rv=(e,t,n)=>{if(t._n)return t;const i=V((...a)=>Ih(t(...a)),n);return i._c=!1,i},P_=(e,t,n)=>{const i=e._ctx;for(const a in e){if(Dh(a))continue;const s=e[a];if(xt(s))t[a]=Rv(a,s,i);else if(s!=null){const u=Ih(s);t[a]=()=>u}}},B_=(e,t)=>{const n=Ih(t);e.slots.default=()=>n},A_=(e,t,n)=>{for(const i in t)(n||!Dh(i))&&(e[i]=t[i])},Dv=(e,t,n)=>{const i=e.slots=E_();if(e.vnode.shapeFlag&32){const a=t._;a?(A_(i,t,n),n&&Sm(i,"_",a,!0)):P_(t,i)}else t&&B_(e,t)},Iv=(e,t,n)=>{const{vnode:i,slots:a}=e;let s=!0,u=Ht;if(i.shapeFlag&32){const h=t._;h?n&&h===1?s=!1:A_(a,t,n):(s=!t.$stable,P_(t,a)),u=t}else t&&(B_(e,t),u={default:1});if(s)for(const h in a)!Dh(h)&&u[h]==null&&delete a[h]},er=$_;function jv(e){return O_(e)}function Fv(e){return O_(e,hv)}function O_(e,t){const n=zu();n.__VUE__=!0;const{insert:i,remove:a,patchProp:s,createElement:u,createText:h,createComment:m,setText:g,setElementText:y,parentNode:x,nextSibling:T,setScopeId:E=ei,insertStaticContent:S}=e,P=(K,te,ye,Ne=null,Se=null,je=null,Ke=void 0,qe=null,Ge=!!te.dynamicChildren)=>{if(K===te)return;K&&!go(K,te)&&(Ne=Te(K),At(K,Se,je,!0),K=null),te.patchFlag===-2&&(Ge=!1,te.dynamicChildren=null);const{type:$e,ref:ht,shapeFlag:Xe}=te;switch($e){case Lo:U(K,te,ye,Ne);break;case jn:X(K,te,ye,Ne);break;case Ra:K==null&&Q(te,ye,Ne,Ke);break;case Oe:Be(K,te,ye,Ne,Se,je,Ke,qe,Ge);break;default:Xe&1?oe(K,te,ye,Ne,Se,je,Ke,qe,Ge):Xe&6?rt(K,te,ye,Ne,Se,je,Ke,qe,Ge):(Xe&64||Xe&128)&&$e.process(K,te,ye,Ne,Se,je,Ke,qe,Ge,st)}ht!=null&&Se?ws(ht,K&&K.ref,je,te||K,!te):ht==null&&K&&K.ref!=null&&ws(K.ref,null,je,K,!0)},U=(K,te,ye,Ne)=>{if(K==null)i(te.el=h(te.children),ye,Ne);else{const Se=te.el=K.el;te.children!==K.children&&g(Se,te.children)}},X=(K,te,ye,Ne)=>{K==null?i(te.el=m(te.children||""),ye,Ne):te.el=K.el},Q=(K,te,ye,Ne)=>{[K.el,K.anchor]=S(K.children,te,ye,Ne,K.el,K.anchor)},$=({el:K,anchor:te},ye,Ne)=>{let Se;for(;K&&K!==te;)Se=T(K),i(K,ye,Ne),K=Se;i(te,ye,Ne)},W=({el:K,anchor:te})=>{let ye;for(;K&&K!==te;)ye=T(K),a(K),K=ye;a(te)},oe=(K,te,ye,Ne,Se,je,Ke,qe,Ge)=>{te.type==="svg"?Ke="svg":te.type==="math"&&(Ke="mathml"),K==null?Ce(te,ye,Ne,Se,je,Ke,qe,Ge):Ee(K,te,Se,je,Ke,qe,Ge)},Ce=(K,te,ye,Ne,Se,je,Ke,qe)=>{let Ge,$e;const{props:ht,shapeFlag:Xe,transition:ut,dirs:_t}=K;if(Ge=K.el=u(K.type,je,ht&&ht.is,ht),Xe&8?y(Ge,K.children):Xe&16&&Fe(K.children,Ge,null,Ne,Se,gd(K,je),Ke,qe),_t&&Qr(K,null,Ne,"created"),be(Ge,K,K.scopeId,Ke,Ne),ht){for(const Gt in ht)Gt!=="value"&&!bs(Gt)&&s(Ge,Gt,null,ht[Gt],je,Ne);"value"in ht&&s(Ge,"value",null,ht.value,je),($e=ht.onVnodeBeforeMount)&&Mr($e,Ne,K)}_t&&Qr(K,null,Ne,"beforeMount");const Pt=R_(Se,ut);Pt&&ut.beforeEnter(Ge),i(Ge,te,ye),(($e=ht&&ht.onVnodeMounted)||Pt||_t)&&er(()=>{$e&&Mr($e,Ne,K),Pt&&ut.enter(Ge),_t&&Qr(K,null,Ne,"mounted")},Se)},be=(K,te,ye,Ne,Se)=>{if(ye&&E(K,ye),Ne)for(let je=0;je<Ne.length;je++)E(K,Ne[je]);if(Se){let je=Se.subTree;if(te===je||V_(je.type)&&(je.ssContent===te||je.ssFallback===te)){const Ke=Se.vnode;be(K,Ke,Ke.scopeId,Ke.slotScopeIds,Se.parent)}}},Fe=(K,te,ye,Ne,Se,je,Ke,qe,Ge=0)=>{for(let $e=Ge;$e<K.length;$e++){const ht=K[$e]=qe?Hi(K[$e]):Tr(K[$e]);P(null,ht,te,ye,Ne,Se,je,Ke,qe)}},Ee=(K,te,ye,Ne,Se,je,Ke)=>{const qe=te.el=K.el;let{patchFlag:Ge,dynamicChildren:$e,dirs:ht}=te;Ge|=K.patchFlag&16;const Xe=K.props||Ht,ut=te.props||Ht;let _t;if(ye&&ho(ye,!1),(_t=ut.onVnodeBeforeUpdate)&&Mr(_t,ye,te,K),ht&&Qr(te,K,ye,"beforeUpdate"),ye&&ho(ye,!0),(Xe.innerHTML&&ut.innerHTML==null||Xe.textContent&&ut.textContent==null)&&y(qe,""),$e?Pe(K.dynamicChildren,$e,qe,ye,Ne,gd(te,Se),je):Ke||Ae(K,te,qe,null,ye,Ne,gd(te,Se),je,!1),Ge>0){if(Ge&16)ze(qe,Xe,ut,ye,Se);else if(Ge&2&&Xe.class!==ut.class&&s(qe,"class",null,ut.class,Se),Ge&4&&s(qe,"style",Xe.style,ut.style,Se),Ge&8){const Pt=te.dynamicProps;for(let Gt=0;Gt<Pt.length;Gt++){const Ft=Pt[Gt],yn=Xe[Ft],pn=ut[Ft];(pn!==yn||Ft==="value")&&s(qe,Ft,yn,pn,Se,ye)}}Ge&1&&K.children!==te.children&&y(qe,te.children)}else!Ke&&$e==null&&ze(qe,Xe,ut,ye,Se);((_t=ut.onVnodeUpdated)||ht)&&er(()=>{_t&&Mr(_t,ye,te,K),ht&&Qr(te,K,ye,"updated")},Ne)},Pe=(K,te,ye,Ne,Se,je,Ke)=>{for(let qe=0;qe<te.length;qe++){const Ge=K[qe],$e=te[qe],ht=Ge.el&&(Ge.type===Oe||!go(Ge,$e)||Ge.shapeFlag&198)?x(Ge.el):ye;P(Ge,$e,ht,null,Ne,Se,je,Ke,!0)}},ze=(K,te,ye,Ne,Se)=>{if(te!==ye){if(te!==Ht)for(const je in te)!bs(je)&&!(je in ye)&&s(K,je,te[je],null,Se,Ne);for(const je in ye){if(bs(je))continue;const Ke=ye[je],qe=te[je];Ke!==qe&&je!=="value"&&s(K,je,qe,Ke,Se,Ne)}"value"in ye&&s(K,"value",te.value,ye.value,Se)}},Be=(K,te,ye,Ne,Se,je,Ke,qe,Ge)=>{const $e=te.el=K?K.el:h(""),ht=te.anchor=K?K.anchor:h("");let{patchFlag:Xe,dynamicChildren:ut,slotScopeIds:_t}=te;_t&&(qe=qe?qe.concat(_t):_t),K==null?(i($e,ye,Ne),i(ht,ye,Ne),Fe(te.children||[],ye,ht,Se,je,Ke,qe,Ge)):Xe>0&&Xe&64&&ut&&K.dynamicChildren?(Pe(K.dynamicChildren,ut,ye,Se,je,Ke,qe),(te.key!=null||Se&&te===Se.subTree)&&jh(K,te,!0)):Ae(K,te,ye,ht,Se,je,Ke,qe,Ge)},rt=(K,te,ye,Ne,Se,je,Ke,qe,Ge)=>{te.slotScopeIds=qe,K==null?te.shapeFlag&512?Se.ctx.activate(te,ye,Ne,Ke,Ge):mt(te,ye,Ne,Se,je,Ke,Ge):Ye(K,te,Ge)},mt=(K,te,ye,Ne,Se,je,Ke)=>{const qe=K.component=tb(K,Ne,Se);if(sl(K)&&(qe.ctx.renderer=st),nb(qe,!1,Ke),qe.asyncDep){if(Se&&Se.registerDep(qe,Ue,Ke),!K.el){const Ge=qe.subTree=I(jn);X(null,Ge,te,ye),K.placeholder=Ge.el}}else Ue(qe,K,te,ye,Se,je,Ke)},Ye=(K,te,ye)=>{const Ne=te.component=K.component;if(Wv(K,te,ye))if(Ne.asyncDep&&!Ne.asyncResolved){ot(Ne,te,ye);return}else Ne.next=te,Ne.update();else te.el=K.el,Ne.vnode=te},Ue=(K,te,ye,Ne,Se,je,Ke)=>{const qe=()=>{if(K.isMounted){let{next:Xe,bu:ut,u:_t,parent:Pt,vnode:Gt}=K;{const En=D_(K);if(En){Xe&&(Xe.el=Gt.el,ot(K,Xe,Ke)),En.asyncDep.then(()=>{K.isUnmounted||qe()});return}}let Ft=Xe,yn;ho(K,!1),Xe?(Xe.el=Gt.el,ot(K,Xe,Ke)):Xe=Gt,ut&&cu(ut),(yn=Xe.props&&Xe.props.onVnodeBeforeUpdate)&&Mr(yn,Pt,Xe,Gt),ho(K,!0);const pn=yd(K),vn=K.subTree;K.subTree=pn,P(vn,pn,x(vn.el),Te(vn),K,Se,je),Xe.el=pn.el,Ft===null&&N_(K,pn.el),_t&&er(_t,Se),(yn=Xe.props&&Xe.props.onVnodeUpdated)&&er(()=>Mr(yn,Pt,Xe,Gt),Se)}else{let Xe;const{el:ut,props:_t}=te,{bm:Pt,m:Gt,parent:Ft,root:yn,type:pn}=K,vn=xo(te);if(ho(K,!1),Pt&&cu(Pt),!vn&&(Xe=_t&&_t.onVnodeBeforeMount)&&Mr(Xe,Ft,te),ho(K,!0),ut&&zt){const En=()=>{K.subTree=yd(K),zt(ut,K.subTree,K,Se,null)};vn&&pn.__asyncHydrate?pn.__asyncHydrate(ut,K,En):En()}else{yn.ce&&yn.ce._def.shadowRoot!==!1&&yn.ce._injectChildStyle(pn);const En=K.subTree=yd(K);P(null,En,ye,Ne,K,Se,je),te.el=En.el}if(Gt&&er(Gt,Se),!vn&&(Xe=_t&&_t.onVnodeMounted)){const En=te;er(()=>Mr(Xe,Ft,En),Se)}(te.shapeFlag&256||Ft&&xo(Ft.vnode)&&Ft.vnode.shapeFlag&256)&&K.a&&er(K.a,Se),K.isMounted=!0,te=ye=Ne=null}};K.scope.on();const Ge=K.effect=new Im(qe);K.scope.off();const $e=K.update=Ge.run.bind(Ge),ht=K.job=Ge.runIfDirty.bind(Ge);ht.i=K,ht.id=K.uid,Ge.scheduler=()=>Bh(ht),ho(K,!0),$e()},ot=(K,te,ye)=>{te.component=K;const Ne=K.vnode.props;K.vnode=te,K.next=null,Av(K,te.props,Ne,ye),Iv(K,te.children,ye),wi(),pf(K),Li()},Ae=(K,te,ye,Ne,Se,je,Ke,qe,Ge=!1)=>{const $e=K&&K.children,ht=K?K.shapeFlag:0,Xe=te.children,{patchFlag:ut,shapeFlag:_t}=te;if(ut>0){if(ut&128){lt($e,Xe,ye,Ne,Se,je,Ke,qe,Ge);return}else if(ut&256){Ut($e,Xe,ye,Ne,Se,je,Ke,qe,Ge);return}}_t&8?(ht&16&&vt($e,Se,je),Xe!==$e&&y(ye,Xe)):ht&16?_t&16?lt($e,Xe,ye,Ne,Se,je,Ke,qe,Ge):vt($e,Se,je,!0):(ht&8&&y(ye,""),_t&16&&Fe(Xe,ye,Ne,Se,je,Ke,qe,Ge))},Ut=(K,te,ye,Ne,Se,je,Ke,qe,Ge)=>{K=K||ys,te=te||ys;const $e=K.length,ht=te.length,Xe=Math.min($e,ht);let ut;for(ut=0;ut<Xe;ut++){const _t=te[ut]=Ge?Hi(te[ut]):Tr(te[ut]);P(K[ut],_t,ye,null,Se,je,Ke,qe,Ge)}$e>ht?vt(K,Se,je,!0,!1,Xe):Fe(te,ye,Ne,Se,je,Ke,qe,Ge,Xe)},lt=(K,te,ye,Ne,Se,je,Ke,qe,Ge)=>{let $e=0;const ht=te.length;let Xe=K.length-1,ut=ht-1;for(;$e<=Xe&&$e<=ut;){const _t=K[$e],Pt=te[$e]=Ge?Hi(te[$e]):Tr(te[$e]);if(go(_t,Pt))P(_t,Pt,ye,null,Se,je,Ke,qe,Ge);else break;$e++}for(;$e<=Xe&&$e<=ut;){const _t=K[Xe],Pt=te[ut]=Ge?Hi(te[ut]):Tr(te[ut]);if(go(_t,Pt))P(_t,Pt,ye,null,Se,je,Ke,qe,Ge);else break;Xe--,ut--}if($e>Xe){if($e<=ut){const _t=ut+1,Pt=_t<ht?te[_t].el:Ne;for(;$e<=ut;)P(null,te[$e]=Ge?Hi(te[$e]):Tr(te[$e]),ye,Pt,Se,je,Ke,qe,Ge),$e++}}else if($e>ut)for(;$e<=Xe;)At(K[$e],Se,je,!0),$e++;else{const _t=$e,Pt=$e,Gt=new Map;for($e=Pt;$e<=ut;$e++){const Mn=te[$e]=Ge?Hi(te[$e]):Tr(te[$e]);Mn.key!=null&&Gt.set(Mn.key,$e)}let Ft,yn=0;const pn=ut-Pt+1;let vn=!1,En=0;const gr=new Array(pn);for($e=0;$e<pn;$e++)gr[$e]=0;for($e=_t;$e<=Xe;$e++){const Mn=K[$e];if(yn>=pn){At(Mn,Se,je,!0);continue}let bn;if(Mn.key!=null)bn=Gt.get(Mn.key);else for(Ft=Pt;Ft<=ut;Ft++)if(gr[Ft-Pt]===0&&go(Mn,te[Ft])){bn=Ft;break}bn===void 0?At(Mn,Se,je,!0):(gr[bn-Pt]=$e+1,bn>=En?En=bn:vn=!0,P(Mn,te[bn],ye,null,Se,je,Ke,qe,Ge),yn++)}const Br=vn?Nv(gr):ys;for(Ft=Br.length-1,$e=pn-1;$e>=0;$e--){const Mn=Pt+$e,bn=te[Mn],Oo=te[Mn+1],Ro=Mn+1<ht?Oo.el||Oo.placeholder:Ne;gr[$e]===0?P(null,bn,ye,Ro,Se,je,Ke,qe,Ge):vn&&(Ft<0||$e!==Br[Ft]?wt(bn,ye,Ro,2):Ft--)}}},wt=(K,te,ye,Ne,Se=null)=>{const{el:je,type:Ke,transition:qe,children:Ge,shapeFlag:$e}=K;if($e&6){wt(K.component.subTree,te,ye,Ne);return}if($e&128){K.suspense.move(te,ye,Ne);return}if($e&64){Ke.move(K,te,ye,st);return}if(Ke===Oe){i(je,te,ye);for(let Xe=0;Xe<Ge.length;Xe++)wt(Ge[Xe],te,ye,Ne);i(K.anchor,te,ye);return}if(Ke===Ra){$(K,te,ye);return}if(Ne!==2&&$e&1&&qe)if(Ne===0)qe.beforeEnter(je),i(je,te,ye),er(()=>qe.enter(je),Se);else{const{leave:Xe,delayLeave:ut,afterLeave:_t}=qe,Pt=()=>{K.ctx.isUnmounted?a(je):i(je,te,ye)},Gt=()=>{je._isLeaving&&je[gi](!0),Xe(je,()=>{Pt(),_t&&_t()})};ut?ut(je,Pt,Gt):Gt()}else i(je,te,ye)},At=(K,te,ye,Ne=!1,Se=!1)=>{const{type:je,props:Ke,ref:qe,children:Ge,dynamicChildren:$e,shapeFlag:ht,patchFlag:Xe,dirs:ut,cacheIndex:_t}=K;if(Xe===-2&&(Se=!1),qe!=null&&(wi(),ws(qe,null,ye,K,!0),Li()),_t!=null&&(te.renderCache[_t]=void 0),ht&256){te.ctx.deactivate(K);return}const Pt=ht&1&&ut,Gt=!xo(K);let Ft;if(Gt&&(Ft=Ke&&Ke.onVnodeBeforeUnmount)&&Mr(Ft,te,K),ht&6)Ot(K.component,ye,Ne);else{if(ht&128){K.suspense.unmount(ye,Ne);return}Pt&&Qr(K,null,te,"beforeUnmount"),ht&64?K.type.remove(K,te,ye,st,Ne):$e&&!$e.hasOnce&&(je!==Oe||Xe>0&&Xe&64)?vt($e,te,ye,!1,!0):(je===Oe&&Xe&384||!Se&&ht&16)&&vt(Ge,te,ye),Ne&&en(K)}(Gt&&(Ft=Ke&&Ke.onVnodeUnmounted)||Pt)&&er(()=>{Ft&&Mr(Ft,te,K),Pt&&Qr(K,null,te,"unmounted")},ye)},en=K=>{const{type:te,el:ye,anchor:Ne,transition:Se}=K;if(te===Oe){jt(ye,Ne);return}if(te===Ra){W(K);return}const je=()=>{a(ye),Se&&!Se.persisted&&Se.afterLeave&&Se.afterLeave()};if(K.shapeFlag&1&&Se&&!Se.persisted){const{leave:Ke,delayLeave:qe}=Se,Ge=()=>Ke(ye,je);qe?qe(K.el,je,Ge):Ge()}else je()},jt=(K,te)=>{let ye;for(;K!==te;)ye=T(K),a(K),K=ye;a(te)},Ot=(K,te,ye)=>{const{bum:Ne,scope:Se,job:je,subTree:Ke,um:qe,m:Ge,a:$e}=K;Mf(Ge),Mf($e),Ne&&cu(Ne),Se.stop(),je&&(je.flags|=8,At(Ke,K,te,ye)),qe&&er(qe,te),er(()=>{K.isUnmounted=!0},te)},vt=(K,te,ye,Ne=!1,Se=!1,je=0)=>{for(let Ke=je;Ke<K.length;Ke++)At(K[Ke],te,ye,Ne,Se)},Te=K=>{if(K.shapeFlag&6)return Te(K.component.subTree);if(K.shapeFlag&128)return K.suspense.next();const te=T(K.anchor||K.el),ye=te&&te[i_];return ye?T(ye):te};let We=!1;const Ze=(K,te,ye)=>{K==null?te._vnode&&At(te._vnode,null,null,!0):P(te._vnode||null,K,te,null,null,null,ye),te._vnode=K,We||(We=!0,pf(),Eu(),We=!1)},st={p:P,um:At,m:wt,r:en,mt,mc:Fe,pc:Ae,pbc:Pe,n:Te,o:e};let Rt,zt;return t&&([Rt,zt]=t(st)),{render:Ze,hydrate:Rt,createApp:Pv(Ze,Rt)}}function gd({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ho({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function R_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function jh(e,t,n=!1){const i=e.children,a=t.children;if(dt(i)&&dt(a))for(let s=0;s<i.length;s++){const u=i[s];let h=a[s];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=a[s]=Hi(a[s]),h.el=u.el),!n&&h.patchFlag!==-2&&jh(u,h)),h.type===Lo&&h.patchFlag!==-1&&(h.el=u.el),h.type===jn&&!h.el&&(h.el=u.el)}}function Nv(e){const t=e.slice(),n=[0];let i,a,s,u,h;const m=e.length;for(i=0;i<m;i++){const g=e[i];if(g!==0){if(a=n[n.length-1],e[a]<g){t[i]=a,n.push(i);continue}for(s=0,u=n.length-1;s<u;)h=s+u>>1,e[n[h]]<g?s=h+1:u=h;g<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}function D_(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:D_(t)}function Mf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Vv=Symbol.for("v-scx"),$v=()=>Bn(Vv);function zv(e,t){return Zu(e,null,t)}function Hv(e,t){return Zu(e,null,{flush:"sync"})}function on(e,t,n){return Zu(e,t,n)}function Zu(e,t,n=Ht){const{immediate:i,deep:a,flush:s,once:u}=n,h=Cn({},n),m=t&&i||!t&&s!=="post";let g;if(ks){if(s==="sync"){const E=$v();g=E.__watcherHandles||(E.__watcherHandles=[])}else if(!m){const E=()=>{};return E.stop=ei,E.resume=ei,E.pause=ei,E}}const y=Fn;h.call=(E,S,P)=>Nr(E,y,S,P);let x=!1;s==="post"?h.scheduler=E=>{er(E,y&&y.suspense)}:s!=="sync"&&(x=!0,h.scheduler=(E,S)=>{S?E():Bh(E)}),h.augmentJob=E=>{t&&(E.flags|=4),x&&(E.flags|=2,y&&(E.id=y.uid,E.i=y))};const T=tv(e,t,h);return ks&&(g?g.push(T):m&&T()),T}function Uv(e,t,n){const i=this.proxy,a=sn(e)?e.includes(".")?I_(i,e):()=>i[e]:e.bind(i,i);let s;xt(t)?s=t:(s=t.handler,n=t);const u=al(this),h=Zu(a,s.bind(i),n);return u(),h}function I_(e,t){const n=t.split(".");return()=>{let i=e;for(let a=0;a<n.length&&i;a++)i=i[n[a]];return i}}function ti(e,t,n=Ht){const i=To(),a=_r(t),s=Ci(t),u=j_(e,a),h=Ky((m,g)=>{let y,x=Ht,T;return Hv(()=>{const E=e[a];ar(y,E)&&(y=E,g())}),{get(){return m(),n.get?n.get(y):y},set(E){const S=n.set?n.set(E):E;if(!ar(S,y)&&!(x!==Ht&&ar(E,x)))return;const P=i.vnode.props;P&&(t in P||a in P||s in P)&&(`onUpdate:${t}`in P||`onUpdate:${a}`in P||`onUpdate:${s}`in P)||(y=E,g()),i.emit(`update:${t}`,S),ar(E,S)&&ar(E,x)&&!ar(S,T)&&g(),x=E,T=S}}});return h[Symbol.iterator]=()=>{let m=0;return{next(){return m<2?{value:m++?u||Ht:h,done:!1}:{done:!0}}}},h}const j_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${_r(t)}Modifiers`]||e[`${Ci(t)}Modifiers`];function Gv(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ht;let a=n;const s=t.startsWith("update:"),u=s&&j_(i,t.slice(7));u&&(u.trim&&(a=n.map(y=>sn(y)?y.trim():y)),u.number&&(a=n.map(xu)));let h,m=i[h=ud(t)]||i[h=ud(_r(t))];!m&&s&&(m=i[h=ud(Ci(t))]),m&&Nr(m,e,6,a);const g=i[h+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Nr(g,e,6,a)}}const qv=new WeakMap;function F_(e,t,n=!1){const i=n?qv:t.emitsCache,a=i.get(e);if(a!==void 0)return a;const s=e.emits;let u={},h=!1;if(!xt(e)){const m=g=>{const y=F_(g,t,!0);y&&(h=!0,Cn(u,y))};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!s&&!h?(Qt(e)&&i.set(e,null),null):(dt(s)?s.forEach(m=>u[m]=null):Cn(u,s),Qt(e)&&i.set(e,u),u)}function Ku(e,t){return!e||!el(t)?!1:(t=t.slice(2).replace(/Once$/,""),Kt(e,t[0].toLowerCase()+t.slice(1))||Kt(e,Ci(t))||Kt(e,t))}function yd(e){const{type:t,vnode:n,proxy:i,withProxy:a,propsOptions:[s],slots:u,attrs:h,emit:m,render:g,renderCache:y,props:x,data:T,setupState:E,ctx:S,inheritAttrs:P}=e,U=Mu(e);let X,Q;try{if(n.shapeFlag&4){const W=a||i,oe=W;X=Tr(g.call(oe,W,y,x,E,T,S)),Q=h}else{const W=t;X=Tr(W.length>1?W(x,{attrs:h,slots:u,emit:m}):W(x,null)),Q=t.props?h:Zv(h)}}catch(W){Da.length=0,il(W,e,1),X=I(jn)}let $=X;if(Q&&P!==!1){const W=Object.keys(Q),{shapeFlag:oe}=$;W.length&&oe&7&&(s&&W.some(bh)&&(Q=Kv(Q,s)),$=Zi($,Q,!1,!0))}return n.dirs&&($=Zi($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&Ga($,n.transition),X=$,Mu(U),X}const Zv=e=>{let t;for(const n in e)(n==="class"||n==="style"||el(n))&&((t||(t={}))[n]=e[n]);return t},Kv=(e,t)=>{const n={};for(const i in e)(!bh(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Wv(e,t,n){const{props:i,children:a,component:s}=e,{props:u,children:h,patchFlag:m}=t,g=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&m>=0){if(m&1024)return!0;if(m&16)return i?Tf(i,u,g):!!u;if(m&8){const y=t.dynamicProps;for(let x=0;x<y.length;x++){const T=y[x];if(u[T]!==i[T]&&!Ku(g,T))return!0}}}else return(a||h)&&(!h||!h.$stable)?!0:i===u?!1:i?u?Tf(i,u,g):!0:!!u;return!1}function Tf(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let a=0;a<i.length;a++){const s=i[a];if(t[s]!==e[s]&&!Ku(n,s))return!0}return!1}function N_({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const V_=e=>e.__isSuspense;function $_(e,t){t&&t.pendingBranch?dt(e)?t.effects.push(...e):t.effects.push(e):iv(e)}const Oe=Symbol.for("v-fgt"),Lo=Symbol.for("v-txt"),jn=Symbol.for("v-cmt"),Ra=Symbol.for("v-stc"),Da=[];let pr=null;function C(e=!1){Da.push(pr=e?null:[])}function Jv(){Da.pop(),pr=Da[Da.length-1]||null}let qa=1;function Bu(e,t=!1){qa+=e,e<0&&pr&&t&&(pr.hasOnce=!0)}function z_(e){return e.dynamicChildren=qa>0?pr||ys:null,Jv(),qa>0&&pr&&pr.push(e),e}function F(e,t,n,i,a,s){return z_(O(e,t,n,i,a,s,!0))}function ae(e,t,n,i,a){return z_(I(e,t,n,i,a,!0))}function Za(e){return e?e.__v_isVNode===!0:!1}function go(e,t){return e.type===t.type&&e.key===t.key}const H_=({key:e})=>e??null,hu=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?sn(e)||cn(e)||xt(e)?{i:Nn,r:e,k:t,f:!!n}:e:null);function O(e,t=null,n=null,i=0,a=null,s=e===Oe?0:1,u=!1,h=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&H_(t),ref:t&&hu(t),scopeId:r_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Nn};return h?(Fh(m,n),s&128&&e.normalize(m)):n&&(m.shapeFlag|=sn(n)?8:16),qa>0&&!u&&pr&&(m.patchFlag>0||s&6)&&m.patchFlag!==32&&pr.push(m),m}const I=Yv;function Yv(e,t=null,n=null,i=0,a=null,s=!1){if((!e||e===y_)&&(e=jn),Za(e)){const h=Zi(e,t,!0);return n&&Fh(h,n),qa>0&&!s&&pr&&(h.shapeFlag&6?pr[pr.indexOf(e)]=h:pr.push(h)),h.patchFlag=-2,h}if(sb(e)&&(e=e.__vccOpts),t){t=Au(t);let{class:h,style:m}=t;h&&!sn(h)&&(t.class=Xt(h)),Qt(m)&&(Sh(m)&&!dt(m)&&(m=Cn({},m)),t.style=Vn(m))}const u=sn(e)?1:V_(e)?128:o_(e)?64:Qt(e)?4:xt(e)?2:0;return O(e,t,n,i,a,u,s,!0)}function Au(e){return e?Sh(e)||M_(e)?Cn({},e):e:null}function Zi(e,t,n=!1,i=!1){const{props:a,ref:s,patchFlag:u,children:h,transition:m}=e,g=t?Nh(a||{},t):a,y={__v_isVNode:!0,__v_skip:!0,type:e.type,props:g,key:g&&H_(g),ref:t&&t.ref?n&&s?dt(s)?s.concat(hu(t)):[s,hu(t)]:hu(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:m,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zi(e.ssContent),ssFallback:e.ssFallback&&Zi(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return m&&i&&Ga(y,m.clone(y)),y}function we(e=" ",t=0){return I(Lo,null,e,t)}function Xv(e,t){const n=I(Ra,null,e);return n.staticCount=t,n}function fe(e="",t=!1){return t?(C(),ae(jn,null,e)):I(jn,null,e)}function Tr(e){return e==null||typeof e=="boolean"?I(jn):dt(e)?I(Oe,null,e.slice()):Za(e)?Hi(e):I(Lo,null,String(e))}function Hi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zi(e)}function Fh(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(dt(t))n=16;else if(typeof t=="object")if(i&65){const a=t.default;a&&(a._c&&(a._d=!1),Fh(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!M_(t)?t._ctx=Nn:a===3&&Nn&&(Nn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xt(t)?(t={default:t,_ctx:Nn},n=32):(t=String(t),i&64?(n=16,t=[we(t)]):n=8);e.children=t,e.shapeFlag|=n}function Nh(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const a in i)if(a==="class")t.class!==i.class&&(t.class=Xt([t.class,i.class]));else if(a==="style")t.style=Vn([t.style,i.style]);else if(el(a)){const s=t[a],u=i[a];u&&s!==u&&!(dt(s)&&s.includes(u))&&(t[a]=s?[].concat(s,u):u)}else a!==""&&(t[a]=i[a])}return t}function Mr(e,t,n,i=null){Nr(e,t,7,[n,i])}const Qv=L_();let eb=0;function tb(e,t,n){const i=e.type,a=(t?t.appContext:e.appContext)||Qv,s={uid:eb++,vnode:e,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Om(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:S_(i,a),emitsOptions:F_(i,a),emit:null,emitted:null,propsDefaults:Ht,inheritAttrs:i.inheritAttrs,ctx:Ht,data:Ht,props:Ht,attrs:Ht,slots:Ht,refs:Ht,setupState:Ht,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Gv.bind(null,s),e.ce&&e.ce(s),s}let Fn=null;const To=()=>Fn||Nn;let Ou,Wd;{const e=zu(),t=(n,i)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(i),s=>{a.length>1?a.forEach(u=>u(s)):a[0](s)}};Ou=t("__VUE_INSTANCE_SETTERS__",n=>Fn=n),Wd=t("__VUE_SSR_SETTERS__",n=>ks=n)}const al=e=>{const t=Fn;return Ou(e),e.scope.on(),()=>{e.scope.off(),Ou(t)}},Sf=()=>{Fn&&Fn.scope.off(),Ou(null)};function U_(e){return e.vnode.shapeFlag&4}let ks=!1;function nb(e,t=!1,n=!1){t&&Wd(t);const{props:i,children:a}=e.vnode,s=U_(e);Bv(e,i,s,t),Dv(e,a,n||t);const u=s?rb(e,t):void 0;return t&&Wd(!1),u}function rb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xv);const{setup:i}=n;if(i){wi();const a=e.setupContext=i.length>1?q_(e):null,s=al(e),u=rl(i,e,0,[e.props,a]),h=Em(u);if(Li(),s(),(h||e.sp)&&!xo(e)&&Ah(e),h){if(u.then(Sf,Sf),t)return u.then(m=>{Pf(e,m)}).catch(m=>{il(m,e,0)});e.asyncDep=u}else Pf(e,u)}else G_(e)}function Pf(e,t,n){xt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qt(t)&&(e.setupState=Qm(t)),G_(e)}function G_(e,t,n){const i=e.type;e.render||(e.render=i.render||ei);{const a=al(e);wi();try{Cv(e)}finally{Li(),a()}}}const ib={get(e,t){return Zn(e,"get",""),e[t]}};function q_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ib),slots:e.slots,emit:e.emit,expose:t}}function Wu(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Qm(Ph(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Aa)return Aa[n](e)},has(t,n){return n in t||n in Aa}})):e.proxy}function ob(e,t=!0){return xt(e)?e.displayName||e.name:e.name||t&&e.__name}function sb(e){return xt(e)&&"__vccOpts"in e}const He=(e,t)=>Qy(e,t,ks);function Vh(e,t,n){try{Bu(-1);const i=arguments.length;return i===2?Qt(t)&&!dt(t)?Za(t)?I(e,null,[t]):I(e,t):I(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Za(n)&&(n=[n]),I(e,t,n))}finally{Bu(1)}}const ab="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jd;const Bf=typeof window<"u"&&window.trustedTypes;if(Bf)try{Jd=Bf.createPolicy("vue",{createHTML:e=>e})}catch{}const Z_=Jd?e=>Jd.createHTML(e):e=>e,lb="http://www.w3.org/2000/svg",ub="http://www.w3.org/1998/Math/MathML",_i=typeof document<"u"?document:null,Af=_i&&_i.createElement("template"),cb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const a=t==="svg"?_i.createElementNS(lb,e):t==="mathml"?_i.createElementNS(ub,e):n?_i.createElement(e,{is:n}):_i.createElement(e);return e==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:e=>_i.createTextNode(e),createComment:e=>_i.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_i.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,a,s){const u=n?n.previousSibling:t.lastChild;if(a&&(a===s||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===s||!(a=a.nextSibling)););else{Af.innerHTML=Z_(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const h=Af.content;if(i==="svg"||i==="mathml"){const m=h.firstChild;for(;m.firstChild;)h.appendChild(m.firstChild);h.removeChild(m)}t.insertBefore(h,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ni="transition",ga="animation",Ka=Symbol("_vtc"),K_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},db=Cn({},l_,K_),hb=e=>(e.displayName="Transition",e.props=db,e),Ju=hb((e,{slots:t})=>Vh(uv,fb(e),t)),fo=(e,t=[])=>{dt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Of=e=>e?dt(e)?e.some(t=>t.length>1):e.length>1:!1;function fb(e){const t={};for(const Be in e)Be in K_||(t[Be]=e[Be]);if(e.css===!1)return t;const{name:n="v",type:i,duration:a,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:h=`${n}-enter-to`,appearFromClass:m=s,appearActiveClass:g=u,appearToClass:y=h,leaveFromClass:x=`${n}-leave-from`,leaveActiveClass:T=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=e,S=pb(a),P=S&&S[0],U=S&&S[1],{onBeforeEnter:X,onEnter:Q,onEnterCancelled:$,onLeave:W,onLeaveCancelled:oe,onBeforeAppear:Ce=X,onAppear:be=Q,onAppearCancelled:Fe=$}=t,Ee=(Be,rt,mt,Ye)=>{Be._enterCancelled=Ye,po(Be,rt?y:h),po(Be,rt?g:u),mt&&mt()},Pe=(Be,rt)=>{Be._isLeaving=!1,po(Be,x),po(Be,E),po(Be,T),rt&&rt()},ze=Be=>(rt,mt)=>{const Ye=Be?be:Q,Ue=()=>Ee(rt,Be,mt);fo(Ye,[rt,Ue]),Rf(()=>{po(rt,Be?m:s),pi(rt,Be?y:h),Of(Ye)||Df(rt,i,P,Ue)})};return Cn(t,{onBeforeEnter(Be){fo(X,[Be]),pi(Be,s),pi(Be,u)},onBeforeAppear(Be){fo(Ce,[Be]),pi(Be,m),pi(Be,g)},onEnter:ze(!1),onAppear:ze(!0),onLeave(Be,rt){Be._isLeaving=!0;const mt=()=>Pe(Be,rt);pi(Be,x),Be._enterCancelled?(pi(Be,T),Ff(Be)):(Ff(Be),pi(Be,T)),Rf(()=>{Be._isLeaving&&(po(Be,x),pi(Be,E),Of(W)||Df(Be,i,U,mt))}),fo(W,[Be,mt])},onEnterCancelled(Be){Ee(Be,!1,void 0,!0),fo($,[Be])},onAppearCancelled(Be){Ee(Be,!0,void 0,!0),fo(Fe,[Be])},onLeaveCancelled(Be){Pe(Be),fo(oe,[Be])}})}function pb(e){if(e==null)return null;if(Qt(e))return[vd(e.enter),vd(e.leave)];{const t=vd(e);return[t,t]}}function vd(e){return _y(e)}function pi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ka]||(e[Ka]=new Set)).add(t)}function po(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[Ka];n&&(n.delete(t),n.size||(e[Ka]=void 0))}function Rf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let mb=0;function Df(e,t,n,i){const a=e._endId=++mb,s=()=>{a===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:u,timeout:h,propCount:m}=_b(e,t);if(!u)return i();const g=u+"end";let y=0;const x=()=>{e.removeEventListener(g,T),s()},T=E=>{E.target===e&&++y>=m&&x()};setTimeout(()=>{y<m&&x()},h+1),e.addEventListener(g,T)}function _b(e,t){const n=window.getComputedStyle(e),i=S=>(n[S]||"").split(", "),a=i(`${Ni}Delay`),s=i(`${Ni}Duration`),u=If(a,s),h=i(`${ga}Delay`),m=i(`${ga}Duration`),g=If(h,m);let y=null,x=0,T=0;t===Ni?u>0&&(y=Ni,x=u,T=s.length):t===ga?g>0&&(y=ga,x=g,T=m.length):(x=Math.max(u,g),y=x>0?u>g?Ni:ga:null,T=y?y===Ni?s.length:m.length:0);const E=y===Ni&&/\b(?:transform|all)(?:,|$)/.test(i(`${Ni}Property`).toString());return{type:y,timeout:x,propCount:T,hasTransform:E}}function If(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>jf(n)+jf(e[i])))}function jf(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ff(e){return(e?e.ownerDocument:document).body.offsetHeight}function gb(e,t,n){const i=e[Ka];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ru=Symbol("_vod"),W_=Symbol("_vsh"),Yu={name:"show",beforeMount(e,{value:t},{transition:n}){e[Ru]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ya(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),ya(e,!0),i.enter(e)):i.leave(e,()=>{ya(e,!1)}):ya(e,t))},beforeUnmount(e,{value:t}){ya(e,t)}};function ya(e,t){e.style.display=t?e[Ru]:"none",e[W_]=!t}const yb=Symbol(""),vb=/(?:^|;)\s*display\s*:/;function bb(e,t,n){const i=e.style,a=sn(n);let s=!1;if(n&&!a){if(t)if(sn(t))for(const u of t.split(";")){const h=u.slice(0,u.indexOf(":")).trim();n[h]==null&&fu(i,h,"")}else for(const u in t)n[u]==null&&fu(i,u,"");for(const u in n)u==="display"&&(s=!0),fu(i,u,n[u])}else if(a){if(t!==n){const u=i[yb];u&&(n+=";"+u),i.cssText=n,s=vb.test(n)}}else t&&e.removeAttribute("style");Ru in e&&(e[Ru]=s?i.display:"",e[W_]&&(i.display="none"))}const Nf=/\s*!important$/;function fu(e,t,n){if(dt(n))n.forEach(i=>fu(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=xb(e,t);Nf.test(n)?e.setProperty(Ci(i),n.replace(Nf,""),"important"):e[i]=n}}const Vf=["Webkit","Moz","ms"],bd={};function xb(e,t){const n=bd[t];if(n)return n;let i=_r(t);if(i!=="filter"&&i in e)return bd[t]=i;i=$u(i);for(let a=0;a<Vf.length;a++){const s=Vf[a]+i;if(s in e)return bd[t]=s}return t}const $f="http://www.w3.org/1999/xlink";function zf(e,t,n,i,a,s=wy(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS($f,t.slice(6,t.length)):e.setAttributeNS($f,t,n):n==null||s&&!Pm(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Fr(n)?String(n):n)}function Hf(e,t,n,i,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Z_(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const h=s==="OPTION"?e.getAttribute("value")||"":e.value,m=n==null?e.type==="checkbox"?"on":"":String(n);(h!==m||!("_value"in e))&&(e.value=m),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=Pm(n):n==null&&h==="string"?(n="",u=!0):h==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(a||t)}function Gi(e,t,n,i){e.addEventListener(t,n,i)}function wb(e,t,n,i){e.removeEventListener(t,n,i)}const Uf=Symbol("_vei");function Lb(e,t,n,i,a=null){const s=e[Uf]||(e[Uf]={}),u=s[t];if(i&&u)u.value=i;else{const[h,m]=Cb(t);if(i){const g=s[t]=Mb(i,a);Gi(e,h,g,m)}else u&&(wb(e,h,u,m),s[t]=void 0)}}const Gf=/(?:Once|Passive|Capture)$/;function Cb(e){let t;if(Gf.test(e)){t={};let i;for(;i=e.match(Gf);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ci(e.slice(2)),t]}let xd=0;const kb=Promise.resolve(),Eb=()=>xd||(kb.then(()=>xd=0),xd=Date.now());function Mb(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Nr(Tb(i,n.value),t,5,[i])};return n.value=e,n.attached=Eb(),n}function Tb(e,t){if(dt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>a=>!a._stopped&&i&&i(a))}else return t}const qf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Sb=(e,t,n,i,a,s)=>{const u=a==="svg";t==="class"?gb(e,i,u):t==="style"?bb(e,n,i):el(t)?bh(t)||Lb(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Pb(e,t,i,u))?(Hf(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&zf(e,t,i,u,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!sn(i))?Hf(e,_r(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),zf(e,t,i,u))};function Pb(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&qf(t)&&xt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return qf(t)&&sn(n)?!1:t in e}const Es=e=>{const t=e.props["onUpdate:modelValue"]||!1;return dt(t)?n=>cu(t,n):t};function Bb(e){e.target.composing=!0}function Zf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xi=Symbol("_assign"),Du={created(e,{modifiers:{lazy:t,trim:n,number:i}},a){e[xi]=Es(a);const s=i||a.props&&a.props.type==="number";Gi(e,t?"change":"input",u=>{if(u.target.composing)return;let h=e.value;n&&(h=h.trim()),s&&(h=xu(h)),e[xi](h)}),n&&Gi(e,"change",()=>{e.value=e.value.trim()}),t||(Gi(e,"compositionstart",Bb),Gi(e,"compositionend",Zf),Gi(e,"change",Zf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:a,number:s}},u){if(e[xi]=Es(u),e.composing)return;const h=(s||e.type==="number")&&!/^0\d/.test(e.value)?xu(e.value):e.value,m=t??"";h!==m&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||a&&e.value.trim()===m)||(e.value=m))}},Os={deep:!0,created(e,t,n){e[xi]=Es(n),Gi(e,"change",()=>{const i=e._modelValue,a=Wa(e),s=e.checked,u=e[xi];if(dt(i)){const h=Lh(i,a),m=h!==-1;if(s&&!m)u(i.concat(a));else if(!s&&m){const g=[...i];g.splice(h,1),u(g)}}else if(Bs(i)){const h=new Set(i);s?h.add(a):h.delete(a),u(h)}else u(J_(e,s))})},mounted:Kf,beforeUpdate(e,t,n){e[xi]=Es(n),Kf(e,t,n)}};function Kf(e,{value:t,oldValue:n},i){e._modelValue=t;let a;if(dt(t))a=Lh(t,i.props.value)>-1;else if(Bs(t))a=t.has(i.props.value);else{if(t===n)return;a=nl(t,J_(e,!0))}e.checked!==a&&(e.checked=a)}const ll={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const a=Bs(t);Gi(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?xu(Wa(u)):Wa(u));e[xi](e.multiple?a?new Set(s):s:s[0]),e._assigning=!0,ol(()=>{e._assigning=!1})}),e[xi]=Es(i)},mounted(e,{value:t}){Wf(e,t)},beforeUpdate(e,t,n){e[xi]=Es(n)},updated(e,{value:t}){e._assigning||Wf(e,t)}};function Wf(e,t){const n=e.multiple,i=dt(t);if(!(n&&!i&&!Bs(t))){for(let a=0,s=e.options.length;a<s;a++){const u=e.options[a],h=Wa(u);if(n)if(i){const m=typeof h;m==="string"||m==="number"?u.selected=t.some(g=>String(g)===String(h)):u.selected=Lh(t,h)>-1}else u.selected=t.has(h);else if(nl(Wa(u),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Wa(e){return"_value"in e?e._value:e.value}function J_(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ab=["ctrl","shift","alt","meta"],Ob={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ab.some(n=>e[`${n}Key`]&&!t.includes(n))},Ki=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(a,...s)=>{for(let u=0;u<t.length;u++){const h=Ob[t[u]];if(h&&h(a,t))return}return e(a,...s)})},Rb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ms=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=a=>{if(!("key"in a))return;const s=Ci(a.key);if(t.some(u=>u===s||Rb[u]===s))return e(a)})},Y_=Cn({patchProp:Sb},cb);let Ia,Jf=!1;function Db(){return Ia||(Ia=jv(Y_))}function Ib(){return Ia=Jf?Ia:Fv(Y_),Jf=!0,Ia}const jb=(...e)=>{const t=Db().createApp(...e),{mount:n}=t;return t.mount=i=>{const a=Q_(i);if(!a)return;const s=t._component;!xt(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const u=n(a,!1,X_(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),u},t},Fb=(...e)=>{const t=Ib().createApp(...e),{mount:n}=t;return t.mount=i=>{const a=Q_(i);if(a)return n(a,!0,X_(a))},t};function X_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Q_(e){return sn(e)?document.querySelector(e):e}const Nb=new Set(["link","style","script","noscript"]),Vb=new Set(["title","titleTemplate","script","style","noscript"]),Yf=new Set(["base","meta","link","style","script","noscript"]),$b=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),zb=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Hb=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Ub=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Gb=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Yd(e,t={},n){for(const i in e){const a=e[i],s=n?`${n}:${i}`:i;typeof a=="object"&&a!==null?Yd(a,t,s):typeof a=="function"&&(t[s]=a)}return t}const qb={run:e=>e()},Zb=()=>qb,eg=typeof console.createTask<"u"?console.createTask:Zb;function Kb(e,t){const n=t.shift(),i=eg(n);return e.reduce((a,s)=>a.then(()=>i.run(()=>s(...t))),Promise.resolve())}function Wb(e,t){const n=t.shift(),i=eg(n);return Promise.all(e.map(a=>i.run(()=>a(...t))))}function wd(e,t){for(const n of[...e])n(t)}class Jb{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,i={}){if(!t||typeof n!="function")return()=>{};const a=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!i.allowDeprecated){let u=s.message;u||(u=`${a} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(u)||(console.warn(u),this._deprecatedMessages.add(u))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let i,a=(...s)=>(typeof i=="function"&&i(),i=void 0,a=void 0,n(...s));return i=this.hook(t,a),i}removeHook(t,n){if(this._hooks[t]){const i=this._hooks[t].indexOf(n);i!==-1&&this._hooks[t].splice(i,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const i=this._hooks[t]||[];delete this._hooks[t];for(const a of i)this.hook(t,a)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Yd(t),i=Object.keys(n).map(a=>this.hook(a,n[a]));return()=>{for(const a of i.splice(0,i.length))a()}}removeHooks(t){const n=Yd(t);for(const i in n)this.removeHook(i,n[i])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(Kb,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(Wb,t,...n)}callHookWith(t,n,...i){const a=this._before||this._after?{name:n,args:i,context:{}}:void 0;this._before&&wd(this._before,a);const s=t(n in this._hooks?[...this._hooks[n]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&a&&wd(this._after,a)}):(this._after&&a&&wd(this._after,a),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function Yb(){return new Jb}const Xb=["name","property","http-equiv"],Qb=new Set(["viewport","description","keywords","robots"]);function tg(e){const t=e.split(":");return t.length?Gb.has(t[1]):!1}function Xd(e){const{props:t,tag:n}=e;if(zb.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const i of Xb)if(t[i]!==void 0){const a=t[i],s=a.includes(":"),u=Qb.has(a),m=!(s||u)&&e.key?`:key:${e.key}`:"";return`${n}:${a}${m}`}}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(Vb.has(n)){const i=e.textContent||e.innerHTML;if(i)return`${n}:content:${i}`}}function Xf(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([i,a])=>`${i}:${String(a)}`).join(",")}`}function Iu(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let a;if(t&&(a=t(n,e)),Array.isArray(a))return a.map(s=>Iu(s,t));if(a?.constructor===Object){const s={};for(const u of Object.keys(a))s[u]=Iu(a[u],t,u);return s}return a}function e1(e,t){const n=e==="style"?new Map:new Set;function i(a){const s=a.trim();if(s)if(e==="style"){const[u,...h]=s.split(":").map(m=>m.trim());u&&h.length&&n.set(u,h.join(":"))}else s.split(" ").filter(Boolean).forEach(u=>n.add(u))}return typeof t=="string"?e==="style"?t.split(";").forEach(i):i(t):Array.isArray(t)?t.forEach(a=>i(a)):t&&typeof t=="object"&&Object.entries(t).forEach(([a,s])=>{s&&s!=="false"&&(e==="style"?n.set(a.trim(),s):i(a))}),n}function ng(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([n,i])=>{if(i===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=e1(n,i);return}if(Hb.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof i=="object"){let u=t.type;if(t.type||(u="application/json"),!u?.endsWith("json")&&u!=="speculationrules")return;t.type=u,e.props.type=u,e[n]=JSON.stringify(i)}else e[n]=i;return}const a=String(i),s=n.startsWith("data-");a==="true"||a===""?e.props[n]=s?a:!0:!i&&s&&a==="false"?e.props[n]="false":i!==void 0&&(e.props[n]=i)}),e):e}function t1(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},i=ng({tag:e,props:{}},n);return i.key&&Nb.has(i.tag)&&(i.props["data-hid"]=i._h=i.key),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(a=>({...i,props:{...i.props,content:a}})):i}function n1(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(a,s)=>{for(let u=0;u<t.length;u++)s=t[u](a,s);return s};e=n(void 0,e);const i=[];return e=Iu(e,n),Object.entries(e||{}).forEach(([a,s])=>{if(s!==void 0)for(const u of Array.isArray(s)?s:[s])i.push(t1(a,u))}),i.flat()}const Qf=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,ep={base:-10,title:10},r1={critical:-8,high:-1,low:2},tp={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},i1=/@import/,va=e=>e===""||e===!0;function o1(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const i=r1[t.tagPriority]||0,a=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:tp;if(t.tag in ep)n=ep[t.tag];else if(t.tag==="meta"){const s=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;s&&(n=tp.meta[s])}else t.tag==="link"&&t.props.rel?n=a.link[t.props.rel]:t.tag==="script"?va(t.props.async)?n=a.script.async:t.props.src&&!va(t.props.defer)&&!va(t.props.async)&&t.props.type!=="module"&&!t.props.type?.endsWith("json")?n=a.script.sync:va(t.props.defer)&&t.props.src&&!va(t.props.async)&&(n=a.script.defer):t.tag==="style"&&(n=t.innerHTML&&i1.test(t.innerHTML)?a.style.imported:a.style.sync);return(n||100)+i}function np(e,t){const n=typeof t=="function"?t(e):t,i=n.key||String(e.plugins.size+1);e.plugins.get(i)||(e.plugins.set(i,n),e.hooks.addHooks(n.hooks||{}))}function s1(e={}){const t=Yb();t.addHooks(e.hooks||{});const n=!e.document,i=new Map,a=new Map,s=new Set,u={_entryCount:1,plugins:a,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:i,headEntries(){return[...i.values()]},use:h=>np(u,h),push(h,m){const g={...m||{}};delete g.head;const y=g._index??u._entryCount++,x={_i:y,input:h,options:g},T={_poll(E=!1){u.dirty=!0,!E&&s.add(y),t.callHook("entries:updated",u)},dispose(){i.delete(y)&&u.invalidate()},patch(E){(!g.mode||g.mode==="server"&&n||g.mode==="client"&&!n)&&(x.input=E,i.set(y,x),T._poll())}};return T.patch(h),T},async resolveTags(){const h={tagMap:new Map,tags:[],entries:[...u.entries.values()]};for(await t.callHook("entries:resolve",h);s.size;){const T=s.values().next().value;s.delete(T);const E=i.get(T);if(E){const S={tags:n1(E.input,e.propResolvers||[]).map(P=>Object.assign(P,E.options)),entry:E};await t.callHook("entries:normalize",S),E._tags=S.tags.map((P,U)=>(P._w=o1(u,P),P._p=(E._i<<10)+U,P._d=Xd(P),P))}}let m=!1;h.entries.flatMap(T=>(T._tags||[]).map(E=>({...E,props:{...E.props}}))).sort(Qf).reduce((T,E)=>{const S=String(E._d||E._p);if(!T.has(S))return T.set(S,E);const P=T.get(S);if((E?.tagDuplicateStrategy||(Ub.has(E.tag)?"merge":null)||(E.key&&E.key===P.key?"merge":null))==="merge"){const X={...P.props};Object.entries(E.props).forEach(([Q,$])=>X[Q]=Q==="style"?new Map([...P.props.style||new Map,...$]):Q==="class"?new Set([...P.props.class||new Set,...$]):$),T.set(S,{...E,props:X})}else E._p>>10===P._p>>10&&E.tag==="meta"&&tg(S)?(T.set(S,Object.assign([...Array.isArray(P)?P:[P],E],E)),m=!0):(E._w===P._w?E._p>P._p:E?._w<P?._w)&&T.set(S,E);return T},h.tagMap);const g=h.tagMap.get("title"),y=h.tagMap.get("titleTemplate");if(u._title=g?.textContent,y){const T=y?.textContent;if(u._titleTemplate=T,T){let E=typeof T=="function"?T(g?.textContent):T;typeof E=="string"&&!u.plugins.has("template-params")&&(E=E.replace("%s",g?.textContent||"")),g?E===null?h.tagMap.delete("title"):h.tagMap.set("title",{...g,textContent:E}):(y.tag="title",y.textContent=E)}}h.tags=Array.from(h.tagMap.values()),m&&(h.tags=h.tags.flat().sort(Qf)),await t.callHook("tags:beforeResolve",h),await t.callHook("tags:resolve",h),await t.callHook("tags:afterResolve",h);const x=[];for(const T of h.tags){const{innerHTML:E,tag:S,props:P}=T;if($b.has(S)&&!(Object.keys(P).length===0&&!T.innerHTML&&!T.textContent)&&!(S==="meta"&&!P.content&&!P["http-equiv"]&&!P.charset)){if(S==="script"&&E){if(P.type?.endsWith("json")){const U=typeof E=="string"?E:JSON.stringify(E);T.innerHTML=U.replace(/</g,"\\u003C")}else typeof E=="string"&&(T.innerHTML=E.replace(new RegExp(`</${S}`,"g"),`<\\/${S}`));T._d=Xd(T)}x.push(T)}}return x},invalidate(){for(const h of i.values())s.add(h._i);u.dirty=!0,t.callHook("entries:updated",u)}};return(e?.plugins||[]).forEach(h=>np(u,h)),u.hooks.callHook("init",u),e.init?.forEach(h=>h&&u.push(h)),u}const a1=(e,t)=>cn(t)?Gy(t):t,rg="usehead";function l1(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(rg,e)}}.install}function ig(){if(C_()){const e=Bn(rg);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function $h(e,t={}){const n=t.head||ig();return n.ssr?n.push(e||{},t):u1(n,e,t)}function u1(e,t,n={}){const i=Me(!1);let a;return zv(()=>{const u=i.value?{}:Iu(t,a1);a?a.patch(u):a=e.push(u,n)}),To()&&(Pr(()=>{a.dispose()}),m_(()=>{i.value=!0}),p_(()=>{i.value=!1})),a}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof document<"u";function og(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function c1(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&og(e.default)}const Zt=Object.assign;function Ld(e,t){const n={};for(const i in t){const a=t[i];n[i]=Vr(a)?a.map(e):e(a)}return n}const ja=()=>{},Vr=Array.isArray,sg=/#/g,d1=/&/g,h1=/\//g,f1=/=/g,p1=/\?/g,ag=/\+/g,m1=/%5B/g,_1=/%5D/g,lg=/%5E/g,g1=/%60/g,ug=/%7B/g,y1=/%7C/g,cg=/%7D/g,v1=/%20/g;function zh(e){return encodeURI(""+e).replace(y1,"|").replace(m1,"[").replace(_1,"]")}function b1(e){return zh(e).replace(ug,"{").replace(cg,"}").replace(lg,"^")}function Qd(e){return zh(e).replace(ag,"%2B").replace(v1,"+").replace(sg,"%23").replace(d1,"%26").replace(g1,"`").replace(ug,"{").replace(cg,"}").replace(lg,"^")}function x1(e){return Qd(e).replace(f1,"%3D")}function w1(e){return zh(e).replace(sg,"%23").replace(p1,"%3F")}function L1(e){return e==null?"":w1(e).replace(h1,"%2F")}function Ja(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const C1=/\/$/,k1=e=>e.replace(C1,"");function Cd(e,t,n="/"){let i,a={},s="",u="";const h=t.indexOf("#");let m=t.indexOf("?");return h<m&&h>=0&&(m=-1),m>-1&&(i=t.slice(0,m),s=t.slice(m+1,h>-1?h:t.length),a=e(s)),h>-1&&(i=i||t.slice(0,h),u=t.slice(h,t.length)),i=S1(i??t,n),{fullPath:i+(s&&"?")+s+u,path:i,query:a,hash:Ja(u)}}function E1(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function rp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function M1(e,t,n){const i=t.matched.length-1,a=n.matched.length-1;return i>-1&&i===a&&Ts(t.matched[i],n.matched[a])&&dg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ts(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function dg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!T1(e[n],t[n]))return!1;return!0}function T1(e,t){return Vr(e)?ip(e,t):Vr(t)?ip(t,e):e===t}function ip(e,t){return Vr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function S1(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),a=i[i.length-1];(a===".."||a===".")&&i.push("");let s=n.length-1,u,h;for(u=0;u<i.length;u++)if(h=i[u],h!==".")if(h==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(u).join("/")}const Vi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ya;(function(e){e.pop="pop",e.push="push"})(Ya||(Ya={}));var Fa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fa||(Fa={}));function P1(e){if(!e)if(_s){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),k1(e)}const B1=/^[^#]+#/;function A1(e,t){return e.replace(B1,"#")+t}function O1(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Xu=()=>({left:window.scrollX,top:window.scrollY});function R1(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=O1(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function op(e,t){return(history.state?history.state.position-t:-1)+e}const eh=new Map;function D1(e,t){eh.set(e,t)}function I1(e){const t=eh.get(e);return eh.delete(e),t}let j1=()=>location.protocol+"//"+location.host;function hg(e,t){const{pathname:n,search:i,hash:a}=t,s=e.indexOf("#");if(s>-1){let h=a.includes(e.slice(s))?e.slice(s).length:1,m=a.slice(h);return m[0]!=="/"&&(m="/"+m),rp(m,"")}return rp(n,e)+i+a}function F1(e,t,n,i){let a=[],s=[],u=null;const h=({state:T})=>{const E=hg(e,location),S=n.value,P=t.value;let U=0;if(T){if(n.value=E,t.value=T,u&&u===S){u=null;return}U=P?T.position-P.position:0}else i(E);a.forEach(X=>{X(n.value,S,{delta:U,type:Ya.pop,direction:U?U>0?Fa.forward:Fa.back:Fa.unknown})})};function m(){u=n.value}function g(T){a.push(T);const E=()=>{const S=a.indexOf(T);S>-1&&a.splice(S,1)};return s.push(E),E}function y(){const{history:T}=window;T.state&&T.replaceState(Zt({},T.state,{scroll:Xu()}),"")}function x(){for(const T of s)T();s=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:m,listen:g,destroy:x}}function sp(e,t,n,i=!1,a=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:a?Xu():null}}function N1(e){const{history:t,location:n}=window,i={value:hg(e,n)},a={value:t.state};a.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(m,g,y){const x=e.indexOf("#"),T=x>-1?(n.host&&document.querySelector("base")?e:e.slice(x))+m:j1()+e+m;try{t[y?"replaceState":"pushState"](g,"",T),a.value=g}catch(E){console.error(E),n[y?"replace":"assign"](T)}}function u(m,g){const y=Zt({},t.state,sp(a.value.back,m,a.value.forward,!0),g,{position:a.value.position});s(m,y,!0),i.value=m}function h(m,g){const y=Zt({},a.value,t.state,{forward:m,scroll:Xu()});s(y.current,y,!0);const x=Zt({},sp(i.value,m,null),{position:y.position+1},g);s(m,x,!1),i.value=m}return{location:i,state:a,push:h,replace:u}}function V1(e){e=P1(e);const t=N1(e),n=F1(e,t.state,t.location,t.replace);function i(s,u=!0){u||n.pauseListeners(),history.go(s)}const a=Zt({location:"",base:e,go:i,createHref:A1.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function $1(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),V1(e)}function z1(e){return typeof e=="string"||e&&typeof e=="object"}function fg(e){return typeof e=="string"||typeof e=="symbol"}const pg=Symbol("");var ap;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ap||(ap={}));function Ss(e,t){return Zt(new Error,{type:e,[pg]:!0},t)}function mi(e,t){return e instanceof Error&&pg in e&&(t==null||!!(e.type&t))}const lp="[^/]+?",H1={sensitive:!1,strict:!1,start:!0,end:!0},U1=/[.+*?^${}()[\]/\\]/g;function G1(e,t){const n=Zt({},H1,t),i=[];let a=n.start?"^":"";const s=[];for(const g of e){const y=g.length?[]:[90];n.strict&&!g.length&&(a+="/");for(let x=0;x<g.length;x++){const T=g[x];let E=40+(n.sensitive?.25:0);if(T.type===0)x||(a+="/"),a+=T.value.replace(U1,"\\$&"),E+=40;else if(T.type===1){const{value:S,repeatable:P,optional:U,regexp:X}=T;s.push({name:S,repeatable:P,optional:U});const Q=X||lp;if(Q!==lp){E+=10;try{new RegExp(`(${Q})`)}catch(W){throw new Error(`Invalid custom RegExp for param "${S}" (${Q}): `+W.message)}}let $=P?`((?:${Q})(?:/(?:${Q}))*)`:`(${Q})`;x||($=U&&g.length<2?`(?:/${$})`:"/"+$),U&&($+="?"),a+=$,E+=20,U&&(E+=-8),P&&(E+=-20),Q===".*"&&(E+=-50)}y.push(E)}i.push(y)}if(n.strict&&n.end){const g=i.length-1;i[g][i[g].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const u=new RegExp(a,n.sensitive?"":"i");function h(g){const y=g.match(u),x={};if(!y)return null;for(let T=1;T<y.length;T++){const E=y[T]||"",S=s[T-1];x[S.name]=E&&S.repeatable?E.split("/"):E}return x}function m(g){let y="",x=!1;for(const T of e){(!x||!y.endsWith("/"))&&(y+="/"),x=!1;for(const E of T)if(E.type===0)y+=E.value;else if(E.type===1){const{value:S,repeatable:P,optional:U}=E,X=S in g?g[S]:"";if(Vr(X)&&!P)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const Q=Vr(X)?X.join("/"):X;if(!Q)if(U)T.length<2&&(y.endsWith("/")?y=y.slice(0,-1):x=!0);else throw new Error(`Missing required param "${S}"`);y+=Q}}return y||"/"}return{re:u,score:i,keys:s,parse:h,stringify:m}}function q1(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function mg(e,t){let n=0;const i=e.score,a=t.score;for(;n<i.length&&n<a.length;){const s=q1(i[n],a[n]);if(s)return s;n++}if(Math.abs(a.length-i.length)===1){if(up(i))return 1;if(up(a))return-1}return a.length-i.length}function up(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Z1={type:0,value:""},K1=/[a-zA-Z0-9_]/;function W1(e){if(!e)return[[]];if(e==="/")return[[Z1]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(E){throw new Error(`ERR (${n})/"${g}": ${E}`)}let n=0,i=n;const a=[];let s;function u(){s&&a.push(s),s=[]}let h=0,m,g="",y="";function x(){g&&(n===0?s.push({type:0,value:g}):n===1||n===2||n===3?(s.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:g,regexp:y,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),g="")}function T(){g+=m}for(;h<e.length;){if(m=e[h++],m==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:m==="/"?(g&&x(),u()):m===":"?(x(),n=1):T();break;case 4:T(),n=i;break;case 1:m==="("?n=2:K1.test(m)?T():(x(),n=0,m!=="*"&&m!=="?"&&m!=="+"&&h--);break;case 2:m===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+m:n=3:y+=m;break;case 3:x(),n=0,m!=="*"&&m!=="?"&&m!=="+"&&h--,y="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${g}"`),x(),u(),a}function J1(e,t,n){const i=G1(W1(e.path),n),a=Zt(i,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Y1(e,t){const n=[],i=new Map;t=fp({strict:!1,end:!0,sensitive:!1},t);function a(x){return i.get(x)}function s(x,T,E){const S=!E,P=dp(x);P.aliasOf=E&&E.record;const U=fp(t,x),X=[P];if("alias"in x){const W=typeof x.alias=="string"?[x.alias]:x.alias;for(const oe of W)X.push(dp(Zt({},P,{components:E?E.record.components:P.components,path:oe,aliasOf:E?E.record:P})))}let Q,$;for(const W of X){const{path:oe}=W;if(T&&oe[0]!=="/"){const Ce=T.record.path,be=Ce[Ce.length-1]==="/"?"":"/";W.path=T.record.path+(oe&&be+oe)}if(Q=J1(W,T,U),E?E.alias.push(Q):($=$||Q,$!==Q&&$.alias.push(Q),S&&x.name&&!hp(Q)&&u(x.name)),_g(Q)&&m(Q),P.children){const Ce=P.children;for(let be=0;be<Ce.length;be++)s(Ce[be],Q,E&&E.children[be])}E=E||Q}return $?()=>{u($)}:ja}function u(x){if(fg(x)){const T=i.get(x);T&&(i.delete(x),n.splice(n.indexOf(T),1),T.children.forEach(u),T.alias.forEach(u))}else{const T=n.indexOf(x);T>-1&&(n.splice(T,1),x.record.name&&i.delete(x.record.name),x.children.forEach(u),x.alias.forEach(u))}}function h(){return n}function m(x){const T=e4(x,n);n.splice(T,0,x),x.record.name&&!hp(x)&&i.set(x.record.name,x)}function g(x,T){let E,S={},P,U;if("name"in x&&x.name){if(E=i.get(x.name),!E)throw Ss(1,{location:x});U=E.record.name,S=Zt(cp(T.params,E.keys.filter($=>!$.optional).concat(E.parent?E.parent.keys.filter($=>$.optional):[]).map($=>$.name)),x.params&&cp(x.params,E.keys.map($=>$.name))),P=E.stringify(S)}else if(x.path!=null)P=x.path,E=n.find($=>$.re.test(P)),E&&(S=E.parse(P),U=E.record.name);else{if(E=T.name?i.get(T.name):n.find($=>$.re.test(T.path)),!E)throw Ss(1,{location:x,currentLocation:T});U=E.record.name,S=Zt({},T.params,x.params),P=E.stringify(S)}const X=[];let Q=E;for(;Q;)X.unshift(Q.record),Q=Q.parent;return{name:U,path:P,params:S,matched:X,meta:Q1(X)}}e.forEach(x=>s(x));function y(){n.length=0,i.clear()}return{addRoute:s,resolve:g,removeRoute:u,clearRoutes:y,getRoutes:h,getRecordMatcher:a}}function cp(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function dp(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:X1(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function X1(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function hp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Q1(e){return e.reduce((t,n)=>Zt(t,n.meta),{})}function fp(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function e4(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;mg(e,t[s])<0?i=s:n=s+1}const a=t4(e);return a&&(i=t.lastIndexOf(a,i-1)),i}function t4(e){let t=e;for(;t=t.parent;)if(_g(t)&&mg(e,t)===0)return t}function _g({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function n4(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<i.length;++a){const s=i[a].replace(ag," "),u=s.indexOf("="),h=Ja(u<0?s:s.slice(0,u)),m=u<0?null:Ja(s.slice(u+1));if(h in t){let g=t[h];Vr(g)||(g=t[h]=[g]),g.push(m)}else t[h]=m}return t}function pp(e){let t="";for(let n in e){const i=e[n];if(n=x1(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Vr(i)?i.map(s=>s&&Qd(s)):[i&&Qd(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function r4(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Vr(i)?i.map(a=>a==null?null:""+a):i==null?i:""+i)}return t}const i4=Symbol(""),mp=Symbol(""),Qu=Symbol(""),Hh=Symbol(""),th=Symbol("");function ba(){let e=[];function t(i){return e.push(i),()=>{const a=e.indexOf(i);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ui(e,t,n,i,a,s=u=>u()){const u=i&&(i.enterCallbacks[a]=i.enterCallbacks[a]||[]);return()=>new Promise((h,m)=>{const g=T=>{T===!1?m(Ss(4,{from:n,to:t})):T instanceof Error?m(T):z1(T)?m(Ss(2,{from:t,to:T})):(u&&i.enterCallbacks[a]===u&&typeof T=="function"&&u.push(T),h())},y=s(()=>e.call(i&&i.instances[a],t,n,g));let x=Promise.resolve(y);e.length<3&&(x=x.then(g)),x.catch(T=>m(T))})}function kd(e,t,n,i,a=s=>s()){const s=[];for(const u of e)for(const h in u.components){let m=u.components[h];if(!(t!=="beforeRouteEnter"&&!u.instances[h]))if(og(m)){const y=(m.__vccOpts||m)[t];y&&s.push(Ui(y,n,i,u,h,a))}else{let g=m();s.push(()=>g.then(y=>{if(!y)throw new Error(`Couldn't resolve component "${h}" at "${u.path}"`);const x=c1(y)?y.default:y;u.mods[h]=y,u.components[h]=x;const E=(x.__vccOpts||x)[t];return E&&Ui(E,n,i,u,h,a)()}))}}return s}function _p(e){const t=Bn(Qu),n=Bn(Hh),i=He(()=>{const m=Re(e.to);return t.resolve(m)}),a=He(()=>{const{matched:m}=i.value,{length:g}=m,y=m[g-1],x=n.matched;if(!y||!x.length)return-1;const T=x.findIndex(Ts.bind(null,y));if(T>-1)return T;const E=gp(m[g-2]);return g>1&&gp(y)===E&&x[x.length-1].path!==E?x.findIndex(Ts.bind(null,m[g-2])):T}),s=He(()=>a.value>-1&&u4(n.params,i.value.params)),u=He(()=>a.value>-1&&a.value===n.matched.length-1&&dg(n.params,i.value.params));function h(m={}){if(l4(m)){const g=t[Re(e.replace)?"replace":"push"](Re(e.to)).catch(ja);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>g),g}return Promise.resolve()}return{route:i,href:He(()=>i.value.href),isActive:s,isExactActive:u,navigate:h}}function o4(e){return e.length===1?e[0]:e}const s4=Et({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:_p,setup(e,{slots:t}){const n=As(_p(e)),{options:i}=Bn(Qu),a=He(()=>({[yp(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[yp(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&o4(t.default(n));return e.custom?s:Vh("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},s)}}}),a4=s4;function l4(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function u4(e,t){for(const n in t){const i=t[n],a=e[n];if(typeof i=="string"){if(i!==a)return!1}else if(!Vr(a)||a.length!==i.length||i.some((s,u)=>s!==a[u]))return!1}return!0}function gp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yp=(e,t,n)=>e??t??n,c4=Et({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Bn(th),a=He(()=>e.route||i.value),s=Bn(mp,0),u=He(()=>{let g=Re(s);const{matched:y}=a.value;let x;for(;(x=y[g])&&!x.components;)g++;return g}),h=He(()=>a.value.matched[u.value]);Oa(mp,He(()=>u.value+1)),Oa(i4,h),Oa(th,a);const m=Me();return on(()=>[m.value,h.value,e.name],([g,y,x],[T,E,S])=>{y&&(y.instances[x]=g,E&&E!==y&&g&&g===T&&(y.leaveGuards.size||(y.leaveGuards=E.leaveGuards),y.updateGuards.size||(y.updateGuards=E.updateGuards))),g&&y&&(!E||!Ts(y,E)||!T)&&(y.enterCallbacks[x]||[]).forEach(P=>P(g))},{flush:"post"}),()=>{const g=a.value,y=e.name,x=h.value,T=x&&x.components[y];if(!T)return vp(n.default,{Component:T,route:g});const E=x.props[y],S=E?E===!0?g.params:typeof E=="function"?E(g):E:null,U=Vh(T,Zt({},S,t,{onVnodeUnmounted:X=>{X.component.isUnmounted&&(x.instances[y]=null)},ref:m}));return vp(n.default,{Component:U,route:g})||U}}});function vp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const d4=c4;function h4(e){const t=Y1(e.routes,e),n=e.parseQuery||n4,i=e.stringifyQuery||pp,a=e.history,s=ba(),u=ba(),h=ba(),m=Ym(Vi);let g=Vi;_s&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=Ld.bind(null,Te=>""+Te),x=Ld.bind(null,L1),T=Ld.bind(null,Ja);function E(Te,We){let Ze,st;return fg(Te)?(Ze=t.getRecordMatcher(Te),st=We):st=Te,t.addRoute(st,Ze)}function S(Te){const We=t.getRecordMatcher(Te);We&&t.removeRoute(We)}function P(){return t.getRoutes().map(Te=>Te.record)}function U(Te){return!!t.getRecordMatcher(Te)}function X(Te,We){if(We=Zt({},We||m.value),typeof Te=="string"){const te=Cd(n,Te,We.path),ye=t.resolve({path:te.path},We),Ne=a.createHref(te.fullPath);return Zt(te,ye,{params:T(ye.params),hash:Ja(te.hash),redirectedFrom:void 0,href:Ne})}let Ze;if(Te.path!=null)Ze=Zt({},Te,{path:Cd(n,Te.path,We.path).path});else{const te=Zt({},Te.params);for(const ye in te)te[ye]==null&&delete te[ye];Ze=Zt({},Te,{params:x(te)}),We.params=x(We.params)}const st=t.resolve(Ze,We),Rt=Te.hash||"";st.params=y(T(st.params));const zt=E1(i,Zt({},Te,{hash:b1(Rt),path:st.path})),K=a.createHref(zt);return Zt({fullPath:zt,hash:Rt,query:i===pp?r4(Te.query):Te.query||{}},st,{redirectedFrom:void 0,href:K})}function Q(Te){return typeof Te=="string"?Cd(n,Te,m.value.path):Zt({},Te)}function $(Te,We){if(g!==Te)return Ss(8,{from:We,to:Te})}function W(Te){return be(Te)}function oe(Te){return W(Zt(Q(Te),{replace:!0}))}function Ce(Te){const We=Te.matched[Te.matched.length-1];if(We&&We.redirect){const{redirect:Ze}=We;let st=typeof Ze=="function"?Ze(Te):Ze;return typeof st=="string"&&(st=st.includes("?")||st.includes("#")?st=Q(st):{path:st},st.params={}),Zt({query:Te.query,hash:Te.hash,params:st.path!=null?{}:Te.params},st)}}function be(Te,We){const Ze=g=X(Te),st=m.value,Rt=Te.state,zt=Te.force,K=Te.replace===!0,te=Ce(Ze);if(te)return be(Zt(Q(te),{state:typeof te=="object"?Zt({},Rt,te.state):Rt,force:zt,replace:K}),We||Ze);const ye=Ze;ye.redirectedFrom=We;let Ne;return!zt&&M1(i,st,Ze)&&(Ne=Ss(16,{to:ye,from:st}),wt(st,st,!0,!1)),(Ne?Promise.resolve(Ne):Pe(ye,st)).catch(Se=>mi(Se)?mi(Se,2)?Se:lt(Se):Ae(Se,ye,st)).then(Se=>{if(Se){if(mi(Se,2))return be(Zt({replace:K},Q(Se.to),{state:typeof Se.to=="object"?Zt({},Rt,Se.to.state):Rt,force:zt}),We||ye)}else Se=Be(ye,st,!0,K,Rt);return ze(ye,st,Se),Se})}function Fe(Te,We){const Ze=$(Te,We);return Ze?Promise.reject(Ze):Promise.resolve()}function Ee(Te){const We=jt.values().next().value;return We&&typeof We.runWithContext=="function"?We.runWithContext(Te):Te()}function Pe(Te,We){let Ze;const[st,Rt,zt]=f4(Te,We);Ze=kd(st.reverse(),"beforeRouteLeave",Te,We);for(const te of st)te.leaveGuards.forEach(ye=>{Ze.push(Ui(ye,Te,We))});const K=Fe.bind(null,Te,We);return Ze.push(K),vt(Ze).then(()=>{Ze=[];for(const te of s.list())Ze.push(Ui(te,Te,We));return Ze.push(K),vt(Ze)}).then(()=>{Ze=kd(Rt,"beforeRouteUpdate",Te,We);for(const te of Rt)te.updateGuards.forEach(ye=>{Ze.push(Ui(ye,Te,We))});return Ze.push(K),vt(Ze)}).then(()=>{Ze=[];for(const te of zt)if(te.beforeEnter)if(Vr(te.beforeEnter))for(const ye of te.beforeEnter)Ze.push(Ui(ye,Te,We));else Ze.push(Ui(te.beforeEnter,Te,We));return Ze.push(K),vt(Ze)}).then(()=>(Te.matched.forEach(te=>te.enterCallbacks={}),Ze=kd(zt,"beforeRouteEnter",Te,We,Ee),Ze.push(K),vt(Ze))).then(()=>{Ze=[];for(const te of u.list())Ze.push(Ui(te,Te,We));return Ze.push(K),vt(Ze)}).catch(te=>mi(te,8)?te:Promise.reject(te))}function ze(Te,We,Ze){h.list().forEach(st=>Ee(()=>st(Te,We,Ze)))}function Be(Te,We,Ze,st,Rt){const zt=$(Te,We);if(zt)return zt;const K=We===Vi,te=_s?history.state:{};Ze&&(st||K?a.replace(Te.fullPath,Zt({scroll:K&&te&&te.scroll},Rt)):a.push(Te.fullPath,Rt)),m.value=Te,wt(Te,We,Ze,K),lt()}let rt;function mt(){rt||(rt=a.listen((Te,We,Ze)=>{if(!Ot.listening)return;const st=X(Te),Rt=Ce(st);if(Rt){be(Zt(Rt,{replace:!0,force:!0}),st).catch(ja);return}g=st;const zt=m.value;_s&&D1(op(zt.fullPath,Ze.delta),Xu()),Pe(st,zt).catch(K=>mi(K,12)?K:mi(K,2)?(be(Zt(Q(K.to),{force:!0}),st).then(te=>{mi(te,20)&&!Ze.delta&&Ze.type===Ya.pop&&a.go(-1,!1)}).catch(ja),Promise.reject()):(Ze.delta&&a.go(-Ze.delta,!1),Ae(K,st,zt))).then(K=>{K=K||Be(st,zt,!1),K&&(Ze.delta&&!mi(K,8)?a.go(-Ze.delta,!1):Ze.type===Ya.pop&&mi(K,20)&&a.go(-1,!1)),ze(st,zt,K)}).catch(ja)}))}let Ye=ba(),Ue=ba(),ot;function Ae(Te,We,Ze){lt(Te);const st=Ue.list();return st.length?st.forEach(Rt=>Rt(Te,We,Ze)):console.error(Te),Promise.reject(Te)}function Ut(){return ot&&m.value!==Vi?Promise.resolve():new Promise((Te,We)=>{Ye.add([Te,We])})}function lt(Te){return ot||(ot=!Te,mt(),Ye.list().forEach(([We,Ze])=>Te?Ze(Te):We()),Ye.reset()),Te}function wt(Te,We,Ze,st){const{scrollBehavior:Rt}=e;if(!_s||!Rt)return Promise.resolve();const zt=!Ze&&I1(op(Te.fullPath,0))||(st||!Ze)&&history.state&&history.state.scroll||null;return ol().then(()=>Rt(Te,We,zt)).then(K=>K&&R1(K)).catch(K=>Ae(K,Te,We))}const At=Te=>a.go(Te);let en;const jt=new Set,Ot={currentRoute:m,listening:!0,addRoute:E,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:U,getRoutes:P,resolve:X,options:e,push:W,replace:oe,go:At,back:()=>At(-1),forward:()=>At(1),beforeEach:s.add,beforeResolve:u.add,afterEach:h.add,onError:Ue.add,isReady:Ut,install(Te){const We=this;Te.component("RouterLink",a4),Te.component("RouterView",d4),Te.config.globalProperties.$router=We,Object.defineProperty(Te.config.globalProperties,"$route",{enumerable:!0,get:()=>Re(m)}),_s&&!en&&m.value===Vi&&(en=!0,W(a.location).catch(Rt=>{}));const Ze={};for(const Rt in Vi)Object.defineProperty(Ze,Rt,{get:()=>m.value[Rt],enumerable:!0});Te.provide(Qu,We),Te.provide(Hh,Jm(Ze)),Te.provide(th,m);const st=Te.unmount;jt.add(Te),Te.unmount=function(){jt.delete(Te),jt.size<1&&(g=Vi,rt&&rt(),rt=null,m.value=Vi,en=!1,ot=!1),st()}}};function vt(Te){return Te.reduce((We,Ze)=>We.then(()=>Ee(Ze)),Promise.resolve())}return Ot}function f4(e,t){const n=[],i=[],a=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const h=t.matched[u];h&&(e.matched.find(g=>Ts(g,h))?i.push(h):n.push(h));const m=e.matched[u];m&&(t.matched.find(g=>Ts(g,m))||a.push(m))}return[n,i,a]}function So(){return Bn(Qu)}function Ei(e){return Bn(Hh)}function gg(e,t){return function(){return e.apply(t,arguments)}}const{toString:p4}=Object.prototype,{getPrototypeOf:Uh}=Object,{iterator:ec,toStringTag:yg}=Symbol,tc=(e=>t=>{const n=p4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$r=e=>(e=e.toLowerCase(),t=>tc(t)===e),nc=e=>t=>typeof t===e,{isArray:Rs}=Array,Ps=nc("undefined");function ul(e){return e!==null&&!Ps(e)&&e.constructor!==null&&!Ps(e.constructor)&&lr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vg=$r("ArrayBuffer");function m4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vg(e.buffer),t}const _4=nc("string"),lr=nc("function"),bg=nc("number"),cl=e=>e!==null&&typeof e=="object",g4=e=>e===!0||e===!1,pu=e=>{if(tc(e)!=="object")return!1;const t=Uh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(yg in e)&&!(ec in e)},y4=e=>{if(!cl(e)||ul(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},v4=$r("Date"),b4=$r("File"),x4=$r("Blob"),w4=$r("FileList"),L4=e=>cl(e)&&lr(e.pipe),C4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||lr(e.append)&&((t=tc(e))==="formdata"||t==="object"&&lr(e.toString)&&e.toString()==="[object FormData]"))},k4=$r("URLSearchParams"),[E4,M4,T4,S4]=["ReadableStream","Request","Response","Headers"].map($r),P4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),Rs(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{if(ul(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;let h;for(i=0;i<u;i++)h=s[i],t.call(null,e[h],h,e)}}function xg(e,t){if(ul(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,a;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const yo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wg=e=>!Ps(e)&&e!==yo;function nh(){const{caseless:e,skipUndefined:t}=wg(this)&&this||{},n={},i=(a,s)=>{const u=e&&xg(n,s)||s;pu(n[u])&&pu(a)?n[u]=nh(n[u],a):pu(a)?n[u]=nh({},a):Rs(a)?n[u]=a.slice():(!t||!Ps(a))&&(n[u]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&dl(arguments[a],i);return n}const B4=(e,t,n,{allOwnKeys:i}={})=>(dl(t,(a,s)=>{n&&lr(a)?e[s]=gg(a,n):e[s]=a},{allOwnKeys:i}),e),A4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),O4=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},R4=(e,t,n,i)=>{let a,s,u;const h={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)u=a[s],(!i||i(u,e,t))&&!h[u]&&(t[u]=e[u],h[u]=!0);e=n!==!1&&Uh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},D4=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},I4=e=>{if(!e)return null;if(Rs(e))return e;let t=e.length;if(!bg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},j4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Uh(Uint8Array)),F4=(e,t)=>{const i=(e&&e[ec]).call(e);let a;for(;(a=i.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},N4=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},V4=$r("HTMLFormElement"),$4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),bp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),z4=$r("RegExp"),Lg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};dl(n,(a,s)=>{let u;(u=t(a,s,e))!==!1&&(i[s]=u||a)}),Object.defineProperties(e,i)},H4=e=>{Lg(e,(t,n)=>{if(lr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(lr(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},U4=(e,t)=>{const n={},i=a=>{a.forEach(s=>{n[s]=!0})};return Rs(e)?i(e):i(String(e).split(t)),n},G4=()=>{},q4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Z4(e){return!!(e&&lr(e.append)&&e[yg]==="FormData"&&e[ec])}const K4=e=>{const t=new Array(10),n=(i,a)=>{if(cl(i)){if(t.indexOf(i)>=0)return;if(ul(i))return i;if(!("toJSON"in i)){t[a]=i;const s=Rs(i)?[]:{};return dl(i,(u,h)=>{const m=n(u,a+1);!Ps(m)&&(s[h]=m)}),t[a]=void 0,s}}return i};return n(e,0)},W4=$r("AsyncFunction"),J4=e=>e&&(cl(e)||lr(e))&&lr(e.then)&&lr(e.catch),Cg=((e,t)=>e?setImmediate:t?((n,i)=>(yo.addEventListener("message",({source:a,data:s})=>{a===yo&&s===n&&i.length&&i.shift()()},!1),a=>{i.push(a),yo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",lr(yo.postMessage)),Y4=typeof queueMicrotask<"u"?queueMicrotask.bind(yo):typeof process<"u"&&process.nextTick||Cg,X4=e=>e!=null&&lr(e[ec]),Le={isArray:Rs,isArrayBuffer:vg,isBuffer:ul,isFormData:C4,isArrayBufferView:m4,isString:_4,isNumber:bg,isBoolean:g4,isObject:cl,isPlainObject:pu,isEmptyObject:y4,isReadableStream:E4,isRequest:M4,isResponse:T4,isHeaders:S4,isUndefined:Ps,isDate:v4,isFile:b4,isBlob:x4,isRegExp:z4,isFunction:lr,isStream:L4,isURLSearchParams:k4,isTypedArray:j4,isFileList:w4,forEach:dl,merge:nh,extend:B4,trim:P4,stripBOM:A4,inherits:O4,toFlatObject:R4,kindOf:tc,kindOfTest:$r,endsWith:D4,toArray:I4,forEachEntry:F4,matchAll:N4,isHTMLForm:V4,hasOwnProperty:bp,hasOwnProp:bp,reduceDescriptors:Lg,freezeMethods:H4,toObjectSet:U4,toCamelCase:$4,noop:G4,toFiniteNumber:q4,findKey:xg,global:yo,isContextDefined:wg,isSpecCompliantForm:Z4,toJSONObject:K4,isAsyncFn:W4,isThenable:J4,setImmediate:Cg,asap:Y4,isIterable:X4};function Mt(e,t,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}Le.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const kg=Mt.prototype,Eg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Eg[e]={value:e}});Object.defineProperties(Mt,Eg);Object.defineProperty(kg,"isAxiosError",{value:!0});Mt.from=(e,t,n,i,a,s)=>{const u=Object.create(kg);Le.toFlatObject(e,u,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const h=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return Mt.call(u,h,m,n,i,a),e&&u.cause==null&&Object.defineProperty(u,"cause",{value:e,configurable:!0}),u.name=e&&e.name||"Error",s&&Object.assign(u,s),u};const Q4=null;function rh(e){return Le.isPlainObject(e)||Le.isArray(e)}function Mg(e){return Le.endsWith(e,"[]")?e.slice(0,-2):e}function xp(e,t,n){return e?e.concat(t).map(function(a,s){return a=Mg(a),!n&&s?"["+a+"]":a}).join(n?".":""):t}function ex(e){return Le.isArray(e)&&!e.some(rh)}const tx=Le.toFlatObject(Le,{},null,function(t){return/^is[A-Z]/.test(t)});function rc(e,t,n){if(!Le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,U){return!Le.isUndefined(U[P])});const i=n.metaTokens,a=n.visitor||y,s=n.dots,u=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(t);if(!Le.isFunction(a))throw new TypeError("visitor must be a function");function g(S){if(S===null)return"";if(Le.isDate(S))return S.toISOString();if(Le.isBoolean(S))return S.toString();if(!m&&Le.isBlob(S))throw new Mt("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(S)||Le.isTypedArray(S)?m&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,P,U){let X=S;if(S&&!U&&typeof S=="object"){if(Le.endsWith(P,"{}"))P=i?P:P.slice(0,-2),S=JSON.stringify(S);else if(Le.isArray(S)&&ex(S)||(Le.isFileList(S)||Le.endsWith(P,"[]"))&&(X=Le.toArray(S)))return P=Mg(P),X.forEach(function($,W){!(Le.isUndefined($)||$===null)&&t.append(u===!0?xp([P],W,s):u===null?P:P+"[]",g($))}),!1}return rh(S)?!0:(t.append(xp(U,P,s),g(S)),!1)}const x=[],T=Object.assign(tx,{defaultVisitor:y,convertValue:g,isVisitable:rh});function E(S,P){if(!Le.isUndefined(S)){if(x.indexOf(S)!==-1)throw Error("Circular reference detected in "+P.join("."));x.push(S),Le.forEach(S,function(X,Q){(!(Le.isUndefined(X)||X===null)&&a.call(t,X,Le.isString(Q)?Q.trim():Q,P,T))===!0&&E(X,P?P.concat(Q):[Q])}),x.pop()}}if(!Le.isObject(e))throw new TypeError("data must be an object");return E(e),t}function wp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Gh(e,t){this._pairs=[],e&&rc(e,this,t)}const Tg=Gh.prototype;Tg.append=function(t,n){this._pairs.push([t,n])};Tg.toString=function(t){const n=t?function(i){return t.call(this,i,wp)}:wp;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function nx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sg(e,t,n){if(!t)return e;const i=n&&n.encode||nx;Le.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(a?s=a(t,n):s=Le.isURLSearchParams(t)?t.toString():new Gh(t,n).toString(i),s){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Lp{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Le.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Pg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rx=typeof URLSearchParams<"u"?URLSearchParams:Gh,ix=typeof FormData<"u"?FormData:null,ox=typeof Blob<"u"?Blob:null,sx={isBrowser:!0,classes:{URLSearchParams:rx,FormData:ix,Blob:ox},protocols:["http","https","file","blob","url","data"]},qh=typeof window<"u"&&typeof document<"u",ih=typeof navigator=="object"&&navigator||void 0,ax=qh&&(!ih||["ReactNative","NativeScript","NS"].indexOf(ih.product)<0),lx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ux=qh&&window.location.href||"http://localhost",cx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qh,hasStandardBrowserEnv:ax,hasStandardBrowserWebWorkerEnv:lx,navigator:ih,origin:ux},Symbol.toStringTag,{value:"Module"})),Kn={...cx,...sx};function dx(e,t){return rc(e,new Kn.classes.URLSearchParams,{visitor:function(n,i,a,s){return Kn.isNode&&Le.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function hx(e){return Le.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fx(e){const t={},n=Object.keys(e);let i;const a=n.length;let s;for(i=0;i<a;i++)s=n[i],t[s]=e[s];return t}function Bg(e){function t(n,i,a,s){let u=n[s++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),m=s>=n.length;return u=!u&&Le.isArray(a)?a.length:u,m?(Le.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!h):((!a[u]||!Le.isObject(a[u]))&&(a[u]=[]),t(n,i,a[u],s)&&Le.isArray(a[u])&&(a[u]=fx(a[u])),!h)}if(Le.isFormData(e)&&Le.isFunction(e.entries)){const n={};return Le.forEachEntry(e,(i,a)=>{t(hx(i),a,n,0)}),n}return null}function px(e,t,n){if(Le.isString(e))try{return(t||JSON.parse)(e),Le.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const hl={transitional:Pg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,s=Le.isObject(t);if(s&&Le.isHTMLForm(t)&&(t=new FormData(t)),Le.isFormData(t))return a?JSON.stringify(Bg(t)):t;if(Le.isArrayBuffer(t)||Le.isBuffer(t)||Le.isStream(t)||Le.isFile(t)||Le.isBlob(t)||Le.isReadableStream(t))return t;if(Le.isArrayBufferView(t))return t.buffer;if(Le.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return dx(t,this.formSerializer).toString();if((h=Le.isFileList(t))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return rc(h?{"files[]":t}:t,m&&new m,this.formSerializer)}}return s||a?(n.setContentType("application/json",!1),px(t)):t}],transformResponse:[function(t){const n=this.transitional||hl.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Le.isResponse(t)||Le.isReadableStream(t))return t;if(t&&Le.isString(t)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?Mt.from(h,Mt.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],e=>{hl.headers[e]={}});const mx=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_x=e=>{const t={};let n,i,a;return e&&e.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||t[n]&&mx[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Cp=Symbol("internals");function xa(e){return e&&String(e).trim().toLowerCase()}function mu(e){return e===!1||e==null?e:Le.isArray(e)?e.map(mu):String(e)}function gx(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const yx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ed(e,t,n,i,a){if(Le.isFunction(i))return i.call(this,t,n);if(a&&(t=n),!!Le.isString(t)){if(Le.isString(i))return t.indexOf(i)!==-1;if(Le.isRegExp(i))return i.test(t)}}function vx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function bx(e,t){const n=Le.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(a,s,u){return this[i].call(this,t,a,s,u)},configurable:!0})})}let ur=class{constructor(t){t&&this.set(t)}set(t,n,i){const a=this;function s(h,m,g){const y=xa(m);if(!y)throw new Error("header name must be a non-empty string");const x=Le.findKey(a,y);(!x||a[x]===void 0||g===!0||g===void 0&&a[x]!==!1)&&(a[x||m]=mu(h))}const u=(h,m)=>Le.forEach(h,(g,y)=>s(g,y,m));if(Le.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(Le.isString(t)&&(t=t.trim())&&!yx(t))u(_x(t),n);else if(Le.isObject(t)&&Le.isIterable(t)){let h={},m,g;for(const y of t){if(!Le.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[g=y[0]]=(m=h[g])?Le.isArray(m)?[...m,y[1]]:[m,y[1]]:y[1]}u(h,n)}else t!=null&&s(n,t,i);return this}get(t,n){if(t=xa(t),t){const i=Le.findKey(this,t);if(i){const a=this[i];if(!n)return a;if(n===!0)return gx(a);if(Le.isFunction(n))return n.call(this,a,i);if(Le.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=xa(t),t){const i=Le.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Ed(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let a=!1;function s(u){if(u=xa(u),u){const h=Le.findKey(i,u);h&&(!n||Ed(i,i[h],h,n))&&(delete i[h],a=!0)}}return Le.isArray(t)?t.forEach(s):s(t),a}clear(t){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const s=n[i];(!t||Ed(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const n=this,i={};return Le.forEach(this,(a,s)=>{const u=Le.findKey(i,s);if(u){n[u]=mu(a),delete n[s];return}const h=t?vx(s):String(s).trim();h!==s&&delete n[s],n[h]=mu(a),i[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Le.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=t&&Le.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[Cp]=this[Cp]={accessors:{}}).accessors,a=this.prototype;function s(u){const h=xa(u);i[h]||(bx(a,u),i[h]=!0)}return Le.isArray(t)?t.forEach(s):s(t),this}};ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(ur.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});Le.freezeMethods(ur);function Md(e,t){const n=this||hl,i=t||n,a=ur.from(i.headers);let s=i.data;return Le.forEach(e,function(h){s=h.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Ag(e){return!!(e&&e.__CANCEL__)}function Ds(e,t,n){Mt.call(this,e??"canceled",Mt.ERR_CANCELED,t,n),this.name="CanceledError"}Le.inherits(Ds,Mt,{__CANCEL__:!0});function Og(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Mt("Request failed with status code "+n.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function xx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wx(e,t){e=e||10;const n=new Array(e),i=new Array(e);let a=0,s=0,u;return t=t!==void 0?t:1e3,function(m){const g=Date.now(),y=i[s];u||(u=g),n[a]=m,i[a]=g;let x=s,T=0;for(;x!==a;)T+=n[x++],x=x%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),g-u<t)return;const E=y&&g-y;return E?Math.round(T*1e3/E):void 0}}function Lx(e,t){let n=0,i=1e3/t,a,s;const u=(g,y=Date.now())=>{n=y,a=null,s&&(clearTimeout(s),s=null),e(...g)};return[(...g)=>{const y=Date.now(),x=y-n;x>=i?u(g,y):(a=g,s||(s=setTimeout(()=>{s=null,u(a)},i-x)))},()=>a&&u(a)]}const ju=(e,t,n=3)=>{let i=0;const a=wx(50,250);return Lx(s=>{const u=s.loaded,h=s.lengthComputable?s.total:void 0,m=u-i,g=a(m),y=u<=h;i=u;const x={loaded:u,total:h,progress:h?u/h:void 0,bytes:m,rate:g||void 0,estimated:g&&h&&y?(h-u)/g:void 0,event:s,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(x)},n)},kp=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Ep=e=>(...t)=>Le.asap(()=>e(...t)),Cx=Kn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,kx=Kn.hasStandardBrowserEnv?{write(e,t,n,i,a,s){const u=[e+"="+encodeURIComponent(t)];Le.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),Le.isString(i)&&u.push("path="+i),Le.isString(a)&&u.push("domain="+a),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ex(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Mx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Rg(e,t,n){let i=!Ex(t);return e&&(i||n==!1)?Mx(e,t):t}const Mp=e=>e instanceof ur?{...e}:e;function Eo(e,t){t=t||{};const n={};function i(g,y,x,T){return Le.isPlainObject(g)&&Le.isPlainObject(y)?Le.merge.call({caseless:T},g,y):Le.isPlainObject(y)?Le.merge({},y):Le.isArray(y)?y.slice():y}function a(g,y,x,T){if(Le.isUndefined(y)){if(!Le.isUndefined(g))return i(void 0,g,x,T)}else return i(g,y,x,T)}function s(g,y){if(!Le.isUndefined(y))return i(void 0,y)}function u(g,y){if(Le.isUndefined(y)){if(!Le.isUndefined(g))return i(void 0,g)}else return i(void 0,y)}function h(g,y,x){if(x in t)return i(g,y);if(x in e)return i(void 0,g)}const m={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(g,y,x)=>a(Mp(g),Mp(y),x,!0)};return Le.forEach(Object.keys({...e,...t}),function(y){const x=m[y]||a,T=x(e[y],t[y],y);Le.isUndefined(T)&&x!==h||(n[y]=T)}),n}const Dg=e=>{const t=Eo({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:u,auth:h}=t;if(t.headers=u=ur.from(u),t.url=Sg(Rg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Le.isFormData(n)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(Le.isFunction(n.getHeaders)){const m=n.getHeaders(),g=["content-type","content-length"];Object.entries(m).forEach(([y,x])=>{g.includes(y.toLowerCase())&&u.set(y,x)})}}if(Kn.hasStandardBrowserEnv&&(i&&Le.isFunction(i)&&(i=i(t)),i||i!==!1&&Cx(t.url))){const m=a&&s&&kx.read(s);m&&u.set(a,m)}return t},Tx=typeof XMLHttpRequest<"u",Sx=Tx&&function(e){return new Promise(function(n,i){const a=Dg(e);let s=a.data;const u=ur.from(a.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:g}=a,y,x,T,E,S;function P(){E&&E(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let U=new XMLHttpRequest;U.open(a.method.toUpperCase(),a.url,!0),U.timeout=a.timeout;function X(){if(!U)return;const $=ur.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),oe={data:!h||h==="text"||h==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:$,config:e,request:U};Og(function(be){n(be),P()},function(be){i(be),P()},oe),U=null}"onloadend"in U?U.onloadend=X:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(X)},U.onabort=function(){U&&(i(new Mt("Request aborted",Mt.ECONNABORTED,e,U)),U=null)},U.onerror=function(W){const oe=W&&W.message?W.message:"Network Error",Ce=new Mt(oe,Mt.ERR_NETWORK,e,U);Ce.event=W||null,i(Ce),U=null},U.ontimeout=function(){let W=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const oe=a.transitional||Pg;a.timeoutErrorMessage&&(W=a.timeoutErrorMessage),i(new Mt(W,oe.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,e,U)),U=null},s===void 0&&u.setContentType(null),"setRequestHeader"in U&&Le.forEach(u.toJSON(),function(W,oe){U.setRequestHeader(oe,W)}),Le.isUndefined(a.withCredentials)||(U.withCredentials=!!a.withCredentials),h&&h!=="json"&&(U.responseType=a.responseType),g&&([T,S]=ju(g,!0),U.addEventListener("progress",T)),m&&U.upload&&([x,E]=ju(m),U.upload.addEventListener("progress",x),U.upload.addEventListener("loadend",E)),(a.cancelToken||a.signal)&&(y=$=>{U&&(i(!$||$.type?new Ds(null,e,U):$),U.abort(),U=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const Q=xx(a.url);if(Q&&Kn.protocols.indexOf(Q)===-1){i(new Mt("Unsupported protocol "+Q+":",Mt.ERR_BAD_REQUEST,e));return}U.send(s||null)})},Px=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,a;const s=function(g){if(!a){a=!0,h();const y=g instanceof Error?g:this.reason;i.abort(y instanceof Mt?y:new Ds(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{u=null,s(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const h=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(s):g.removeEventListener("abort",s)}),e=null)};e.forEach(g=>g.addEventListener("abort",s));const{signal:m}=i;return m.unsubscribe=()=>Le.asap(h),m}},Bx=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,a;for(;i<n;)a=i+t,yield e.slice(i,a),i=a},Ax=async function*(e,t){for await(const n of Ox(e))yield*Bx(n,t)},Ox=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Tp=(e,t,n,i)=>{const a=Ax(e,t);let s=0,u,h=m=>{u||(u=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:g,value:y}=await a.next();if(g){h(),m.close();return}let x=y.byteLength;if(n){let T=s+=x;n(T)}m.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}},cancel(m){return h(m),a.return()}},{highWaterMark:2})},Sp=64*1024,{isFunction:lu}=Le,Rx=(({Request:e,Response:t})=>({Request:e,Response:t}))(Le.global),{ReadableStream:Pp,TextEncoder:Bp}=Le.global,Ap=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Dx=e=>{e=Le.merge.call({skipUndefined:!0},Rx,e);const{fetch:t,Request:n,Response:i}=e,a=t?lu(t):typeof fetch=="function",s=lu(n),u=lu(i);if(!a)return!1;const h=a&&lu(Pp),m=a&&(typeof Bp=="function"?(S=>P=>S.encode(P))(new Bp):async S=>new Uint8Array(await new n(S).arrayBuffer())),g=s&&h&&Ap(()=>{let S=!1;const P=new n(Kn.origin,{body:new Pp,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!P}),y=u&&h&&Ap(()=>Le.isReadableStream(new i("").body)),x={stream:y&&(S=>S.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!x[S]&&(x[S]=(P,U)=>{let X=P&&P[S];if(X)return X.call(P);throw new Mt(`Response type '${S}' is not supported`,Mt.ERR_NOT_SUPPORT,U)})});const T=async S=>{if(S==null)return 0;if(Le.isBlob(S))return S.size;if(Le.isSpecCompliantForm(S))return(await new n(Kn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(Le.isArrayBufferView(S)||Le.isArrayBuffer(S))return S.byteLength;if(Le.isURLSearchParams(S)&&(S=S+""),Le.isString(S))return(await m(S)).byteLength},E=async(S,P)=>{const U=Le.toFiniteNumber(S.getContentLength());return U??T(P)};return async S=>{let{url:P,method:U,data:X,signal:Q,cancelToken:$,timeout:W,onDownloadProgress:oe,onUploadProgress:Ce,responseType:be,headers:Fe,withCredentials:Ee="same-origin",fetchOptions:Pe}=Dg(S),ze=t||fetch;be=be?(be+"").toLowerCase():"text";let Be=Px([Q,$&&$.toAbortSignal()],W),rt=null;const mt=Be&&Be.unsubscribe&&(()=>{Be.unsubscribe()});let Ye;try{if(Ce&&g&&U!=="get"&&U!=="head"&&(Ye=await E(Fe,X))!==0){let wt=new n(P,{method:"POST",body:X,duplex:"half"}),At;if(Le.isFormData(X)&&(At=wt.headers.get("content-type"))&&Fe.setContentType(At),wt.body){const[en,jt]=kp(Ye,ju(Ep(Ce)));X=Tp(wt.body,Sp,en,jt)}}Le.isString(Ee)||(Ee=Ee?"include":"omit");const Ue=s&&"credentials"in n.prototype,ot={...Pe,signal:Be,method:U.toUpperCase(),headers:Fe.normalize().toJSON(),body:X,duplex:"half",credentials:Ue?Ee:void 0};rt=s&&new n(P,ot);let Ae=await(s?ze(rt,Pe):ze(P,ot));const Ut=y&&(be==="stream"||be==="response");if(y&&(oe||Ut&&mt)){const wt={};["status","statusText","headers"].forEach(Ot=>{wt[Ot]=Ae[Ot]});const At=Le.toFiniteNumber(Ae.headers.get("content-length")),[en,jt]=oe&&kp(At,ju(Ep(oe),!0))||[];Ae=new i(Tp(Ae.body,Sp,en,()=>{jt&&jt(),mt&&mt()}),wt)}be=be||"text";let lt=await x[Le.findKey(x,be)||"text"](Ae,S);return!Ut&&mt&&mt(),await new Promise((wt,At)=>{Og(wt,At,{data:lt,headers:ur.from(Ae.headers),status:Ae.status,statusText:Ae.statusText,config:S,request:rt})})}catch(Ue){throw mt&&mt(),Ue&&Ue.name==="TypeError"&&/Load failed|fetch/i.test(Ue.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,S,rt),{cause:Ue.cause||Ue}):Mt.from(Ue,Ue&&Ue.code,S,rt)}}},Ix=new Map,Ig=e=>{let t=e?e.env:{};const{fetch:n,Request:i,Response:a}=t,s=[i,a,n];let u=s.length,h=u,m,g,y=Ix;for(;h--;)m=s[h],g=y.get(m),g===void 0&&y.set(m,g=h?new Map:Dx(t)),y=g;return g};Ig();const oh={http:Q4,xhr:Sx,fetch:{get:Ig}};Le.forEach(oh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Op=e=>`- ${e}`,jx=e=>Le.isFunction(e)||e===null||e===!1,jg={getAdapter:(e,t)=>{e=Le.isArray(e)?e:[e];const{length:n}=e;let i,a;const s={};for(let u=0;u<n;u++){i=e[u];let h;if(a=i,!jx(i)&&(a=oh[(h=String(i)).toLowerCase()],a===void 0))throw new Mt(`Unknown adapter '${h}'`);if(a&&(Le.isFunction(a)||(a=a.get(t))))break;s[h||"#"+u]=a}if(!a){const u=Object.entries(s).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=n?u.length>1?`since :
`+u.map(Op).join(`
`):" "+Op(u[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return a},adapters:oh};function Td(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ds(null,e)}function Rp(e){return Td(e),e.headers=ur.from(e.headers),e.data=Md.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jg.getAdapter(e.adapter||hl.adapter,e)(e).then(function(i){return Td(e),i.data=Md.call(e,e.transformResponse,i),i.headers=ur.from(i.headers),i},function(i){return Ag(i)||(Td(e),i&&i.response&&(i.response.data=Md.call(e,e.transformResponse,i.response),i.response.headers=ur.from(i.response.headers))),Promise.reject(i)})}const Fg="1.12.2",ic={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ic[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Dp={};ic.transitional=function(t,n,i){function a(s,u){return"[Axios v"+Fg+"] Transitional option '"+s+"'"+u+(i?". "+i:"")}return(s,u,h)=>{if(t===!1)throw new Mt(a(u," has been removed"+(n?" in "+n:"")),Mt.ERR_DEPRECATED);return n&&!Dp[u]&&(Dp[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,u,h):!0}};ic.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Fx(e,t,n){if(typeof e!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const s=i[a],u=t[s];if(u){const h=e[s],m=h===void 0||u(h,s,e);if(m!==!0)throw new Mt("option "+s+" must be "+m,Mt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mt("Unknown option "+s,Mt.ERR_BAD_OPTION)}}const _u={assertOptions:Fx,validators:ic},Jr=_u.validators;let Co=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Lp,response:new Lp}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Eo(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:s}=n;i!==void 0&&_u.assertOptions(i,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),a!=null&&(Le.isFunction(a)?n.paramsSerializer={serialize:a}:_u.assertOptions(a,{encode:Jr.function,serialize:Jr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_u.assertOptions(n,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=s&&Le.merge(s.common,s[n.method]);s&&Le.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),n.headers=ur.concat(u,s);const h=[];let m=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(n)===!1||(m=m&&P.synchronous,h.unshift(P.fulfilled,P.rejected))});const g=[];this.interceptors.response.forEach(function(P){g.push(P.fulfilled,P.rejected)});let y,x=0,T;if(!m){const S=[Rp.bind(this),void 0];for(S.unshift(...h),S.push(...g),T=S.length,y=Promise.resolve(n);x<T;)y=y.then(S[x++],S[x++]);return y}T=h.length;let E=n;for(;x<T;){const S=h[x++],P=h[x++];try{E=S(E)}catch(U){P.call(this,U);break}}try{y=Rp.call(this,E)}catch(S){return Promise.reject(S)}for(x=0,T=g.length;x<T;)y=y.then(g[x++],g[x++]);return y}getUri(t){t=Eo(this.defaults,t);const n=Rg(t.baseURL,t.url,t.allowAbsoluteUrls);return Sg(n,t.params,t.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(t){Co.prototype[t]=function(n,i){return this.request(Eo(i||{},{method:t,url:n,data:(i||{}).data}))}});Le.forEach(["post","put","patch"],function(t){function n(i){return function(s,u,h){return this.request(Eo(h||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}Co.prototype[t]=n(),Co.prototype[t+"Form"]=n(!0)});let Nx=class Ng{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(a=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](a);i._listeners=null}),this.promise.then=a=>{let s;const u=new Promise(h=>{i.subscribe(h),s=h}).then(a);return u.cancel=function(){i.unsubscribe(s)},u},t(function(s,u,h){i.reason||(i.reason=new Ds(s,u,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ng(function(a){t=a}),cancel:t}}};function Vx(e){return function(n){return e.apply(null,n)}}function $x(e){return Le.isObject(e)&&e.isAxiosError===!0}const sh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sh).forEach(([e,t])=>{sh[t]=e});function Vg(e){const t=new Co(e),n=gg(Co.prototype.request,t);return Le.extend(n,Co.prototype,t,{allOwnKeys:!0}),Le.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Vg(Eo(e,a))},n}const _n=Vg(hl);_n.Axios=Co;_n.CanceledError=Ds;_n.CancelToken=Nx;_n.isCancel=Ag;_n.VERSION=Fg;_n.toFormData=rc;_n.AxiosError=Mt;_n.Cancel=_n.CanceledError;_n.all=function(t){return Promise.all(t)};_n.spread=Vx;_n.isAxiosError=$x;_n.mergeConfig=Eo;_n.AxiosHeaders=ur;_n.formToJSON=e=>Bg(Le.isHTMLForm(e)?new FormData(e):e);_n.getAdapter=jg.getAdapter;_n.HttpStatusCode=sh;_n.default=_n;const{Axios:h6,AxiosError:f6,CanceledError:p6,isCancel:m6,CancelToken:_6,VERSION:g6,all:y6,Cancel:v6,isAxiosError:b6,spread:x6,toFormData:w6,AxiosHeaders:L6,HttpStatusCode:C6,formToJSON:k6,getAdapter:E6,mergeConfig:M6}=_n;var zx={url:"https://sfg.taxonworks.org/api/v1",project_token:"ekMTicbZWijqmdpHKqs_TA"};const{url:Hx,project_token:Ux}=zx,Bt=_n.create({baseURL:Hx,params:{project_token:Ux}});function Gx(e){return e.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,t=>t.toUpperCase())}function qx(e){if(!e)return"";const t=/(https?:\/\/[^\s<]+)/g;return e.replace(t,'<a href="$1" target="_blank" rel="noopener">$1</a>')}var Zx={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:specimens"],["panel:map","panel:descendants","panel:content",{id:"panel:statistics",bind:{showTaxa:!0,showDetermined:!0,hideNames:!0,hideExtant:!0,hideFossil:!0,hideInvalid:!0}},"panel:keys","panel:type","panel:nomenclature","panel:nomenclature-references"]]]}},project_name:"Search PERC",project_citation:"Search PERC. 2024. https://ag.purdue.edu/department/entm/perc/",project_url:"https://github.com/PurdueEntomologicalResearchCollection/taxonpages/",project_authors:"Aaron Smith, Christopher Wirth",metadata:[{name:"description",content:"Search PERC, powered by TaxonWorks."},{name:"keywords",content:"purdue, entomology, perc, taxonworks, taxonpages"},{name:"robots",content:"follow"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"Search PERC",header_links:[{label:"Home",link:"/"},{label:"Bibliography",link:"/resources/tw/filter/bibliography"},{label:"About",link:"/about"},{label:"Source",link:"https://github.com/PurdueEntomologicalResearchCollection/taxonpages/"}],enable_specimen_tags:!1,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"ekMTicbZWijqmdpHKqs_TA"};function Kx(e){try{return new URL(e),!0}catch{return!1}}const Zh=(e=Zx)=>{const t=e?.base_url||"",n=e?.deployed_base_url||"";return window.location.origin.indexOf(".github.io/")>0?t:n};function Wx(){return Jx(Object.assign({}))}function Jx(e){const t=Object.entries(e),n={};return t.forEach(([i,a])=>{const s=i.split("/").pop().replace(".vue","");Object.assign(n,{[s]:a})}),n}function Yx(e,t=null,n="application/octet-stream"){const i=window.URL.createObjectURL(new Blob([e],{type:n})),a=document.createElement("a");a.href=i,t||(t=`file_${new Date().toISOString().replace(/[:.]/g,"-")}`),a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a),window.URL.revokeObjectURL(i)}const Xx=["title"],Qx={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ew={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},$g={__name:"SwitchTheme",setup(e){const t={dark:"light",light:"light"},n=Me(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches,n.value="light",on(n,(a,s)=>{document.documentElement.classList.add(a),document.documentElement.classList.remove(s),localStorage.setItem("theme",a)},{immediate:!0}));const i=()=>{n.value===t.dark?n.value=t.light:n.value=t.dark};return(a,s)=>(C(),F("button",{type:"button",onClick:i,title:n.value===t.light?"Change to dark mode":"Change to light mode"},[n.value===t.dark?(C(),F("svg",Qx,[...s[0]||(s[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(C(),F("svg",ew,[...s[1]||(s[1]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],8,Xx))}},tw={ref:"menu",class:"relative cursor-pointer select-none group"},nw={key:0,class:"absolute top-full left-0 bg-base-background break-keep text-nowrap mt-2 z-50 shadow min-w-full leading-5"},rw={__name:"NavbarSubmenu",props:{menu:{type:Object,required:!0},label:{type:String,required:!0}},setup(e){const t=Me(!1),n=Gu("menu");function i(a){const s=n.value;s&&!s.contains(a.target)&&(t.value=!1)}return an(()=>document.addEventListener("click",i)),Pr(()=>document.removeEventListener("click",i)),(a,s)=>{const u=Z("IconArrowDown"),h=Z("RouterLink");return C(),F("div",tw,[O("button",{class:"flex items-center gap-2 text-primary-content",onClick:s[0]||(s[0]=()=>t.value=!t.value)},[we(_e(e.label)+" ",1),I(u,{class:Xt(["size-3 stroke-[3] transition-transform",t.value&&"rotate-180"])},null,8,["class"])]),t.value?(C(),F("div",nw,[(C(!0),F(Oe,null,et(e.menu,m=>(C(),F("div",{class:"border-b hover:bg-base-foreground border-base-muted last:border-b-0",onClick:s[1]||(s[1]=()=>t.value=!1)},[I(h,{to:m.link,class:"block px-4 py-2 text-base-content"},{default:V(()=>[we(_e(m.label),1)]),_:2},1032,["to"])]))),256))])):fe("",!0)],512)}}},iw={class:"tp-header-nav text-sm leading-6 font-normal"},ow={class:"flex gap-8"},sw={key:0},aw={__name:"NavbarMenu",props:{menu:{type:Array,required:!0}},setup(e){return(t,n)=>{const i=Z("RouterLink");return C(),F("nav",iw,[O("div",ow,[(C(!0),F(Oe,null,et(e.menu,(a,s)=>(C(),F(Oe,{key:s},[a.label?(C(),F("div",sw,[a.link?(C(),ae(i,{key:0,to:a.link,class:"hover:text-primary-content text-primary-content"},{default:V(()=>[we(_e(a.label),1)]),_:2},1032,["to"])):a.submenu?(C(),ae(rw,{key:1,menu:a.submenu,label:a.label},null,8,["menu","label"])):fe("",!0)])):fe("",!0)],64))),128))])])}}};var lw={header_links:[{label:"Home",link:"/"},{label:"Bibliography",link:"/resources/tw/filter/bibliography"},{label:"About",link:"/about"},{label:"Source",link:"https://github.com/PurdueEntomologicalResearchCollection/taxonpages/"}]};const uw=["aria-expanded"],cw={key:0,class:"tp-mobile-navbar absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},dw={class:"font-normal container mx-auto"},hw={class:"flex flex-col m-0 p-0 border-t border-base-border"},fw={key:0,class:"w-full"},pw={class:"font-bold py-3 px-4 border-b bg-base-background"},mw={class:"border-b last:border-b-2 border-b-base-border"},_w={__name:"NavbarMobile",setup(e){const{header_links:t}=lw,n=Me(!1),i=()=>{n.value=!n.value};return(a,s)=>{const u=Z("IconClose"),h=Z("IconHamburger"),m=Z("RouterLink"),g=Z("ClientOnly"),y=Z("TrackerReport"),x=Z("AnimationOpacity");return C(),F(Oe,null,[O("button",{type:"button",class:"tp-mobile-navbar-button inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":n.value,onClick:i},[s[2]||(s[2]=O("span",{class:"sr-only"},"Open main menu",-1)),n.value?(C(),ae(u,{key:0})):(C(),ae(h,{key:1,class:"w-6 h-6"}))],8,uw),I(x,null,{default:V(()=>[n.value?(C(),F("div",cw,[O("nav",dw,[O("ul",hw,[(C(!0),F(Oe,null,et(Re(t),(T,E)=>(C(),F("li",{key:E,class:"border-b border-base-border"},[T.submenu?(C(),F("div",fw,[O("div",pw,_e(T.label),1),O("div",null,[(C(!0),F(Oe,null,et(T.submenu,S=>(C(),F("div",mw,[I(m,{class:"cursor-pointer text-base-content w-full py-3 px-4 box-border block",to:S.link,onClick:s[0]||(s[0]=()=>n.value=!1)},{default:V(()=>[we(_e(S.label),1)]),_:2},1032,["to"])]))),256))])])):(C(),ae(m,{key:1,to:T.link,class:"text-base-content w-full p-4 py-3 block box-border",onClick:s[1]||(s[1]=()=>n.value=!1)},{default:V(()=>[we(_e(T.label),1)]),_:2},1032,["to"]))]))),128)),O("li",null,[I(g,null,{default:V(()=>[I($g,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),O("li",null,[I(y,{icon:"","icon-class":"size-6","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):fe("",!0)]),_:1})],64)}}};var gw={project_name:"Search PERC",header_logo_url:null,header_logo_text:"Search PERC",header_links:[{label:"Home",link:"/"},{label:"Bibliography",link:"/resources/tw/filter/bibliography"},{label:"About",link:"/about"},{label:"Source",link:"https://github.com/PurdueEntomologicalResearchCollection/taxonpages/"}]};const yw={class:"tp-header relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},vw={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},bw=["src","alt"],xw={class:"relative hidden md:flex items-center ml-auto"},ww={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},Lw={class:"flex items-center ml-2 border-base-muted"},Cw={__name:"LayoutHeader",setup(e){const{header_links:t,header_logo_text:n,header_logo_url:i,project_name:a}=gw,s=Kx(i)?i:(Zh()+i).replace("//","/");return(u,h)=>{const m=Z("RouterLink"),g=Z("ClientOnly"),y=Z("TrackerReport");return C(),F("header",yw,[O("div",vw,[I(m,{to:"/",class:"flex items-center text-primary-content"},{default:V(()=>[Re(i)?(C(),F("img",{key:0,class:"mr-3 h-10",src:Re(s),alt:Re(n)},null,8,bw)):fe("",!0),O("span",null,_e(Re(n)||Re(a)),1)]),_:1}),I(_w),O("div",xw,[I(aw,{menu:Re(t)},null,8,["menu"]),O("div",ww,[I(g,null,{default:V(()=>[I($g,{class:"text-primary-content"})]),_:1})]),O("div",Lw,[I(y,{icon:"","button-class":"text-primary-content"})])])])])}}};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zg;const oc=e=>zg=e,Hg=Symbol();function ah(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Na;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Na||(Na={}));function Ug(){const e=Rm(!0),t=e.run(()=>Me({}));let n=[],i=[];const a=Ph({install(s){oc(a),a._a=s,s.provide(Hg,a),s.config.globalProperties.$pinia=a,i.forEach(u=>n.push(u)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Gg=()=>{};function Ip(e,t,n,i=Gg){e.push(t);const a=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&Dm()&&Cy(a),a}function hs(e,...t){e.slice().forEach(n=>{n(...t)})}const kw=e=>e(),jp=Symbol(),Sd=Symbol();function lh(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],a=e[n];ah(a)&&ah(i)&&e.hasOwnProperty(n)&&!cn(i)&&!bi(i)?e[n]=lh(a,i):e[n]=i}return e}const Ew=Symbol();function Mw(e){return!ah(e)||!Object.prototype.hasOwnProperty.call(e,Ew)}const{assign:$i}=Object;function Tw(e){return!!(cn(e)&&e.effect)}function Sw(e,t,n,i){const{state:a,actions:s,getters:u}=t,h=n.state.value[e];let m;function g(){h||(n.state.value[e]=a?a():{});const y=Wy(n.state.value[e]);return $i(y,s,Object.keys(u||{}).reduce((x,T)=>(x[T]=Ph(He(()=>{oc(n);const E=n._s.get(e);return u[T].call(E,E)})),x),{}))}return m=qg(e,g,t,n,i,!0),m}function qg(e,t,n={},i,a,s){let u;const h=$i({actions:{}},n),m={deep:!0};let g,y,x=[],T=[],E;const S=i.state.value[e];!s&&!S&&(i.state.value[e]={}),Me({});let P;function U(Fe){let Ee;g=y=!1,typeof Fe=="function"?(Fe(i.state.value[e]),Ee={type:Na.patchFunction,storeId:e,events:E}):(lh(i.state.value[e],Fe),Ee={type:Na.patchObject,payload:Fe,storeId:e,events:E});const Pe=P=Symbol();ol().then(()=>{P===Pe&&(g=!0)}),y=!0,hs(x,Ee,i.state.value[e])}const X=s?function(){const{state:Ee}=n,Pe=Ee?Ee():{};this.$patch(ze=>{$i(ze,Pe)})}:Gg;function Q(){u.stop(),x=[],T=[],i._s.delete(e)}const $=(Fe,Ee="")=>{if(jp in Fe)return Fe[Sd]=Ee,Fe;const Pe=function(){oc(i);const ze=Array.from(arguments),Be=[],rt=[];function mt(ot){Be.push(ot)}function Ye(ot){rt.push(ot)}hs(T,{args:ze,name:Pe[Sd],store:oe,after:mt,onError:Ye});let Ue;try{Ue=Fe.apply(this&&this.$id===e?this:oe,ze)}catch(ot){throw hs(rt,ot),ot}return Ue instanceof Promise?Ue.then(ot=>(hs(Be,ot),ot)).catch(ot=>(hs(rt,ot),Promise.reject(ot))):(hs(Be,Ue),Ue)};return Pe[jp]=!0,Pe[Sd]=Ee,Pe},W={_p:i,$id:e,$onAction:Ip.bind(null,T),$patch:U,$reset:X,$subscribe(Fe,Ee={}){const Pe=Ip(x,Fe,Ee.detached,()=>ze()),ze=u.run(()=>on(()=>i.state.value[e],Be=>{(Ee.flush==="sync"?y:g)&&Fe({storeId:e,type:Na.direct,events:E},Be)},$i({},m,Ee)));return Pe},$dispose:Q},oe=As(W);i._s.set(e,oe);const be=(i._a&&i._a.runWithContext||kw)(()=>i._e.run(()=>(u=Rm()).run(()=>t({action:$}))));for(const Fe in be){const Ee=be[Fe];if(cn(Ee)&&!Tw(Ee)||bi(Ee))s||(S&&Mw(Ee)&&(cn(Ee)?Ee.value=S[Fe]:lh(Ee,S[Fe])),i.state.value[e][Fe]=Ee);else if(typeof Ee=="function"){const Pe=$(Ee,Fe);be[Fe]=Pe,h.actions[Fe]=Ee}}return $i(oe,be),$i($t(oe),be),Object.defineProperty(oe,"$state",{get:()=>i.state.value[e],set:Fe=>{U(Ee=>{$i(Ee,Fe)})}}),i._p.forEach(Fe=>{$i(oe,u.run(()=>Fe({store:oe,app:i._a,pinia:i,options:h})))}),S&&s&&n.hydrate&&n.hydrate(oe.$state,S),g=!0,y=!0,oe}/*! #__NO_SIDE_EFFECTS__ */function Ji(e,t,n){let i;const a=typeof t=="function";i=a?n:t;function s(u,h){const m=C_();return u=u||(m?Bn(Hg,null):null),u&&oc(u),u=zg,u._s.has(e)||(a?qg(e,t,i,u):Sw(e,i,u)),u._s.get(e)}return s.$id=e,s}const Kh=Ji("footerStore",{state:()=>({nextAuthor:""}),actions:{async setNextAuthorText(e){this.nextAuthor=e}}});var Pw={project_citation:"Search PERC. 2024. https://ag.purdue.edu/department/entm/perc/",project_url:"https://github.com/PurdueEntomologicalResearchCollection/taxonpages/",project_authors:"Aaron Smith, Christopher Wirth"};const Bw={class:"tp-footer-citation pt-4 pb-2 break-all"},Aw=["innerHTML"],Ow=["innerHTML"],Rw={key:0},Dw=["href"],Iw={__name:"FooterCitation",setup(e){const{project_authors:t,project_citation:n,project_url:i}=Pw,a=Kh(),s=new Date().toISOString().split("T")[0],u=Ei(),h=He(()=>{const m=i.replace(/\/$/,"");return m.length?m+"/#"+u.fullPath:""});return(m,g)=>{const y=Z("ClientOnly");return C(),F("div",Bw,[we(_e(Re(t))+" ",1),I(y,null,{default:V(()=>[O("span",{innerHTML:Re(a).nextAuthor},null,8,Aw)]),_:1}),O("span",{innerHTML:Re(qx)(Re(n))},null,8,Ow),g[1]||(g[1]=we(". ",-1)),I(y,null,{default:V(()=>[O("span",null,"Retrieved on "+_e(Re(s)),1)]),_:1}),h.value?(C(),F("span",Rw,[g[0]||(g[0]=we(" at ",-1)),O("a",{class:"text-secondary-light font-bold",href:h.value},_e(h.value),9,Dw)])):fe("",!0)])}}};var jw={copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0"};const Fw={class:"tp-footer-copyright flex items-center text-md gap-2"},Nw=["src"],Vw={__name:"FooterCopyright",setup(e){const{copyright_image:t,copyright_image_link:n,copyright_text:i}=jw;return(a,s)=>(C(),F("div",Fw,[Re(t)?(C(),ae(Wi(Re(n)?"a":"span"),{key:0,href:Re(n),class:"min-w-fit"},{default:V(()=>[O("img",{src:Re(t),alt:"copyright"},null,8,Nw)]),_:1},8,["href"])):fe("",!0),O("span",null,_e(Re(i)),1)]))}};var $w={};const zw={key:0},Hw={__name:"FooterAnalytics",setup(e){const t={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},i=Object.keys($w.analytics_services||{}).map(a=>t[a]).filter(Boolean).join("; ");return(a,s)=>Re(i)?(C(),F("span",zw,"This site uses "+_e(Re(i))+".",1)):fe("",!0)}},Uw={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},Gw={class:"container mx-auto text-sm pt-2 pb-4"},qw={class:"flex flex-col sm:flex-row justify-between gap-4"},Zw={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},Kw={__name:"LayoutFooter",setup(e){return(t,n)=>{const i=Z("TrackerReport");return C(),F("footer",Uw,[O("div",Gw,[I(Iw),I(Vw),n[3]||(n[3]=O("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1)),O("div",qw,[O("div",Zw,[n[0]||(n[0]=O("span",null,[we(" Data provided by "),O("a",{class:"text-secondary-light hover:text-secondary-content font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1)),n[1]||(n[1]=O("span",null,[we(" Pages by "),O("a",{class:"text-secondary-light hover:text-secondary-content font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1)),n[2]||(n[2]=O("span",null,[we(" Support (Services) by "),O("a",{class:"text-secondary-light hover:text-secondary-content font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1)),I(Hw,{class:"italic"})]),I(i,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},Ww={class:"min-h-screen h-screen flex flex-col justify-between"},Jw={class:"flex flex-col flex-grow"},Fp={__name:"Application",setup(e){return(t,n)=>(C(),F("div",Ww,[O("div",Jw,[I(Cw),pt(t.$slots,"default")]),I(Kw)]))}};var Np={project_name:"Search PERC",metadata:[{name:"description",content:"Search PERC, powered by TaxonWorks."},{name:"keywords",content:"purdue, entomology, perc, taxonworks, taxonpages"},{name:"robots",content:"follow"}]};const Vp="default",Yw={__name:"App",setup(e){const t=Ei(),n=Wx(),i=He(()=>({[Vp]:Fp,...n})[t.meta?.layout||Vp]||Fp);return $h({title:Np.project_name,meta:Np.metadata}),(a,s)=>{const u=Z("router-view");return C(),ae(Wi(i.value),null,{default:V(()=>[I(u)]),_:1})}}},yt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n},Xw="modulepreload",Qw=function(e){return"/taxonpages/"+e},$p={},tt=function(t,n,i){let a=Promise.resolve();if(n&&n.length>0){let g=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var u=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");a=g(n.map(y=>{if(y=Qw(y),y in $p)return;$p[y]=!0;const x=y.endsWith(".css"),T=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${T}`))return;const E=document.createElement("link");if(E.rel=x?"stylesheet":Xw,x||(E.as="script"),E.crossOrigin="",E.href=y,m&&E.setAttribute("nonce",m),document.head.appendChild(E),x)return new Promise((S,P)=>{E.addEventListener("load",S),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function s(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return a.then(h=>{for(const m of h||[])m.status==="rejected"&&s(m.reason);return t().catch(s)})},eL=[{name:"resources-tw-filter-dwc-otus",path:"/resources/tw/filter/dwc_otus",component:()=>tt(()=>Promise.resolve().then(()=>DE),void 0)}],tL=[{name:"resources-tw-filter-bibliography",path:"/resources/tw/filter/bibliography",component:()=>tt(()=>Promise.resolve().then(()=>hM),void 0)}],nL=[{name:"homepage",path:"/",alias:"/home",component:tt(()=>Promise.resolve().then(()=>gM),void 0)}],rL=[{path:"/500",name:"httpError500",component:()=>tt(()=>Promise.resolve().then(()=>wM),void 0),meta:{statusCode:500}},{path:"/:pathMatch(.*)*",name:"httpError404",component:()=>tt(()=>Promise.resolve().then(()=>MM),void 0),meta:{statusCode:404}}],iL=[{name:"interactive-keys-id",path:"/interactive_keys/:id",component:()=>tt(()=>Promise.resolve().then(()=>XP),void 0)}],oL=[{name:"keys-id",path:"/keys/:id",component:()=>tt(()=>Promise.resolve().then(()=>ZB),void 0)}],sc=Ji("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:e=>t=>e.requests[t],datamap:e=>{const t=Object.keys(e.requests).sort();return Object.fromEntries(t.map(n=>[n,e.requests[n].url]))}},actions:{setRequest(e,{data:t,request:n}){const i=n.res?.responseUrl||n.responseURL;this.requests[e]={url:i,data:t}}}}),sL="FamilyGroup",aL="GenusGroup",lL="SpeciesGroup",uL="SpeciesAndInfraspeciesGroup",Xa={CanceledError:"CanceledError"},zp=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paralectotypes","paratype","paratypes"];function nr(e,t){const n=sc(),i=t();return i.then(a=>{n.setRequest(e,a)}).catch(a=>{a.name!==Xa.CanceledError&&n.setRequest(e,a.response)}),i}function Hp(e,t){return e.find(n=>n.target===t)?.biological_property?.name}function fs(e){return Array.isArray(e)?e.filter(Boolean).join(" "):e}function cL(e){return{id:e.id,subjectId:e.biological_association_subject_id,subjectType:e.biological_association_subject_type,subjectOrder:fs(e.subject?.taxonomy?.order),subjectFamily:fs(e.subject?.taxonomy?.family),subjectGenus:fs(e.subject?.taxonomy?.genus),subjectLabel:e.subject.object_label,biologicalPropertySubject:Hp(e.biological_relationship_types,"subject"),biologicalRelationship:e.biological_relationship.object_label,biologicalPropertyObject:Hp(e.biological_relationship_types,"object"),objectId:e.biological_association_object_id,objectType:e.biological_association_object_type,objectOrder:fs(e.object?.taxonomy?.order),objectFamily:fs(e.object?.taxonomy?.family),objectGenus:fs(e.object?.taxonomy?.genus),objectLabel:e.object.object_label}}const dL={key:3,class:"text-xl text-center my-8 w-full"},hL={__name:"PanelBiologicalAssociations",props:{otuId:{type:Number,required:!0},per:{type:Number,default:50}},setup(e){const t=["object","subject","biological_relationship","taxonomy","biological_relationship_types"],n=e,i=Me([]),a=Me(!1),s=Me({page:1,per:n.per,total:0});an(()=>{u()});function u(h=1){a.value=!0,nr("panel:biological-associations",()=>Bt.get("/biological_associations",{params:{otu_id:[n.otuId],per:s.value.per,page:h,extend:t}})).then(async({data:m,headers:g})=>{const y=m.map(cL);if(m.length){const x=m.map(E=>E.id),T=await Bt.get("/citations",{params:{citation_object_id:x,citation_object_type:"BiologicalAssociation"}});y.forEach(E=>{E.citations=T.data.filter(S=>S.citation_object_id===E.id)})}s.value={page:Number(g["pagination-page"]),per:Number(g["pagination-per-page"]),total:Number(g["pagination-total"])},a.value=!1,i.value=y}).catch(()=>{a.value=!1})}return(h,m)=>{const g=Z("VSpinner"),y=Z("ClientOnly"),x=Z("VCardHeader"),T=Z("VPagination"),E=Z("VTableHeaderCell"),S=Z("VTableHeaderRow"),P=Z("VTableHeader"),U=Z("VTableBodyCell"),X=Z("RouterLink"),Q=Z("VTableBodyRow"),$=Z("VTableBody"),W=Z("VTable"),oe=Z("VCardContent"),Ce=Z("VCard");return C(),ae(Ce,null,{default:V(()=>[I(y,null,{default:V(()=>[a.value?(C(),ae(g,{key:0})):fe("",!0)]),_:1}),I(x,null,{default:V(()=>[we(" Biological associations ("+_e(s.value.total)+") ",1)]),_:1}),I(oe,{class:"min-h-[6rem] overflow-x-auto"},{default:V(()=>[i.value.length?(C(),ae(T,{key:0,class:"mb-4",modelValue:s.value.page,"onUpdate:modelValue":m[0]||(m[0]=be=>s.value.page=be),total:s.value.total,per:s.value.per,onSelect:m[1]||(m[1]=be=>{u(be)})},null,8,["modelValue","total","per"])):fe("",!0),i.value.length?(C(),ae(W,{key:1},{default:V(()=>[I(P,{class:"normal-case"},{default:V(()=>[I(S,null,{default:V(()=>[I(E,{colspan:"5"},{default:V(()=>[...m[4]||(m[4]=[we("Subject",-1)])]),_:1}),I(E,{class:"border-l-2 border-r-2"},{default:V(()=>[...m[5]||(m[5]=[we(" Biological ",-1)])]),_:1}),I(E,{colspan:"5"},{default:V(()=>[...m[6]||(m[6]=[we("Object",-1)])]),_:1}),I(E,{class:"border-l-2"})]),_:1}),I(S,null,{default:V(()=>[I(E,null,{default:V(()=>[...m[7]||(m[7]=[we("Order",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[8]||(m[8]=[we("Family",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[9]||(m[9]=[we("Genus",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[10]||(m[10]=[we("Label",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[11]||(m[11]=[we("Properties",-1)])]),_:1}),I(E,{class:"border-l-2 border-r-2"},{default:V(()=>[...m[12]||(m[12]=[we("Relationship",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[13]||(m[13]=[we("Properties",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[14]||(m[14]=[we("Order",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[15]||(m[15]=[we("Family",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[16]||(m[16]=[we("Genus",-1)])]),_:1}),I(E,null,{default:V(()=>[...m[17]||(m[17]=[we("Label",-1)])]),_:1}),I(E,{class:"border-l-2"},{default:V(()=>[...m[18]||(m[18]=[we("Citations",-1)])]),_:1})]),_:1})]),_:1}),I($,null,{default:V(()=>[(C(!0),F(Oe,null,et(i.value,be=>(C(),ae(Q,{key:be.id},{default:V(()=>[I(U,null,{default:V(()=>[we(_e(be.subjectOrder),1)]),_:2},1024),I(U,null,{default:V(()=>[we(_e(be.subjectFamily),1)]),_:2},1024),I(U,null,{default:V(()=>[we(_e(be.subjectGenus),1)]),_:2},1024),I(U,null,{default:V(()=>[be.subjectType==="Otu"?(C(),ae(X,{key:0,to:{name:"otus-id",params:{id:be.subjectId}},innerHTML:be.subjectLabel},null,8,["to","innerHTML"])):(C(),F(Oe,{key:1},[we(_e(be.subjectLabel),1)],64))]),_:2},1024),I(U,null,{default:V(()=>[we(_e(be.biologicalPropertySubject),1)]),_:2},1024),I(U,{class:"border-l-2 border-r-2"},{default:V(()=>[we(_e(be.biologicalRelationship),1)]),_:2},1024),I(U,null,{default:V(()=>[we(_e(be.biologicalPropertyObject),1)]),_:2},1024),I(U,null,{default:V(()=>[we(_e(be.objectOrder),1)]),_:2},1024),I(U,null,{default:V(()=>[we(_e(be.objectFamily),1)]),_:2},1024),I(U,null,{default:V(()=>[we(_e(be.objectGenus),1)]),_:2},1024),I(U,null,{default:V(()=>[be.objectType==="Otu"?(C(),ae(X,{key:0,to:{name:"otus-id",params:{id:be.objectId}},innerHTML:be.objectLabel},null,8,["to","innerHTML"])):(C(),F(Oe,{key:1},[we(_e(be.objectLabel),1)],64))]),_:2},1024),I(U,{class:"border-l-2"},{default:V(()=>[O("ul",null,[(C(!0),F(Oe,null,et(be.citations,Fe=>(C(),F("li",{key:Fe.id},_e(Fe.citation_source_body),1))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):fe("",!0),i.value.length?(C(),ae(T,{key:2,class:"mt-4",modelValue:s.value.page,"onUpdate:modelValue":m[2]||(m[2]=be=>s.value.page=be),total:s.value.total,per:s.value.per,onSelect:m[3]||(m[3]=be=>{u({page:be,per_page:h.perPage})})},null,8,["modelValue","total","per"])):fe("",!0),!a.value&&!i.value.length?(C(),F("div",dL," No records found. ")):fe("",!0)]),_:1})]),_:1})}}},fL={id:"panel:biological-associations",component:hL},Up=e=>{const{per:t,page:n}=e??{},i=[t&&`per=${t}`,n&&`page=${n}`].filter(Boolean).join("&");return i&&`?${i}`};class fn{static getTaxonNameCitations(t,n){return Bt.get(`/taxon_names/${t}/inventory/catalog`,n)}static getOtu(t){return Bt.get(`/otus/${t}`,{params:{extend:["parents"]}})}static getOtus(t){return Bt.get("/otus.json",{params:t})}static getTaxon(t,n){return Bt.get(`/taxon_names/${t}`,n)}static summary(t,n){return Bt.get(`/taxon_names/${t}/inventory/summary`,n)}static getTaxonTypeDesignation(t){return Bt.get(`/taxon_names/${t}`,{params:{extend:["type_taxon_name_relationship"]}})}static getObservations(t){return Bt.get("/observations",{params:t})}static getOtuImages(t,n){return Bt.get(`/otus/${t}/inventory/images.json`,n)}static getTaxonomy(t,n){return Bt.get(`/otus/${t}/inventory/taxonomy.json`,n)}static getOtuTypeMaterial(t){return Bt.get(`/otus/${t}/inventory/type_material.json`)}static getOtuDistribution(t,n={}){return Bt.get(`/otus/${t}/inventory/distribution.json`,n)}static getOtuGeoJSONDistribution(t){return Bt.get(`/otus/${t}/inventory/distribution.geojson`)}static getCachedMap(t,n){return Bt.get(`/cached_maps/${t}`,n)}static getOtuContent(t,n){return Bt.get(`/otus/${t}/inventory/content`,n)}static getDescendantsDarwinCore(t,n){return Bt.get(`/otus/${t}/inventory/dwc.json${Up(n)}`,n)}static getDescendantsImageGallery(t,n){return Bt.get(`/otus/${t}/inventory/dwc_gallery.json${Up(n)}`,n)}static getCollectionObjectsNotes(t,n){const i={...n,params:{...n?.params,note_object_type:"CollectionObject","note_object_id[]":t}};return Bt.get("/notes/",i)}static getCollectionObjectsTags(t,n){const i={...n,params:{...n?.params,note_object_type:"CollectionObject","tag_object_id[]":t}};return Bt.get("/tags/",i)}static getDeterminedToRank(t,n){return Bt.get(`/otus/${t}/inventory/determined_to_rank.json`,n)}static getImageFromUrl(t,n){if(!t.indexOf("/api/v1")<0)throw new Error('Unsupported URL. Must be a TaxonWorks v1 API URL (containing "/api/v1").');const i=t.split("/api/v1")[1];return Bt.get(i,n)}static getCachedMap(t){return Bt.get(`/cached_maps/${t}`)}static getKeys(t){return Bt.get(`/otus/${t}/inventory/keys`)}static getSounds(t){return Bt.get("/sounds",{params:t})}static getAllTags(t){return Bt.get("/tags",t)}static getKeywords(t){const n={...t,params:{...t?.params,type:"Keyword"}};return Bt.get("/controlled_vocabulary_terms",n)}static getTagsByKeyword(t,n){const i={...n,params:{...n?.params,keyword_id:t}};return Bt.get("/tags",i)}static getCollectionObjectsByTags(t,n){const i={...n,params:{...n?.params,"keyword_id[]":t}};return Bt.get("/collection_objects",i)}}const pL=["innerHTML"],mL={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(e){return(t,n)=>{const i=Z("VCardHeader"),a=Z("VCardContent");return C(),F(Oe,null,[I(i,{class:"border-t border-base-muted first:border-t-0"},{default:V(()=>[we(_e(e.title),1)]),_:1}),I(a,{class:"panel-content-list"},{default:V(()=>[(C(!0),F(Oe,null,et(e.textList,(s,u)=>(C(),F("div",{key:u,class:"pt-1 text-sm",innerHTML:s},null,8,pL))),128))]),_:1})],64)}}},_L={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(e){const t=e,n=Me([]),i=new AbortController,a=He(()=>n.value.reduce((s,u)=>(s[u.name]?s[u.name].push(u.text):s[u.name]=[u.text],s),{}));return Oh(()=>{nr("panel:content",()=>fn.getOtuContent(t.otuId,{params:{extend:["depiction"]},signal:i.signal})).then(({data:s})=>{n.value=s}).catch(s=>{})}),Pr(()=>{i.abort()}),(s,u)=>{const h=Z("VCard");return n.value.length?(C(),ae(h,{key:0},{default:V(()=>[(C(!0),F(Oe,null,et(a.value,(m,g)=>(C(),ae(mL,{key:g,title:g,"text-list":m},null,8,["title","text-list"]))),128))]),_:1})):fe("",!0)}}},gL={id:"panel:content",component:_L},yL={class:"synonyms"},vL=["innerHTML"],bL={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(e){const t=e;return(n,i)=>(C(),F("ul",yL,[(C(!0),F(Oe,null,et(t.list,a=>(C(),F("li",{key:a},[i[0]||(i[0]=O("span",{class:"text-orange-500 mr-1"},"=",-1)),O("span",{innerHTML:a},null,8,vL)]))),128))]))}},xL={key:0,class:"tree"},Zg={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(e){const t=e,n=Me(!!t.taxonomy.descendants.length),i=Me([...t.taxonomy.descendants]);on(n,s=>{s&&a()});const a=()=>{i.value.length||fn.getTaxonomy(t.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:s})=>{i.value=s.descendants}).catch(()=>{})};return(s,u)=>{const h=Z("button-expand"),m=Z("router-link"),g=Z("AnimationOpacity");return Object.keys(e.taxonomy).length?(C(),F("li",{key:e.taxonomy.otu_id},[e.taxonomy.leaf_node?fe("",!0):(C(),ae(h,{key:0,modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=y=>n.value=y),class:"absolute -left-2.5"},null,8,["modelValue"])),I(m,{class:"text-secondary-color",to:{name:"otus-id",params:{id:e.taxonomy.otu_id}},innerHTML:e.taxonomy.name},null,8,["to","innerHTML"]),e.taxonomy.nomenclatural_synonyms.length?(C(),ae(bL,{key:1,class:"pb-4",list:e.taxonomy.nomenclatural_synonyms},null,8,["list"])):fe("",!0),I(g,null,{default:V(()=>[i.value.length?(C(),F("ul",xL,[(C(!0),F(Oe,null,et(i.value,y=>(C(),ae(g,{key:y.otu_id},{default:V(()=>[n.value?(C(),ae(Zg,{key:0,taxonomy:y},null,8,["taxonomy"])):fe("",!0)]),_:2},1024))),128))])):fe("",!0)]),_:1})])):fe("",!0)}}},wL={key:0,class:"p-5 font-normal"},LL={class:"pb-2 text-sm"},CL=["href"],kL={class:"relative"},EL=["innerHTML"],Po={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(e){const t=e,n=He(()=>i.getRequest(t.panelKey)),i=sc(),a=Me(!1),s=He(()=>[...t.menuOptions,{label:"JSON Data",action:()=>a.value=!0}]);return(u,h)=>{const m=Z("IconHamburger"),g=Z("Dropdown"),y=Z("VClipboard"),x=Z("VModal");return C(),F(Oe,null,[I(g,{items:s.value},{button:V(()=>[I(m,{class:"text-base-soft h-4"})]),_:1},8,["items"]),a.value?(C(),ae(x,{key:0,onClose:h[0]||(h[0]=T=>a.value=!1)},{header:V(()=>[...h[1]||(h[1]=[O("h3",null,"JSON Data",-1)])]),default:V(()=>[n.value?(C(),F("div",wL,[O("h3",LL,[h[2]||(h[2]=we(" URL: ",-1)),O("a",{href:n.value.url},_e(n.value.url),9,CL)]),O("div",kL,[O("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(n.value.data,null,4)},null,8,EL),I(y,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(n.value.data,null,2)},null,8,["text"])])])):fe("",!0)]),_:1})):fe("",!0)],64)}}},ML={class:"tree ml-2"},TL={key:1},SL=["innerHTML"],PL={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,n=Me(null),i=Me(!1),a=He(()=>n.value&&(n.value.nomenclatural_synonyms.length||n.value.descendants.length));return on(()=>t.otuId,async()=>{t.otuId&&(i.value=!0,nr("panel:descendants",()=>fn.getTaxonomy(t.otuId,{params:{max_descendants_depth:1}})).then(({data:s})=>{n.value=s}).catch(()=>{}).finally(()=>i.value=!1))},{immediate:!0}),(s,u)=>{const h=Z("VSpinner"),m=Z("ClientOnly"),g=Z("VCardHeader"),y=Z("AnimationOpacity"),x=Z("VCardContent"),T=Z("VCard");return C(),ae(T,null,{default:V(()=>[I(m,null,{default:V(()=>[i.value?(C(),ae(h,{key:0,"logo-class":"w-8 h-8",legend:""})):fe("",!0)]),_:1}),I(g,{class:"flex justify-between"},{default:V(()=>[u[0]||(u[0]=O("h2",{class:"text-md"},"Descendants and synonyms",-1)),I(Po,{"panel-key":"panel:descendants"})]),_:1}),I(x,{class:"text-sm"},{default:V(()=>[O("ul",ML,[I(y,null,{default:V(()=>[a.value?(C(),ae(Zg,{key:0,taxonomy:n.value},null,8,["taxonomy"])):fe("",!0),n.value&&!n.value.nomenclatural_synonyms.length&&!n.value.descendants.length?(C(),F("p",TL,[u[1]||(u[1]=we(" No descendants of ",-1)),O("span",{innerHTML:n.value.name},null,8,SL),u[2]||(u[2]=we(" found. ",-1))])):fe("",!0)]),_:1})])]),_:1})]),_:1})}}},BL=yt(PL,[["__scopeId","data-v-547aceb2"]]),AL={id:"panel:descendants",component:BL};var OL={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:specimens"],["panel:map","panel:descendants","panel:content",{id:"panel:statistics",bind:{showTaxa:!0,showDetermined:!0,hideNames:!0,hideExtant:!0,hideFossil:!0,hideInvalid:!0}},"panel:keys","panel:type","panel:nomenclature","panel:nomenclature-references"]]]}},project_name:"Search PERC",project_citation:"Search PERC. 2024. https://ag.purdue.edu/department/entm/perc/",project_url:"https://github.com/PurdueEntomologicalResearchCollection/taxonpages/",project_authors:"Aaron Smith, Christopher Wirth",metadata:[{name:"description",content:"Search PERC, powered by TaxonWorks."},{name:"keywords",content:"purdue, entomology, perc, taxonworks, taxonpages"},{name:"robots",content:"follow"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"Search PERC",header_links:[{label:"Home",link:"/"},{label:"Bibliography",link:"/resources/tw/filter/bibliography"},{label:"About",link:"/about"},{label:"Source",link:"https://github.com/PurdueEntomologicalResearchCollection/taxonpages/"}],enable_specimen_tags:!1,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"ekMTicbZWijqmdpHKqs_TA"};const RL=Ji("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){this.controller?.abort()},async loadImages(e,{sortOrder:t}){const n={extend:["depictions","attribution","source","citations"],otu_scope:["all","coordinate_otus"],sort_order:t};this.controller=new AbortController;try{const i=await nr("panel:images",()=>fn.getOtuImages(e,{params:n,signal:this.controller.signal}));this.images=i.data.image_order.filter(Boolean).map(a=>{const s={...i.data.images[a]},{url:u,project_token:h}=OL;return s.original_png&&(s.original=`${u}/${s.original_png?.substring(8)}?project_token=${h}`),s}),this.controller=null}catch(i){i.name!==Xa.CanceledError&&(this.controller=null)}}}}),DL={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0},sort_order:{type:[Array],default:()=>[]}},setup(e){const t=e,n=RL(),i=He(()=>n.images||[]);return Rh(async()=>{await n.loadImages(t.otuId,{sortOrder:t.sortOrder})}),an(()=>{n.images||n.loadImages(t.otuId,{sortOrder:t.sort_order})}),Pr(()=>{n.resetRequest(),n.$reset()}),(a,s)=>{const u=Z("GalleryImage"),h=Z("VCardContent"),m=Z("VCard");return i.value.length?(C(),ae(m,{key:0},{default:V(()=>[I(h,null,{default:V(()=>[I(u,{images:i.value},null,8,["images"])]),_:1})]),_:1})):fe("",!0)}}},IL={id:"panel:gallery",component:DL,rankGroup:[]},jL={class:"text-md"},FL={key:0},NL={__name:"PanelKeys",props:{otuId:{type:Number}},setup(e){const t=e,n=new AbortController,i=Me({to:{},in:{}}),a=He(()=>[].concat(...Object.values(i.value.to),...Object.values(i.value.in)).map(s=>Object.keys(s)).flat().length);return an(()=>{const s={otu_id:t.otuId};nr("panel keys",()=>fn.getKeys(t.otuId,{signal:n.signal,params:s})).then(({data:u})=>{i.value={to:{matrices:u.observation_matrices.scoped,leads:u.leads.scoped},in:{matrices:u.observation_matrices.in,leads:u.leads.in}}}).catch(()=>{})}),Pr(()=>{n?.abort()}),(s,u)=>{const h=Z("VCardHeader"),m=Z("VTableHeaderCell"),g=Z("VTableHeaderRow"),y=Z("VTableHeader"),x=Z("RouterLink"),T=Z("VTableBodyCell"),E=Z("VTableBodyRow"),S=Z("VTableBody"),P=Z("VTable"),U=Z("VCardContent"),X=Z("VCard");return a.value?(C(),ae(X,{key:0},{default:V(()=>[I(h,null,{default:V(()=>[O("h2",jL,"Keys ("+_e(a.value)+")",1)]),_:1}),I(U,null,{default:V(()=>[(C(!0),F(Oe,null,et(i.value,(Q,$)=>(C(),F(Oe,{key:$},[[...Object.keys(Q.matrices),...Object.keys(Q.leads)].length?(C(),F("div",FL,[I(P,null,{default:V(()=>[I(y,null,{default:V(()=>[I(g,null,{default:V(()=>[I(m,null,{default:V(()=>[we(_e($),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),I(S,null,{default:V(()=>[(C(!0),F(Oe,null,et(Q.matrices,(W,oe)=>(C(),ae(E,{key:oe},{default:V(()=>[I(T,null,{default:V(()=>[I(x,{to:{name:"interactive-keys-id",params:{id:oe}},textContent:_e(W)},null,8,["to","textContent"])]),_:2},1024)]),_:2},1024))),128)),(C(!0),F(Oe,null,et(Q.leads,(W,oe)=>(C(),ae(E,{key:oe},{default:V(()=>[I(T,null,{default:V(()=>[I(x,{to:{name:"keys-id",params:{id:oe}},textContent:_e(W)},null,8,["to","textContent"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)])):fe("",!0)],64))),128))]),_:1})]),_:1})):fe("",!0)}}},VL={id:"panel:keys",component:NL};function $L(e,t){return t.split("::").at(2)===e}function zL(e,t){return{type:"Feature",geometry:e,properties:{base:[{type:t}]}}}function Gp({segments:e,attributes:t={}}){const n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg");i.setAttribute("viewBox","-1 -1 2 2"),i.setAttribute("style","transform: rotate(-90deg)");for(let s in t)i.setAttribute(s,t[s]);const a=2*Math.PI/e.length;return e.forEach((s,u)=>{const h=u*a,m=(u+1)*a,g=Math.cos(h),y=Math.sin(h),x=Math.cos(m),T=Math.sin(m),E=a>Math.PI?1:0,S=document.createElementNS(n,"path");S.setAttribute("d",`M 0 0 L ${g} ${y} A 1 1 0 ${E} 1 ${x} ${T} Z`),S.setAttribute("class",s.class),i.appendChild(S)}),i.outerHTML}function HL(e){const t=[],n=[];return e.forEach(i=>{const a=i.properties.shape.id,s=i.properties.shape.type;n.includes(i.properties.base.type)||n.push(i.properties.base.type);const u=t.findIndex(h=>h.properties.shape.id===a&&h.properties.shape.type===s);if(u>-1){const h=t[u];h.properties.base.push(i.properties.base),h.properties.target.push(i.properties.target)}else{const h=structuredClone(i);h.properties.base=[h.properties.base],h.properties.target=[h.properties.target],t.push(h)}}),n.sort(),{shapeTypes:n,features:t}}const UL="Aggregate",Kg="AssertedAbsent",GL="AssertedDistribution",ac="CollectionObject",Wh="FieldOccurrence",qL="Georeference",qp="Otu",Wg="TypeMaterial",uh={Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"},AssertedAbsent:{label:"Asserted absent",background:"bg-map-asserted-absent"},AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},FieldOccurrence:{label:"Field occurrence",background:"bg-map-field-occurrence"}};function ZL(e){e.forEach(t=>{t.properties.is_absent&&(t.properties.base.type=Kg)})}function KL(e,t){const n=new Map;return t.forEach((i,a)=>{n.set(i,a)}),e.toSorted((i,a)=>{const s=n.has(i.properties.base.type)?n.get(i.properties.base.type):1/0,u=n.has(a.properties.base.type)?n.get(a.properties.base.type):1/0;return s-u})}const WL=Ji("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){this.controller?.abort()},loadCachedMap(e){fn.getCachedMap(e,{signal:this.controller.signal}).then(t=>{this.distribution.cachedMap=t.data}).catch(()=>{})},async getAggregateShape(e){nr("panel:map",()=>fn.getOtuDistribution(e,{signal:this.controller.signal})).then(({data:t})=>{const n=JSON.parse(t.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[zL(n,"Aggregate")]},this.loadCachedMap(t.cached_map.id)}).catch(t=>{t.name!=Xa.CanceledError&&(this.distribution.errorMessage=t.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:e,rankString:t}){const n=t&&$L("SpeciesGroup",t);this.controller=new AbortController,n?nr("panel:map",()=>fn.getOtuGeoJSONDistribution(e,{signal:this.controller.signal})).then(({data:i})=>{if(i.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=i.message;else{ZL(i.features);const{features:a,shapeTypes:s}=HL(KL(i.features,Object.keys(uh)));this.distribution.currentShapeTypes=s,this.distribution.geojson={features:a}}}).catch(i=>{i.name!==Xa.CanceledError&&this.getAggregateShape(e)}):this.getAggregateShape(e)}}});function JL(e){const t={[Wh]:"fill-map-field-occurrence",[ac]:"fill-map-collection-object",[Wg]:"fill-map-type-material"},i=e.getAllChildMarkers().map(m=>m.feature.properties.base.map(g=>g.type)),s=[...new Set(i.flat())].map(m=>({class:t[m]})),u=Gp({attributes:{class:"absolute opacity-50 w-[40px] h-[40px]"},segments:s}),h=Gp({attributes:{class:"absolute w-[30px] h-[30px] mt-[5px] ml-[5px]"},segments:s});return{html:[u,h,`<span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white  z-[200]">
        ${e.getChildCount()}
      </span>
      `].join(""),className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function YL({L:e,cluster:t}){return t.getAllChildMarkers().map(n=>n.feature.properties.base.map(i=>i.type)).flat(),e.divIcon(JL(t))}const ch={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function XL({popupElement:e,popupItem:t}){return function(){return{onEachFeature:(n,i)=>{i.pm.setOptions(ch),i.pm.disable(),n.properties.base.some(({label:a})=>!!a)&&(i.on("popupopen",()=>t.value=n.properties),i.on("popupclose",()=>t.value=null),i.bindPopup(e.value,{minWidth:400,maxWidth:400}))}}}}function Jg({popupElement:e}){const t=Me(null);return{geojsonOptions:He(()=>XL({popupElement:e,popupItem:t})),popupItem:t}}const QL={class:"max-h-32 overflow-y-auto text-xs min-w-80"},eC={class:"py-2 last:border-0 truncate border-b",title:"label"},tC=["textContent","onClick"],nC={key:1},Yg={__name:"MapPopup",props:{items:{type:Array,required:!0}},emits:["selected"],setup(e,{emit:t}){const n=[ac,Wh],i=t;return(a,s)=>(C(),F("div",QL,[O("ul",null,[(C(!0),F(Oe,null,et(e.items,u=>(C(),F("li",eC,[n.includes(u.type)?(C(),F("span",{key:0,class:"cursor-pointer text-secondary-color",textContent:_e(u.label),onClick:()=>i("selected",u)},null,8,tC)):(C(),F("span",nC,_e(u.label),1))]))),256))])]))}},rC={class:"p-4 pt-0"},iC={key:0,class:"text-success flex text-sm items-center"},oC={key:1,class:"text-warning flex text-sm items-center"},sC={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(e){const t=Me(!1);return(n,i)=>{const a=Z("IconCheck"),s=Z("IconWarning"),u=Z("VButton"),h=Z("VTableHeaderCell"),m=Z("VTableHeaderRow"),g=Z("VTableHeader"),y=Z("VTableBodyCell"),x=Z("VTableBodyRow"),T=Z("VTableBody"),E=Z("VTable"),S=Z("VModal");return C(),F(Oe,null,[I(u,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Map is not synchronized with the latest changes.",onClick:i[0]||(i[0]=P=>t.value=!0)},{default:V(()=>[e.cachedMap.synced?(C(),ae(a,{key:0,class:"w-4 h-4"})):(C(),ae(s,{key:1,class:"w-4 h-4"}))]),_:1}),t.value?(C(),ae(S,{key:0,onClose:i[1]||(i[1]=()=>t.value=!1)},{header:V(()=>[...i[2]||(i[2]=[O("h3",{class:"font-medium"},"Cached map",-1)])]),default:V(()=>[O("div",rC,[I(E,null,{default:V(()=>[I(g,null,{default:V(()=>[I(m,null,{default:V(()=>[I(h,null,{default:V(()=>[...i[3]||(i[3]=[we("Data",-1)])]),_:1}),I(h,null,{default:V(()=>[...i[4]||(i[4]=[we("Value",-1)])]),_:1})]),_:1})]),_:1}),I(T,null,{default:V(()=>[I(x,null,{default:V(()=>[I(y,null,{default:V(()=>[...i[5]||(i[5]=[we(" Is synced ",-1)])]),_:1}),I(y,null,{default:V(()=>[e.cachedMap.synced?(C(),F("p",iC,[I(a,{class:"w-4 h-4"}),i[6]||(i[6]=O("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1))])):(C(),F("p",oC,[I(s,{class:"w-4 h-4"}),i[7]||(i[7]=O("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1))]))]),_:1})]),_:1}),I(x,null,{default:V(()=>[I(y,null,{default:V(()=>[...i[8]||(i[8]=[we(" Last update ",-1)])]),_:1}),I(y,null,{default:V(()=>[we(_e(new Date(e.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),I(g,null,{default:V(()=>[I(m,null,{default:V(()=>[I(h,null,{default:V(()=>[...i[9]||(i[9]=[we("Source",-1)])]),_:1}),I(h,null,{default:V(()=>[...i[10]||(i[10]=[we("Total",-1)])]),_:1})]),_:1})]),_:1}),I(T,null,{default:V(()=>[(C(!0),F(Oe,null,et(e.cachedMap.source_scope,(P,U)=>(C(),ae(x,{key:U},{default:V(()=>[I(y,{class:"capitalize"},{default:V(()=>[we(_e(U.replaceAll("_"," ")),1)]),_:2},1024),I(y,null,{default:V(()=>[we(_e(P),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),i[11]||(i[11]=O("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1))])]),_:1})):fe("",!0)],64)}}},aC={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},lC=["innerHTML"],uC={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const n=t;return(i,a)=>{const s=Z("IconClose");return C(),F("div",aC,[O("div",null,[O("span",{class:"ml-2",innerHTML:e.label},null,8,lC)]),I(s,{class:"cursor-pointer",onClick:a[0]||(a[0]=()=>n("close"))})])}}},cC={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},dC={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(e,{emit:t}){const n=t;return(i,a)=>{const s=Z("IconArrowRight"),u=Z("VTableHeaderCell"),h=Z("VTableHeaderRow"),m=Z("VTableHeader"),g=Z("RouterLink"),y=Z("VTableBodyCell"),x=Z("VTableBodyRow"),T=Z("VTableBody"),E=Z("VTable");return e.list.length?(C(),ae(E,{key:0,class:"shadow-md"},{default:V(()=>[I(m,null,{default:V(()=>[I(h,null,{default:V(()=>[I(u,{class:"w-full flex justify-between box-border items-center"},{default:V(()=>[O("span",null,"OTU ("+_e(e.list.length)+")",1),I(s,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:a[0]||(a[0]=S=>n("close:table"))})]),_:1})]),_:1})]),_:1}),I(T,null,{default:V(()=>[(C(!0),F(Oe,null,et(e.list,S=>(C(),ae(x,{key:S.id},{default:V(()=>[I(y,null,{default:V(()=>[I(g,{innerHTML:S.object_tag,to:{name:"otus-id",params:{id:S.id}},onClick:a[1]||(a[1]=()=>n("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(C(),F("div",cC," No OTUs found in this area "))}}},hC={class:"font-medium"},Xg={__name:"DwcTable",setup(e,{expose:t}){const n=Me(!1),i=Me(!1),a=Me({}),s=Me(),u={[ac]:m=>`/collection_objects/${m}/dwc`,[Wh]:m=>`/field_occurrences/${m}/dwc`};function h({label:m,id:g,type:y}){i.value=!0,n.value=!0,a.value={},s.value=m,Bt(u[y](g)).then(({data:x})=>{a.value=x}).catch(()=>{}).finally(()=>{n.value=!1})}return t({show:h}),(m,g)=>{const y=Z("VTableHeaderCell"),x=Z("VTableHeaderRow"),T=Z("VTableHeader"),E=Z("VTableBodyCell"),S=Z("VTableBodyRow"),P=Z("VTableBody"),U=Z("VTable"),X=Z("VSpinner"),Q=Z("VModal");return i.value?(C(),ae(Q,{key:0,onClose:g[0]||(g[0]=()=>i.value=!1)},{header:V(()=>[O("h3",hC,_e(s.value),1)]),default:V(()=>[I(U,{class:"p-4 pt-0"},{default:V(()=>[I(T,null,{default:V(()=>[I(x,null,{default:V(()=>[I(y,null,{default:V(()=>[...g[1]||(g[1]=[we("Field",-1)])]),_:1}),I(y,null,{default:V(()=>[...g[2]||(g[2]=[we("Value",-1)])]),_:1})]),_:1})]),_:1}),I(P,null,{default:V(()=>[(C(!0),F(Oe,null,et(a.value,($,W)=>(C(),ae(S,{key:W},{default:V(()=>[I(E,null,{default:V(()=>[we(_e(W),1)]),_:2},1024),I(E,null,{default:V(()=>[we(_e($),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n.value?(C(),ae(X,{key:0})):fe("",!0)]),_:1})):fe("",!0)}}},fC={class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},pC={__name:"OtuSearch",props:{shapes:{type:Object,default:()=>[]},otu:{type:Object,default:void 0}},emits:["close"],setup(e,{emit:t}){const n=e,i=t,a=Me(null),s=Me(null),u=Gu("mapRef"),h=Me([]),m=Me(!1),g=Me(),y=Me(6),x=Me(6),{popupItem:T,geojsonOptions:E}=Jg({popupElement:a}),S=He(()=>!!n.shapes&&x.value<=y.value);an(()=>{document.addEventListener("keyup",P),document.body.classList.add("overflow-hidden")}),ni(()=>{document.removeEventListener("keyup",P),document.body.classList.remove("overflow-hidden")});const P=({key:W})=>{switch(W){case"Escape":i("close");break}};function U(W){const oe={geo_json:W,taxon_name_id:[n.otu.taxon_name_id],descendants:!0,per:5e3};g.value=!0,fn.getOtus(oe).then(({data:Ce})=>{h.value=Ce,m.value=!0}).catch(()=>{}).finally(Ce=>{g.value=!1})}function X(W){Q(),S.value&&u.value.resizeMap()}function Q(){x.value=u.value.getMapObject().getZoom()}function $(){y.value=u.value.getMapObject().getZoom(),Q()}return(W,oe)=>{const Ce=Z("VSpinner"),be=Z("VMap");return C(),F("div",fC,[g.value?(C(),ae(Ce,{key:0})):fe("",!0),I(uC,{label:e.otu.object_tag,onClose:oe[0]||(oe[0]=()=>i("close"))},null,8,["label"]),O("div",{class:Xt(["w-full","h-full","relative",{"disable-zoom-out":S.value}])},[I(be,{ref_key:"mapRef",ref:u,class:"w-full h-full",controls:"",zoom:4,dragging:!S.value,"zoom-bounds":y.value,geojson:e.shapes,geojsonOptions:Re(E),"onGeojson:ready":$,"onDraw:start":oe[1]||(oe[1]=()=>u.value.clearDrawLayers()),"onAdd:layer":oe[2]||(oe[2]=Fe=>U(JSON.stringify(Fe.geometry))),"onLayer:update":oe[3]||(oe[3]=Fe=>U(JSON.stringify(Fe.geometry))),"onDrag:layer":oe[4]||(oe[4]=Fe=>U(JSON.stringify(Fe.geometry))),"onZoom:change":X},null,8,["dragging","zoom-bounds","geojson","geojsonOptions"]),O("div",{ref_key:"popupElement",ref:a},[Re(T)?(C(),ae(Yg,{key:0,items:Re(T).base,onSelected:s.value.show},null,8,["items","onSelected"])):fe("",!0)],512),O("div",{class:Xt(["h-full","md:w-96","absolute","top-0","bg-base-background","z-[2000]","overflow-auto","ease-in-out","duration-300","w-full",{"md:-right-96 -right-full":!m.value,"right-0":m.value}])},[m.value?(C(),ae(dC,{key:0,list:h.value,onClose:oe[5]||(oe[5]=()=>i("close")),"onClose:table":oe[6]||(oe[6]=()=>m.value=!1)},null,8,["list"])):fe("",!0)],2)],2),I(Xg,{ref_key:"dwcTableRef",ref:s},null,512)])}}},mC=yt(pC,[["__scopeId","data-v-3c96e183"]]),_C={class:"relative"},gC={key:0,class:"flex flex-row p-2 text-xs italic"},yC={key:1,class:"flex flex-row p-2 gap-2 text-xs"},vC=2,bC={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0},cluster:{type:Boolean,default:!0}},setup(e){const t=e,n=Me(!0),i=Me(!1),a=Me(null),s=WL(),u=Me(null),{popupItem:h,geojsonOptions:m}=Jg({popupElement:u});return an(()=>{n.value=!0,s.loadDistribution({otuId:t.otuId,rankString:t.taxon.rank_string})}),Pr(()=>{s.resetRequest(),s.$reset()}),(g,y)=>{const x=Z("VSpinner"),T=Z("VMap"),E=Z("VButton"),S=Z("ClientOnly"),P=Z("VCard");return C(),ae(P,null,{default:V(()=>[O("div",_C,[I(S,null,{default:V(()=>[n.value?(C(),ae(x,{key:0})):fe("",!0),I(T,{class:"h-96 max-h-96",dragging:"",cluster:e.cluster,zoom:vC,"zoom-bounds":8,geojson:Re(s).distribution.geojson,"cluster-icon-create-function":Re(YL),"geojson-options":Re(m),"onGeojson:ready":y[0]||(y[0]=()=>n.value=!1)},null,8,["cluster","geojson","cluster-icon-create-function","geojson-options"]),O("div",{ref_key:"popupElement",ref:u},[Re(h)?(C(),ae(Yg,{key:0,items:Re(h).base,onSelected:a.value.show},null,8,["items","onSelected"])):fe("",!0)],512),I(E,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:y[1]||(y[1]=()=>i.value=!0)},{default:V(()=>[...y[3]||(y[3]=[we(" Search ",-1)])]),_:1}),i.value?(C(),ae(mC,{key:1,otu:e.otu,shapes:Re(s).distribution.geojson,onClose:y[2]||(y[2]=()=>i.value=!1)},null,8,["otu","shapes"])):fe("",!0),Re(s).distribution.cachedMap?(C(),ae(sC,{key:2,"cached-map":Re(s).distribution.cachedMap},null,8,["cached-map"])):fe("",!0)]),_:1})]),Re(s).distribution.errorMessage?(C(),F("div",gC," * "+_e(Re(s).distribution.errorMessage),1)):fe("",!0),Re(s).distribution.currentShapeTypes.length?(C(),F("div",yC,[(C(!0),F(Oe,null,et(Re(s).distribution.currentShapeTypes,U=>(C(),F("div",{key:U,class:"flex flex-row items-center"},[O("div",{class:Xt(["w-3","h-3","m-1","rounded-sm",Re(uh)[U].background])},null,2),O("span",null,_e(Re(uh)[U].label),1)]))),128))])):fe("",!0),I(Xg,{ref_key:"dwcTableRef",ref:a},null,512)]),_:1})}}},xC={id:"panel:map",component:bC};function Qg(e,t){const n=e.slice(),i=n.splice(0,t),a=n.splice(-t);return{first:i,middle:n,last:a}}const Bo=Ji("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]},determinedToRank:{isLoading:!1,data:{}}}),actions:{async loadTaxon(e,{signal:t}){const n=Kh(),i=await Promise.all([fn.getTaxon(e,{params:{extend:["type_taxon_name_relationship"]}}),nr("summary",()=>fn.summary(e,{signal:t}))]);this.taxon=Object.assign({},...i.map(a=>a.data)),n.setNextAuthorText(this.taxon.full_name_tag+".")},async loadOtu(e,{signal:t}){const n=await fn.getOtu(e,{signal:t});this.otu=n.data},async loadTaxonomy(e,{signal:t}){const{data:n}=await fn.getTaxonomy(e,{params:{max_descendants_depth:0,extend:["common_names"]},signal:t});this.taxonomy={commonNames:n.common_names,synonyms:n.nomenclatural_synonyms}},async loadCatalog(e,{signal:t}){this.catalog.isLoading=!0;const n=await nr("taxonomy",()=>fn.getTaxonNameCitations(e,{signal:t}));this.catalog={...n.data,sources:n.data.sources.map(({cached:i,url:a})=>a?i.replace(a,`<a href="${a}">${a}</a>`):i),isLoading:!1}},async loadToRank(e,t){this.determinedToRank.isLoading=!0;const n=await nr("determinedToRank",()=>fn.getDeterminedToRank(e,t));this.determinedToRank={isLoading:!1,data:n.data}},async loadInit({otuId:e,controller:t}){sc().$reset();try{await this.loadOtu(e,t),await this.loadTaxon(this.otu.taxon_name_id,t),await this.loadCatalog(this.otu.taxon_name_id,t),await this.loadTaxonomy(e,t)}catch(i){return Promise.reject(i)}}}});function dh(e,t){return!e.length||e.some(n=>t?.includes(n))}function e0(e){return e?e.replace(/<[^>]+>/g,""):""}const wC={class:"border-b border-base-muted p-3 px-5"},LC=["title","innerHTML"],CC=["innerHTML"],Pd={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(e){return(t,n)=>(C(),F("li",wC,[O("span",{class:"break-all block",title:Re(e0)(e.citation.label),innerHTML:e.citation.label},null,8,LC),e.citation.type_label?(C(),F("p",{key:0,class:"ml-4 text-base-soft",innerHTML:e.citation.type_label},null,8,CC)):fe("",!0)]))}},kC={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},t0={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(e){return(t,n)=>{const i=Z("IconPlusCircle");return C(),F("li",kC,[O("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:n[0]||(n[0]=()=>t.isExpanded=!t.isExpanded)},[I(i,{class:"h-5 w-5"})]),O("span",null,"... Show all ... ("+_e(e.count)+")",1)])}}},EC={class:"text-md"},MC={class:"text-sm"},TC={key:0,class:"text-sm"},SC={key:1,class:"text-sm"},PC=2,BC={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(e){const t=Bo(),n=Me(!1),i=He(()=>Qg(t.catalog.timeline,PC)),a=He(()=>[{label:n.value?"Show less":"Show all",action:()=>n.value=!n.value}]);return(s,u)=>{const h=Z("VSpinner"),m=Z("VCardHeader"),g=Z("AnimationOpacity"),y=Z("VCard");return C(),ae(y,null,{default:V(()=>[Re(t).catalog.isLoading?(C(),ae(h,{key:0,"logo-class":"w-8 h-8",legend:""})):fe("",!0),I(m,{class:"flex justify-between"},{default:V(()=>[O("h2",EC," Nomenclature ("+_e(Re(t).catalog.timeline.length)+") ",1),I(Po,{"menu-options":a.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),O("ul",MC,[(C(!0),F(Oe,null,et(i.value.first,x=>(C(),ae(Pd,{key:x.label,citation:x},null,8,["citation"]))),128)),!n.value&&i.value.middle.length?(C(),ae(t0,{key:0,count:i.value.middle.length,onClick:u[0]||(u[0]=x=>n.value=!0)},null,8,["count"])):fe("",!0)]),I(g,null,{default:V(()=>[i.value.middle.length?kn((C(),F("ul",TC,[(C(!0),F(Oe,null,et(i.value.middle,x=>(C(),ae(Pd,{key:x.label,citation:x},null,8,["citation"]))),128))],512)),[[Yu,n.value]]):fe("",!0)]),_:1}),i.value.last.length?(C(),F("ul",SC,[(C(!0),F(Oe,null,et(i.value.last,x=>(C(),ae(Pd,{key:x.label,citation:x},null,8,["citation"]))),128))])):fe("",!0)]),_:1})}}},AC={id:"panel:nomenclature",component:BC},OC={class:"border-b border-base-muted p-3 px-5"},RC=["title","innerHTML"],Bd={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(e){return(t,n)=>(C(),F("li",OC,[O("span",{class:"[&>a]:break-all block",title:Re(e0)(e.reference),innerHTML:e.reference},null,8,RC)]))}},DC={class:"text-md"},IC={class:"text-sm"},jC=2,FC={__name:"PanelNomenclatureReferences",setup(e){const t=Bo(),n=Me(!1),i=He(()=>Qg(t.catalog.sources,jC)),a=He(()=>[{label:n.value?"Show less":"Show all",action:()=>n.value=!n.value}]);return(s,u)=>{const h=Z("VSpinner"),m=Z("VCardHeader"),g=Z("AnimationOpacity"),y=Z("VCard");return C(),ae(y,null,{default:V(()=>[Re(t).catalog.isLoading?(C(),ae(h,{key:0,"logo-class":"w-8 h-8",legend:""})):fe("",!0),I(m,{class:"flex justify-between"},{default:V(()=>[O("h2",DC," Nomenclature references ("+_e(Re(t).catalog.sources.length)+") ",1),I(Po,{"menu-options":a.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),O("ul",IC,[(C(!0),F(Oe,null,et(i.value.first,x=>(C(),ae(Bd,{key:x,reference:x},null,8,["reference"]))),128)),!n.value&&i.value.middle.length?(C(),ae(t0,{key:0,count:i.value.middle.length,onClick:u[0]||(u[0]=x=>n.value=!0)},null,8,["count"])):fe("",!0),I(g,null,{default:V(()=>[kn(O("div",null,[(C(!0),F(Oe,null,et(i.value.middle,x=>(C(),ae(Bd,{key:x,reference:x},null,8,["reference"]))),128))],512),[[Yu,n.value]])]),_:1}),(C(!0),F(Oe,null,et(i.value.last,x=>(C(),ae(Bd,{key:x,reference:x},null,8,["reference"]))),128))])]),_:1})}}},NC={id:"panel:nomenclature-references",component:FC};function VC(e){return{value:`${e.continuous_value} ${e.continuous_unit}`}}function $C(e){return{value:e.depictions.map(t=>`<img src="${t.image.thumb}">`)}}const zC="Observation::Qualitative",HC="Observation::PresenceAbsence",UC="Observation::Continuous",GC="Observation::Sample",qC="Observation::Media",ZC="Observation::Working",ps={Qualitative:zC,Presence:HC,Continuous:UC,Sample:GC,Media:qC,Working:ZC};function KC(e){return{value:e.character_state.name}}function WC(e){return{value:e.description}}function JC(e){const t=[];return e.sample_median&&t.push(`median = ${e.sample_median}`),e.sample_mean&&t.push(`&#956; = ${e.sample_mean}`),e.sample_standard_error&&t.push(`s = ${e.sample_standard_error} ${e.sample_units}`),e.sample_n&&t.push(`${e.sample_n}`),e.sample_standard_deviation&&t.push(`&#963; = ${e.sample_standard_deviation}`),{value:`${e.sample_min}-${e.sample_max} ${e.sample_units} (${t.join(", ")})`}}function YC(e){return{value:e.presence?"&#10003;":"&#x274c;"}}function XC(e){switch(e.type){case ps.Continuous:return VC(e);case ps.Qualitative:return KC(e);case ps.Working:return WC(e);case ps.Media:return $C(e);case ps.Sample:return JC(e);case ps.Presence:return YC(e);default:return{value:'<span class="text-warning">Observation type is not supported.</span>'}}}function QC(e){const t=e.descriptor.name;return{id:e.id,type:e.type,descriptorName:t,...XC(e)}}const ek={__name:"TableObservations",props:{observations:{type:Array,required:!0}},setup(e){return(t,n)=>{const i=Z("VTableHeaderCell"),a=Z("VTableHeaderRow"),s=Z("VTableHeader"),u=Z("VTableBodyCell"),h=Z("VTableBodyRow"),m=Z("VTableBody"),g=Z("VTable");return C(),ae(g,null,{default:V(()=>[I(s,null,{default:V(()=>[I(a,null,{default:V(()=>[I(i,null,{default:V(()=>[...n[0]||(n[0]=[we(" Descriptor ",-1)])]),_:1}),I(i,null,{default:V(()=>[...n[1]||(n[1]=[we(" Value ",-1)])]),_:1})]),_:1})]),_:1}),I(m,null,{default:V(()=>[(C(!0),F(Oe,null,et(e.observations,y=>(C(),ae(h,{key:y.id},{default:V(()=>[I(u,{class:"font-bold text-nowrap",innerHTML:y.descriptorName},null,8,["innerHTML"]),I(u,{innerHTML:y.value},null,8,["innerHTML"])]),_:2},1024))),128))]),_:1})]),_:1})}}},tk={key:0,class:"text-center text-lg pt-4 pb-6"},nk={__name:"SoundObservations",props:{soundId:{type:Number,required:!0}},setup(e){const t=e,n=Me(!1),i=Me(!0),a=Me([]);return on(n,()=>{fn.getObservations({sound_id:t.soundId,extend:["character_state","depictions","image","descriptor"]}).then(({data:s})=>{const u=s.map(h=>QC(h));u.sort((h,m)=>h.descriptorName.localeCompare(m.descriptorName)),a.value=u}).catch(()=>{}).finally(()=>{i.value=!1})},{once:!0}),(s,u)=>{const h=Z("IconFiles"),m=Z("VSpinner"),g=Z("VModal");return C(),F(Oe,null,[O("button",{class:"h-8 w-8 flex items-center justify-center rounded-full text-primary-content bg-primary-color",title:"Observations",onClick:u[0]||(u[0]=()=>n.value=!0)},[I(h,{class:"size-4"})]),n.value?(C(),ae(g,{key:0,"container-class":"w-auto",onClose:u[1]||(u[1]=()=>n.value=!1)},{header:V(()=>[...u[2]||(u[2]=[O("h3",{class:"font-medium"},"Observations",-1)])]),default:V(()=>[i.value?(C(),ae(m,{key:0})):fe("",!0),O("div",{class:Xt(["px-4 pb-6 min-w-80",i.value&&"min-h-32"])},[i.value===!1&&!a.value.length?(C(),F("div",tk," No records found ")):(C(),ae(ek,{key:1,observations:a.value},null,8,["observations"]))],2)]),_:1})):fe("",!0)],64)}}},rk={class:"bg-base-foreground rounded shadow p-4"},ik={class:"flex flex-col space-y-3"},ok={class:"flex justify-between items-center gap-4 text-sm"},sk=["innerHTML"],ak={class:"text-base-lighter whitespace-nowrap"},lk={class:"flex items-center gap-2"},uk=["href"],ck=["aria-label"],dk={class:"flex-1"},hk=["value","max"],fk=["aria-label"],pk={class:"w-20"},mk=["value"],_k={key:0,class:"text-xs text-base-lighter mt-2"},gk=["src"],yk={__name:"AudioPlayer",props:{soundId:{type:Number,required:!0},title:{type:String,default:"Audio Track"},src:{type:String,required:!0},copyright:{type:String,default:" All rights reserved."}},setup(e){const t=Me(null),n=Me(!1),i=Me(0),a=Me(0),s=Me(.7),u=Me(!1),h=He(()=>({"--progress":`${i.value/a.value*100}%`,"--filled-color":"rgb(var(--color-primary))","--empty-color":"rgb(var(--color-base-lighter))"})),m=He(()=>({"--progress":`${u.value?0:s.value*100}%`,"--filled-color":"rgb(var(--color-primary))","--empty-color":"rgb(var(--color-base-lighter))"}));function g(X){const Q=Math.floor(X/60),$=Math.floor(X%60);return`${Q}:${$<10?"0":""}${$}`}function y(){t.value&&(n.value?t.value.pause():t.value.play(),n.value=!n.value)}function x(){t.value&&(i.value=t.value.currentTime)}function T(X){if(t.value){const Q=parseFloat(X.target.value);t.value.currentTime=Q,i.value=Q}}function E(X){if(t.value){const Q=parseFloat(X.target.value);t.value.volume=Q,s.value=Q,Q===0?(u.value=!0,t.value.muted=!0):(u.value=!1,t.value.muted=!1)}}function S(){t.value&&(t.value.muted=!u.value,u.value=!u.value)}function P(){t.value&&(a.value=t.value.duration,t.value.volume=s.value)}function U(){n.value=!1,i.value=0,t.value&&(t.value.currentTime=0)}return an(()=>{t.value&&(t.value.volume=s.value)}),(X,Q)=>{const $=Z("IconDownload"),W=Z("IconPause"),oe=Z("IconPlay"),Ce=Z("IconSpeakerX"),be=Z("IconSpeakerWave");return C(),F("div",rk,[O("div",ik,[O("div",ok,[O("div",null,[O("h3",{class:"font-medium first-letter:uppercase",innerHTML:e.title},null,8,sk)]),O("div",ak,_e(g(i.value))+" / "+_e(g(a.value)),1)]),O("div",lk,[O("a",{class:"h-8 w-8 flex items-center justify-center rounded-full text-primary-content bg-primary-color","aria-label":"Download",title:"Download",href:e.src,download:""},[I($,{class:"size-4"})],8,uk),I(nk,{"sound-id":e.soundId},null,8,["sound-id"]),O("button",{class:"h-8 w-8 flex items-center justify-center rounded-full text-primary-content bg-primary-color",onClick:y,"aria-label":n.value?"Pause":"Play"},[n.value?(C(),ae(W,{key:0,class:"size-4"})):(C(),ae(oe,{key:1,class:"size-4"}))],8,ck),O("div",dk,[O("input",{type:"range",value:i.value,max:a.value,step:"0.1",style:Vn(h.value),class:"w-full h-2 text-base-lighter rounded-lg cursor-pointer appearance-none outline-none","aria-label":"Seek time",onInput:T},null,44,hk)]),O("button",{class:"h-8 w-8 flex items-center justify-center rounded-full bg-primary-color text-primary-content","aria-label":u.value?"Unmute":"Mute",onClick:S},[u.value?(C(),ae(Ce,{key:0,class:"size-4"})):(C(),ae(be,{key:1,class:"size-4"}))],8,fk),O("div",pk,[O("input",{type:"range",value:u.value?0:s.value,max:"1",step:"0.01",onInput:E,class:"w-full h-2 text-base-lighter rounded-lg appearance-none cursor-pointer",style:Vn(m.value),"aria-label":"Volume"},null,44,mk)])]),e.copyright?(C(),F("div",_k,_e(e.copyright),1)):fe("",!0)]),O("audio",{ref_key:"audioElement",ref:t,src:e.src,preload:"metadata",onTimeupdate:x,onLoadedmetadata:P,onEnded:U},null,40,gk)])}}},vk=yt(yk,[["__scopeId","data-v-50955469"]]),bk={class:"border-b border-base-muted p-3 px-5"},xk={__name:"PanelSoundRow",props:{sound:{type:Object,required:!0}},setup(e){return(t,n)=>(C(),F("li",bk,[I(vk,{"sound-id":e.sound.id,src:e.sound.sound_file,title:e.sound.conveyances.map(i=>i.label).join("; "),copyright:e.sound.attribution.label},null,8,["sound-id","src","title","copyright"])]))}},wk={class:"text-md"},Lk={__name:"PanelSounds",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,n=Me([]);return an(()=>{nr("panel:sounds",()=>fn.getSounds({otu_id:t.otuId,otu_scope:["field_occurrences","otus","collection_objects"],extend:["attribution","conveyances"]})).then(({data:i})=>{n.value=i})}),(i,a)=>{const s=Z("VCardHeader"),u=Z("VCard");return n.value.length?(C(),ae(u,{key:0},{default:V(()=>[I(s,{class:"flex justify-between"},{default:V(()=>[O("h2",wk,"Sounds ("+_e(n.value.length)+")",1)]),_:1}),O("ul",null,[(C(!0),F(Oe,null,et(n.value,h=>(C(),ae(xk,{key:h.id,sound:h},null,8,["sound"]))),128))])]),_:1})):fe("",!0)}}},Ck={id:"panel:sounds",component:Lk,rankGroup:["SpeciesGroup"]},kk=["innerHTML"],Ek={class:"specimen-list ml-7 relative list-disc"},Mk={key:0,class:"my-1 last:mb-0"},Tk={key:1,class:"my-1 last:mb-0"},Sk={key:2},Pk={__name:"SpecimenSummary",props:{specimen:{type:Object,required:!0},images:{type:Array,default:[]},otuId:{type:Number,required:!0},notes:{type:Array,default:[]},tags:{type:Array,default:[]}},setup(e){function t(g){return[g.genus,g.specificEpithet].filter(Boolean).join(" ")}function n(g){return g.scientificName.replace(t(g),`<em>${t(g)}</em>`).replace(g.family,`Family ${g.family}`).replace(g.order,`Order ${g.order}`)}function i(g){return[g.catalogNumber,s(g),g.year].filter(Boolean).join("; ")}function a(g){return[g.individualCount!==1&&`${g.individualCount} specimens`,h(g),g.recordedBy&&`Recorded by ${g.recordedBy}`,u(g),g.georeferencedBy&&`Geolocated by ${g.georeferencedBy}${m(g)}`].filter(Boolean)}function s(g){return[g.country&&g.country,g.stateProvince&&g.stateProvince,g.county&&`${g.county} County`].filter(Boolean).join(", ")}function u(g){return[g.identifiedBy&&`Identified by ${g.identifiedBy}`,g.dateIdentified].filter(Boolean).join(", ")}function h(g){return g.year?`Collected ${new Date(g.year,g.month,g.day).toLocaleDateString()}`:null}function m(g){return g.coordinateUncertaintyInMeters?` to within ${g.coordinateUncertaintyInMeters} meters`:""}return(g,y)=>{const x=Z("GalleryImage");return C(),F(Oe,null,[O("div",{innerHTML:n(e.specimen),class:"font-bold mb-2"},null,8,kk),O("ul",Ek,[i(e.specimen)?(C(),F("li",Mk,_e(i(e.specimen)),1)):fe("",!0),a(e.specimen).length?(C(),F("li",Tk,_e(a(e.specimen).join(", ")),1)):fe("",!0),e.images.length?(C(),F("li",Sk,[I(x,{images:e.images,"only-thumbs":!0},null,8,["images"])])):fe("",!0),(C(!0),F(Oe,null,et(e.notes,T=>(C(),F("li",{key:T.id,class:"my-1 last:mb-0"}," Note: "+_e(T.text),1))),128)),(C(!0),F(Oe,null,et(e.tags,T=>(C(),F("li",{key:T.id,class:"my-1 last:mb-0"}," Tag: "+_e(T.keyword?.name??"no name provided"),1))),128))])],64)}}},Bk={key:0,class:"block text-sm font-medium text-gray-700 mb-2"},Ak={class:"flex flex-wrap gap-2"},Ok=["onClick","title"],Rk={key:1,class:"ml-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},Dk={key:0,class:"text-gray-500 text-sm py-2"},Ik={key:1,class:"mt-2 text-xs text-gray-600"},jk={__name:"MultiSelectTags",props:{modelValue:{type:Array,default:()=>[]},tags:{type:Array,required:!0},label:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,a=He(()=>n.tags.filter(y=>n.modelValue.includes(y.id))),s=He(()=>n.tags),u=y=>n.modelValue.includes(y.id),h=y=>{const x=[...n.modelValue],T=x.indexOf(y.id);T>-1?x.splice(T,1):x.push(y.id),i("update:modelValue",x)},m=y=>y.cssColor&&u(y)?{backgroundColor:y.cssColor+"20",borderColor:y.cssColor,color:y.cssColor}:{},g=y=>y.description&&y.description!==y.name?`${y.name}: ${y.description}`:y.definition?`${y.name}: ${y.definition}`:`${y.name}: Specimen tag`;return(y,x)=>(C(),F("div",null,[e.label?(C(),F("label",Bk,_e(e.label),1)):fe("",!0),O("div",Ak,[(C(!0),F(Oe,null,et(s.value,T=>(C(),F("button",{key:T.id,onClick:E=>h(T),type:"button",title:g(T),class:Xt(["inline-flex items-center px-3 py-1.5 rounded-md text-sm font-medium border transition-colors duration-200",u(T)?"border-blue-500 text-blue-700 shadow-sm":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"]),style:Vn(m(T))},[T.cssColor?(C(),F("span",{key:0,class:"inline-block w-2 h-2 rounded-full mr-2",style:Vn({backgroundColor:T.cssColor})},null,4)):fe("",!0),we(" "+_e(T.name)+" ",1),u(T)?(C(),F("svg",Rk,[...x[0]||(x[0]=[O("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):fe("",!0)],14,Ok))),128)),s.value.length===0?(C(),F("div",Dk," No tags available ")):fe("",!0)]),a.value.length>0?(C(),F("div",Ik,_e(a.value.length)+" tag"+_e(a.value.length!==1?"s":"")+" selected ",1)):fe("",!0)]))}},Fk={class:"flex justify-between items-center"},Nk={class:"text-md"},Vk={key:0},$k={key:1},zk={key:0,class:"text-sm mx-2"},Hk={key:1,innerHTML:"<<",class:"ml-2"},Uk={key:3,class:"ml-2"},Gk={key:5,innerHTML:"next",class:"ml-2"},qk={key:7,innerHTML:">>",class:"ml-2"},Zk={key:0,class:"mt-4"},Kk=["innerHTML"],Wk={key:1,class:"specimen-records"},Jk={__name:"PanelSpecimens",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,n=Me("Loading..."),i=Me(void 0),a=Me(void 0),s=Me(void 0),u=Me({dwc:!1,gallery:!1,notes:!1,tags:!1}),h=Me(1),m=Me(20),g=Me("???"),y=!1,x=Me([]),T=Me([]),E=(Q,$)=>fn.getDescendantsDarwinCore(Q,$),S=Q=>i.value?i.value.filter($=>$.dwc_occurrence_id===Q.id).reduce(($,W)=>[...$,...W.images],[]):[],P=Q=>a.value?a.value.filter($=>$.note_object_id===Q.dwc_occurrence_object_id):[],U=Q=>s.value?s.value.filter($=>$.tag_object_id===Q.dwc_occurrence_object_id):[];on(()=>[t.otuId,h.value,T.value],async()=>{if(!t.otuId){n.value="No OTU specified.";return}u.value={...u.value,dwc:!0};const Q=T.value.length>0?`panel:specimens:${T.value.join(",")}`:"panel:specimens";nr(Q,()=>E(t.otuId,{per:m.value,page:h.value})).then(({data:$,headers:W})=>{n.value=$,g.value=Number(W["pagination-total"]);const oe=$.map(Ce=>Ce.dwc_occurrence_object_id);u.value={...u.value,notes:!0,tags:!0},X("panel:notes","notes",fn.getCollectionObjectsNotes,a)(oe),X("panel:tags","tags",fn.getCollectionObjectsTags,s)(oe)}).catch($=>n.value=`Error loading Darwin Core: ${$}`).finally(()=>u.value={...u.value,dwc:!1}),u.value={...u.value,gallery:!0},nr("panel:gallery",()=>fn.getDescendantsImageGallery(t.otuId)).then(({data:$,headers:W})=>{i.value=$}).catch($=>console.error(`Error loading gallery: ${$}`)).finally(()=>u.value={...u.value,gallery:!1})},{immediate:!0});const X=(Q,$,W,oe)=>async Ce=>{try{u.value={...u.value,[$]:!0};const{data:be}=await nr(Q,()=>W(Ce));oe.value=be}catch(be){console.error(`Error loading ${$}: ${be}`)}finally{u.value={...u.value,[$]:!1}}};return(Q,$)=>{const W=Z("VSpinner"),oe=Z("ClientOnly"),Ce=Z("router-link"),be=Z("VCardHeader"),Fe=Z("VCardContent"),Ee=Z("VCard");return C(),ae(Ee,null,{default:V(()=>[I(oe,null,{default:V(()=>[u.value.dwc?(C(),ae(W,{key:0,"logo-class":"w-8 h-8",legend:""})):fe("",!0)]),_:1}),I(be,null,{default:V(()=>[O("div",Fk,[O("h2",Nk,[we(_e(void(Q.isSinglePage=typeof g.value=="number"&&g.value<m.value&&h.value===1))+" "+_e(void(Q.isLoaded=Array.isArray(n.value)))+" "+_e(void(Q.dwcCount=Q.isLoaded?n.value.length:0))+" In the Collection ",1),Q.isLoaded?(C(),F(Oe,{key:0},[Q.isSinglePage?(C(),F("span",Vk," ("+_e(g.value)+") ",1)):(C(),F("span",$k," ("+_e((h.value-1)*m.value+1)+""+_e((h.value-1)*m.value+Q.dwcCount)+" of "+_e(g.value)+") ",1))],64)):fe("",!0)]),Q.isLoaded&&!Q.isSinglePage?(C(),F("p",zk,[we(_e(void(Q.showFirst=h.value>1))+" "+_e(void(Q.showPrev=h.value>1))+" "+_e(void(Q.showNext=Q.dwcCount===m.value))+" "+_e(void(Q.showLast=Q.showNext&&typeof g.value=="number"&&g.value>(h.value-1)*m.value+Q.dwcCount))+" ",1),Q.showFirst?(C(),ae(Ce,{key:0,to:{name:"otus-id",params:{id:e.otuId}},class:"text-secondary-color ml-2",innerHTML:"<<",onClick:$[0]||($[0]=Pe=>h.value=1)},null,8,["to"])):(C(),F("span",Hk)),Q.showPrev?(C(),ae(Ce,{key:2,to:{name:"otus-id",params:{id:e.otuId}},class:"text-secondary-color ml-2",innerHTML:"prev",onClick:$[1]||($[1]=Pe=>h.value--)},null,8,["to"])):(C(),F("span",Uk,"prev")),Q.showNext?(C(),ae(Ce,{key:4,to:{name:"otus-id",params:{id:e.otuId}},class:"text-secondary-color ml-2",innerHTML:"next",onClick:$[2]||($[2]=Pe=>h.value++)},null,8,["to"])):(C(),F("span",Gk)),Q.showLast?(C(),ae(Ce,{key:6,to:{name:"otus-id",params:{id:e.otuId}},class:"text-secondary-color ml-2",innerHTML:">>",onClick:$[3]||($[3]=Pe=>h.value=Math.ceil(g.value/m.value))},null,8,["to"])):(C(),F("span",qk))])):fe("",!0),I(Po,{"panel-key":"panel:specimens"})]),Re(y)?(C(),F("div",Zk,[I(jk,{modelValue:Re(T),"onUpdate:modelValue":$[4]||($[4]=Pe=>cn(T)?T.value=Pe:null),tags:Re(x),label:"Filter by tags"},null,8,["modelValue","tags"])])):fe("",!0)]),_:1}),I(Fe,{class:"text-sm"},{default:V(()=>[typeof n.value=="string"?(C(),F("p",{key:0,innerHTML:n.value},null,8,Kk)):(C(),F("ul",Wk,[(C(!0),F(Oe,null,et(n.value,Pe=>(C(),F("li",{key:Pe.id,class:"py-3 border-b border-base-border last:border-none first:pt-0 last:pb-0"},[I(Pk,{specimen:Pe,"otu-id":e.otuId,images:S(Pe),notes:P(Pe),tags:U(Pe)},null,8,["specimen","otu-id","images","notes","tags"])]))),128))]))]),_:1})]),_:1})}}},Yk={id:"panel:specimens",component:Jk},Xk={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0},showTaxa:{type:Boolean,default:!1},showDetermined:{type:Boolean,default:!1},hideNames:{type:Boolean,default:!1},hideExtant:{type:Boolean,default:!1},hideFossil:{type:Boolean,default:!1},hideInvalid:{type:Boolean,default:!1}},setup(e){const t=e,n=Bo(),i=Me(t.showTaxa),a=Me(t.hideNames),s=Me(t.showDetermined),u=Me(t.hideExtant),h=Me(t.hideFossil),m=Me(t.hideInvalid);t.showDetermined&&n.loadToRank(t.otuId);const g=T=>T?`${y(T)} specimens are determined ${T.indexOf("speci")>=0?"fully":"only"} to ${T}.`:"How many specimens are determined only to this rank?",y=T=>{const E=T.toLowerCase(),S=n.determinedToRank.data;return n.determinedToRank.isLoading?"...":S?E in S?S[E]??0:"missing":""},x=He(()=>[{label:i.value?"Hide taxa":"Show taxa",action:()=>i.value=!i.value},{label:a.value?"Show names":"Hide names",action:()=>a.value=!a.value},{label:s.value?"Hide determined":"Show determined",action:()=>s.value=!s.value},{label:u.value?"Show extant":"Hide extant",action:()=>u.value=!u.value},{label:h.value?"Show fossil":"Hide fossil",action:()=>h.value=!h.value},{label:m.value?"Show invalid":"Hide invalid",action:()=>m.value=!m.value}]);return(T,E)=>{const S=Z("VSpinner"),P=Z("VCardHeader"),U=Z("VTableHeaderCell"),X=Z("VTableHeaderRow"),Q=Z("VTableHeader"),$=Z("VTableBodyCell"),W=Z("VTableBodyRow"),oe=Z("VTableBody"),Ce=Z("VTable"),be=Z("VCardContent"),Fe=Z("VCard");return C(),ae(Fe,null,{default:V(()=>[Re(n).catalog.isLoading?(C(),ae(S,{key:0,"logo-class":"w-8 h-8",legend:""})):fe("",!0),I(P,{class:"flex justify-between"},{default:V(()=>[E[0]||(E[0]=O("h2",{class:"text-md"},"Stats",-1)),I(Po,{"panel-key":"taxonomy","menu-options":x.value},null,8,["menu-options"])]),_:1}),I(be,{class:"text-sm overflow-auto"},{default:V(()=>[I(Ce,null,{default:V(()=>[I(Q,null,{default:V(()=>[I(X,null,{default:V(()=>[I(U,{class:"bg-base-foreground"},{default:V(()=>[...E[1]||(E[1]=[O("span",{class:"sr-only"},"Rank",-1)])]),_:1}),i.value?(C(),ae(U,{key:0,title:"OTUs linked to valid protonyms"},{default:V(()=>[...E[2]||(E[2]=[we(" Taxa ",-1)])]),_:1})):fe("",!0),s.value?(C(),ae(U,{key:1,title:g()},{default:V(()=>[...E[3]||(E[3]=[we(" Specimens ",-1)])]),_:1},8,["title"])):fe("",!0),a.value?fe("",!0):(C(),ae(U,{key:2,title:"Taxon names",class:"border-l border-r border-base-border",colspan:"2"},{default:V(()=>[...E[4]||(E[4]=[we(" Valid names ",-1)])]),_:1})),a.value?fe("",!0):(C(),ae(U,{key:3,colspan:"3",class:"bg-base-foreground"},{default:V(()=>[...E[5]||(E[5]=[O("span",{class:"sr-only"},"Extended name statistics",-1)])]),_:1}))]),_:1}),I(X,null,{default:V(()=>[I(U,null,{default:V(()=>[...E[6]||(E[6]=[we("Rank",-1)])]),_:1}),i.value?(C(),ae(U,{key:0,title:"OTUs linked to valid protonyms"},{default:V(()=>[...E[7]||(E[7]=[we("Total",-1)])]),_:1})):fe("",!0),s.value?(C(),ae(U,{key:1,title:g()},{default:V(()=>[...E[8]||(E[8]=[we(" Determined ",-1)])]),_:1},8,["title"])):fe("",!0),a.value?fe("",!0):(C(),ae(U,{key:2,title:"Taxon names",class:"border-l border-base-border"},{default:V(()=>[...E[9]||(E[9]=[we(" Total ",-1)])]),_:1})),u.value?fe("",!0):(C(),ae(U,{key:3,class:"border-l border-base-border"},{default:V(()=>[...E[10]||(E[10]=[we("Extant",-1)])]),_:1})),h.value?fe("",!0):(C(),ae(U,{key:4},{default:V(()=>[...E[11]||(E[11]=[we("Fossil",-1)])]),_:1})),m.value?fe("",!0):(C(),ae(U,{key:5,class:"border-l border-base-border"},{default:V(()=>[...E[12]||(E[12]=[we("Invalid",-1)])]),_:1}))]),_:1})]),_:1}),I(oe,null,{default:V(()=>[(C(!0),F(Oe,null,et(Re(n).catalog.stats,({rank:Ee,taxa:Pe,names:ze})=>(C(),ae(W,{key:Ee},{default:V(()=>[I($,{class:"capitalize"},{default:V(()=>[we(_e(Ee),1)]),_:2},1024),i.value?(C(),ae($,{key:0},{default:V(()=>[we(_e(Pe),1)]),_:2},1024)):fe("",!0),s.value?(C(),ae($,{key:1,title:g(Ee)},{default:V(()=>[we(_e(y(Ee)),1)]),_:2},1032,["title"])):fe("",!0),a.value?fe("",!0):(C(),ae($,{key:2,class:"border-l border-base-border"},{default:V(()=>[we(_e(ze.invalid+ze.valid_extant+ze.valid_fossil),1)]),_:2},1024)),u.value?fe("",!0):(C(),ae($,{key:3,class:"border-l border-base-border"},{default:V(()=>[we(_e(ze.valid_extant),1)]),_:2},1024)),h.value?fe("",!0):(C(),ae($,{key:4},{default:V(()=>[we(_e(ze.valid_fossil),1)]),_:2},1024)),m.value?fe("",!0):(C(),ae($,{key:5,class:"border-l border-base-border"},{default:V(()=>[we(_e(ze.invalid),1)]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},Qk={id:"panel:statistics",component:Xk},e3=["innerHTML"],t3={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(e){const t=Bo(),n=He(()=>t.taxon?.type_taxon_name_relationship||{}),i=He(()=>[n.value.subject_object_tag||"",n.value.subject_status_tag||"",n.value.object_object_tag||""].join(" "));return(a,s)=>{const u=Z("VCardHeader"),h=Z("VCardContent"),m=Z("VCard");return C(),ae(m,null,{default:V(()=>[I(u,{class:"flex justify-between"},{default:V(()=>[s[0]||(s[0]=O("h2",{class:"text-md"},"Type",-1)),I(Po,{"panel-key":"panel:type"})]),_:1}),I(h,{class:"text-sm"},{default:V(()=>[O("p",{innerHTML:i.value},null,8,e3)]),_:1})]),_:1})}}},n3={id:"panel:type",component:t3,rankGroup:[sL,aL]},r3={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,n=Me([]);return on(()=>t.otuId,()=>{t.otuId&&nr("panel:typeMaterial",()=>fn.getOtuTypeMaterial(t.otuId)).then(({data:i})=>{n.value=i.type_materials_catalog_labels.sort((a,s)=>zp.indexOf(a.type_type)-zp.indexOf(s.type_type))}).catch(()=>{})},{immediate:!0}),(i,a)=>{const s=Z("VCardHeader"),u=Z("VCardContent"),h=Z("VCard");return n.value.length?(C(),ae(h,{key:0},{default:V(()=>[I(s,{class:"flex justify-between"},{default:V(()=>[a[0]||(a[0]=O("h2",{class:"text-md"},"Type specimen",-1)),I(Po,{"panel-key":"panel:typeMaterial"})]),_:1}),I(u,{class:"text-sm"},{default:V(()=>[O("p",null,_e(n.value[0].label),1)]),_:1})]),_:1})):fe("",!0)}}},i3={id:"panel:type-specimen",component:r3,rankGroup:[lL,uL]},o3={overview:{panels:[[["panel:gallery","panel:specimens"],["panel:map","panel:descendants","panel:content","panel:keys","panel:statistics","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references","panel:sounds"]]]}};var s3={taxa_page:{overview:{panels:[[["panel:gallery","panel:specimens"],["panel:map","panel:descendants","panel:content",{id:"panel:statistics",bind:{showTaxa:!0,showDetermined:!0,hideNames:!0,hideExtant:!0,hideFossil:!0,hideInvalid:!0}},"panel:keys","panel:type","panel:nomenclature","panel:nomenclature-references"]]]}}};const a3=Object.values([fL,gL,AL,IL,VL,xC,AC,NC,Ck,Yk,Qk,n3,i3]),{taxa_page:l3}=s3,Zp=l3||o3;function u3(e){return e.map(t=>t.map(n=>n.map(i=>{const s=typeof i=="string"?{id:i}:{...i};return{...a3.find(h=>h.id===s.id),...s}})))}const Va={};for(const e in Zp){const t=Zp[e];Va[e]={panels:u3(t?.panels||{}),rankGroup:t.rank_group||[],label:t.label}}function c3(){return Object.keys(Va||{}).map(t=>({path:t,name:`otus-id-${t}`,component:()=>tt(()=>Promise.resolve().then(()=>JB),void 0),meta:{tab:t,rankGroup:Va[t].rankGroup,label:Va[t].label}}))}const d3=[{name:"otus-id",path:"/otus/:id",component:()=>tt(()=>Promise.resolve().then(()=>BA),void 0),redirect:{name:"otus-id-overview"},children:c3()}],h3=()=>tt(()=>Promise.resolve().then(()=>jA),void 0),f3=()=>tt(()=>Promise.resolve().then(()=>GA),void 0),p3=[{name:"home",path:"/",component:h3,props:!0,alias:"/home"},{name:"about",path:"/about",component:f3,props:!0}],m3=Object.assign({"/src/modules/DwCFilter/router/index.js":eL,"/src/modules/bibliography/router/index.js":tL,"/src/modules/home/router/index.js":nL,"/src/modules/httpErrorPages/router/index.js":rL,"/src/modules/interactiveKeys/router/index.js":iL,"/src/modules/keys/router/index.js":oL,"/src/modules/otus/router/index.js":d3}),_3=Object.assign({}),g3=Zh(),y3=[].concat(...Object.values(m3),...Object.values(_3)),v3=[...p3,...y3];function b3(){return $1(g3)}function x3(){return h4({history:b3(),routes:v3,scrollBehavior(e,t,n){return e.hash?{el:e.hash}:{top:0}}})}function w3({originUrl:e}){const t=Fb(Yw),n=x3(),i=Ug();return t.use(n),t.use(i),{app:t,router:n,store:i}}function L3(e){C3(e,Object.assign({"/src/components/Map/VMap.client.vue":()=>tt(()=>Promise.resolve().then(()=>w2),void 0).then(n=>n.default)}))}function C3(e,t){Object.entries(t).forEach(([n,i])=>{const a=n.split("/").pop().replace(/\.client.\w+$/,"");e.component(a,f_(i))})}function k3(e){E3(e,Object.assign({"/src/components/AddressMaker.global.vue":()=>tt(()=>Promise.resolve().then(()=>T2),void 0).then(n=>n.default),"/src/components/Animation/AnimationOpacity.global.vue":()=>tt(()=>Promise.resolve().then(()=>A2),void 0).then(n=>n.default),"/src/components/Autocomplete/Autocomplete.global.vue":()=>tt(()=>Promise.resolve().then(()=>G2),void 0).then(n=>n.default),"/src/components/Autocomplete/AutocompleteOtu.global.vue":()=>tt(()=>Promise.resolve().then(()=>Z2),void 0).then(n=>n.default),"/src/components/Button/ButtonExpand.global.vue":()=>tt(()=>Promise.resolve().then(()=>J2),void 0).then(n=>n.default),"/src/components/Button/VButton.global.vue":()=>tt(()=>Promise.resolve().then(()=>X2),void 0).then(n=>n.default),"/src/components/Card/VCard.global.vue":()=>tt(()=>Promise.resolve().then(()=>rO),void 0).then(n=>n.default),"/src/components/Card/VCardContent.global.vue":()=>tt(()=>Promise.resolve().then(()=>lO),void 0).then(n=>n.default),"/src/components/Card/VCardHeader.global.vue":()=>tt(()=>Promise.resolve().then(()=>fO),void 0).then(n=>n.default),"/src/components/Clipboard/VClipboard.global.vue":()=>tt(()=>Promise.resolve().then(()=>mO),void 0).then(n=>n.default),"/src/components/Dropdown/Dropdown.global.vue":()=>tt(()=>Promise.resolve().then(()=>vO),void 0).then(n=>n.default),"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":()=>tt(()=>Promise.resolve().then(()=>EO),void 0).then(n=>n.default),"/src/components/Gallery/GalleryImage.global.vue":()=>tt(()=>Promise.resolve().then(()=>RO),void 0).then(n=>n.default),"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":()=>tt(()=>Promise.resolve().then(()=>FO),void 0).then(n=>n.default),"/src/components/Icon/IconArrowDown.global.vue":()=>tt(()=>Promise.resolve().then(()=>HO),void 0).then(n=>n.default),"/src/components/Icon/IconArrowLeft.global.vue":()=>tt(()=>Promise.resolve().then(()=>KO),void 0).then(n=>n.default),"/src/components/Icon/IconArrowRight.global.vue":()=>tt(()=>Promise.resolve().then(()=>QO),void 0).then(n=>n.default),"/src/components/Icon/IconArrowUp.global.vue":()=>tt(()=>Promise.resolve().then(()=>iR),void 0).then(n=>n.default),"/src/components/Icon/IconCheck.global.vue":()=>tt(()=>Promise.resolve().then(()=>uR),void 0).then(n=>n.default),"/src/components/Icon/IconClipboard.global.vue":()=>tt(()=>Promise.resolve().then(()=>pR),void 0).then(n=>n.default),"/src/components/Icon/IconClose.global.vue":()=>tt(()=>Promise.resolve().then(()=>vR),void 0).then(n=>n.default),"/src/components/Icon/IconDocument.global.vue":()=>tt(()=>Promise.resolve().then(()=>CR),void 0).then(n=>n.default),"/src/components/Icon/IconDownload.global.vue":()=>tt(()=>Promise.resolve().then(()=>SR),void 0).then(n=>n.default),"/src/components/Icon/IconFiles.global.vue":()=>tt(()=>Promise.resolve().then(()=>RR),void 0).then(n=>n.default),"/src/components/Icon/IconGithub.global.vue":()=>tt(()=>Promise.resolve().then(()=>NR),void 0).then(n=>n.default),"/src/components/Icon/IconHamburger.global.vue":()=>tt(()=>Promise.resolve().then(()=>UR),void 0).then(n=>n.default),"/src/components/Icon/IconInformation.global.vue":()=>tt(()=>Promise.resolve().then(()=>WR),void 0).then(n=>n.default),"/src/components/Icon/IconJson.global.vue":()=>tt(()=>Promise.resolve().then(()=>eD),void 0).then(n=>n.default),"/src/components/Icon/IconMinusCircle.global.vue":()=>tt(()=>Promise.resolve().then(()=>oD),void 0).then(n=>n.default),"/src/components/Icon/IconPause.global.vue":()=>tt(()=>Promise.resolve().then(()=>cD),void 0).then(n=>n.default),"/src/components/Icon/IconPlay.global.vue":()=>tt(()=>Promise.resolve().then(()=>mD),void 0).then(n=>n.default),"/src/components/Icon/IconPlusCircle.global.vue":()=>tt(()=>Promise.resolve().then(()=>bD),void 0).then(n=>n.default),"/src/components/Icon/IconSearch.global.vue":()=>tt(()=>Promise.resolve().then(()=>kD),void 0).then(n=>n.default),"/src/components/Icon/IconSpeakerWave.global.vue":()=>tt(()=>Promise.resolve().then(()=>PD),void 0).then(n=>n.default),"/src/components/Icon/IconSpeakerX.global.vue":()=>tt(()=>Promise.resolve().then(()=>DD),void 0).then(n=>n.default),"/src/components/Icon/IconTrash.global.vue":()=>tt(()=>Promise.resolve().then(()=>VD),void 0).then(n=>n.default),"/src/components/Icon/IconWarning.global.vue":()=>tt(()=>Promise.resolve().then(()=>GD),void 0).then(n=>n.default),"/src/components/ImageViewer/ImageViewer.global.vue":()=>tt(()=>Promise.resolve().then(()=>wI),void 0).then(n=>n.default),"/src/components/Input/InputText.global.vue":()=>tt(()=>Promise.resolve().then(()=>kI),void 0).then(n=>n.default),"/src/components/Input/SelectInput.global.vue":()=>tt(()=>Promise.resolve().then(()=>TI),void 0).then(n=>n.default),"/src/components/Markdown/MarkdownLayout.global.vue":()=>tt(()=>Promise.resolve().then(()=>BI),void 0).then(n=>n.default),"/src/components/Modal/VModal.global.vue":()=>tt(()=>Promise.resolve().then(()=>DI),void 0).then(n=>n.default),"/src/components/Pagination/VPagination.global.vue":()=>tt(()=>Promise.resolve().then(()=>WI),void 0).then(n=>n.default),"/src/components/Pagination/VPaginationInfo.global.vue":()=>tt(()=>Promise.resolve().then(()=>e5),void 0).then(n=>n.default),"/src/components/ProjectStats.global.vue":()=>tt(()=>Promise.resolve().then(()=>n5),void 0).then(n=>n.default),"/src/components/Ssr/ClientOnly.global.vue":()=>tt(()=>Promise.resolve().then(()=>o5),void 0).then(n=>n.default),"/src/components/Tab/TabItem.global.vue":()=>tt(()=>Promise.resolve().then(()=>l5),void 0).then(n=>n.default),"/src/components/Tab/TabMenu.global.vue":()=>tt(()=>Promise.resolve().then(()=>f5),void 0).then(n=>n.default),"/src/components/Table/VTable.global.vue":()=>tt(()=>Promise.resolve().then(()=>v5),void 0).then(n=>n.default),"/src/components/Table/VTableBody.global.vue":()=>tt(()=>Promise.resolve().then(()=>C5),void 0).then(n=>n.default),"/src/components/Table/VTableBodyCell.global.vue":()=>tt(()=>Promise.resolve().then(()=>S5),void 0).then(n=>n.default),"/src/components/Table/VTableBodyRow.global.vue":()=>tt(()=>Promise.resolve().then(()=>R5),void 0).then(n=>n.default),"/src/components/Table/VTableHeader.global.vue":()=>tt(()=>Promise.resolve().then(()=>N5),void 0).then(n=>n.default),"/src/components/Table/VTableHeaderCell.global.vue":()=>tt(()=>Promise.resolve().then(()=>U5),void 0).then(n=>n.default),"/src/components/Table/VTableHeaderRow.global.vue":()=>tt(()=>Promise.resolve().then(()=>K5),void 0).then(n=>n.default),"/src/components/TrackerReport.global.vue":()=>tt(()=>Promise.resolve().then(()=>r6),void 0).then(n=>n.default),"/src/components/VSkeleton.global.vue":()=>tt(()=>Promise.resolve().then(()=>o6),void 0).then(n=>n.default),"/src/components/VSpinner.global.vue":()=>tt(()=>Promise.resolve().then(()=>u6),void 0).then(n=>n.default)}))}function E3(e,t){Object.entries(t).forEach(([n,i])=>{const a=n.split("/").pop().replace(/\.client\.global\.\w+$/,"").replace(/\.global\.\w+$/,"");e.component(a,f_(i))})}async function n0(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const i={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",i),!!i.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async a=>{const s=new Map,u=new Promise(E=>{e.resolveTags().then(S=>{E(S.map(P=>{const U=s.get(P._d)||0,X={tag:P,id:(U?`${P._d}:${U}`:P._d)||Xf(P),shouldRender:!0};return P._d&&tg(P._d)&&s.set(P._d,U+1),X}))})});let h=e._dom;if(!h){h={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const E of["body","head"]){const S=n[E]?.children;for(const P of S){const U=P.tagName.toLowerCase();if(!Yf.has(U))continue;const X=ng({tag:U,props:{}},{innerHTML:P.innerHTML,...P.getAttributeNames().reduce((Q,$)=>(Q[$]=P.getAttribute($),Q),{})||{}});if(X.key=P.getAttribute("data-hid")||void 0,X._d=Xd(X)||Xf(X),h.elMap.has(X._d)){let Q=1,$=X._d;for(;h.elMap.has($);)$=`${X._d}:${Q++}`;h.elMap.set($,P)}else h.elMap.set(X._d,P)}}}h.pendingSideEffects={...h.sideEffects},h.sideEffects={};function m(E,S,P){const U=`${E}:${S}`;h.sideEffects[U]=P,delete h.pendingSideEffects[U]}function g({id:E,$el:S,tag:P}){const U=P.tag.endsWith("Attrs");h.elMap.set(E,S),U||(P.textContent&&P.textContent!==S.textContent&&(S.textContent=P.textContent),P.innerHTML&&P.innerHTML!==S.innerHTML&&(S.innerHTML=P.innerHTML),m(E,"el",()=>{S?.remove(),h.elMap.delete(E)}));for(const X in P.props){if(!Object.prototype.hasOwnProperty.call(P.props,X))continue;const Q=P.props[X];if(X.startsWith("on")&&typeof Q=="function"){const W=S?.dataset;if(W&&W[`${X}fired`]){const oe=X.slice(0,-5);Q.call(S,new Event(oe.substring(2)))}S.getAttribute(`data-${X}`)!==""&&((P.tag==="bodyAttrs"?n.defaultView:S).addEventListener(X.substring(2),Q.bind(S)),S.setAttribute(`data-${X}`,""));continue}const $=`attr:${X}`;if(X==="class"){if(!Q)continue;for(const W of Q)U&&m(E,`${$}:${W}`,()=>S.classList.remove(W)),!S.classList.contains(W)&&S.classList.add(W)}else if(X==="style"){if(!Q)continue;for(const[W,oe]of Q)m(E,`${$}:${W}`,()=>{S.style.removeProperty(W)}),S.style.setProperty(W,oe)}else Q!==!1&&Q!==null&&(S.getAttribute(X)!==Q&&S.setAttribute(X,Q===!0?"":String(Q)),U&&m(E,$,()=>S.removeAttribute(X)))}}const y=[],x={bodyClose:void 0,bodyOpen:void 0,head:void 0},T=await u;for(const E of T){const{tag:S,shouldRender:P,id:U}=E;if(P){if(S.tag==="title"){n.title=S.textContent,m("title","",()=>n.title=h.title);continue}E.$el=E.$el||h.elMap.get(U),E.$el?g(E):Yf.has(S.tag)&&y.push(E)}}for(const E of y){const S=E.tag.tagPosition||"head";E.$el=n.createElement(E.tag.tag),g(E),x[S]=x[S]||n.createDocumentFragment(),x[S].appendChild(E.$el)}for(const E of T)await e.hooks.callHook("dom:renderTag",E,n,m);x.head&&n.head.appendChild(x.head),x.bodyOpen&&n.body.insertBefore(x.bodyOpen,n.body.firstChild),x.bodyClose&&n.body.appendChild(x.bodyClose);for(const E in h.pendingSideEffects)h.pendingSideEffects[E]();e._dom=h,await e.hooks.callHook("dom:rendered",{renders:T}),a()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function M3(e={}){const t=e.domOptions?.render||n0;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return s1({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function T3(e,t){let n=0;return()=>{const i=++n;t(()=>{n===i&&e()})}}function S3(e={}){const t=M3({domOptions:{render:T3(()=>n0(t),n=>setTimeout(n,0))},...e});return t.install=l1(t),t}function r0(e){const t={...e};for(const n in e){const i=e[n];(!i||Array.isArray(i)&&!i.length)&&delete t[n]}return t}function P3(e,t){const n=(Zh()+("/#"+t)).replaceAll("//","/");return[e,n].join("")}function B3({id:e,childTaxon:t,parentTaxon:n,taxonRank:i,name:a,scientificName:s,identifier:u,commonNames:h,alternateName:m},{host:g}){return r0({"@type":"Taxon","@id":P3(g,e),"http://purl.org/dc/terms/conformsTo":{"@id":"https://bioschemas.org/profiles/Taxon/1.0-RELEASE"},additionalType:["dwc:Taxon","http://rs.tdwg.org/ontology/voc/TaxonConcept#TaxonConcept"],"dwc:vernacularName":R3(h),name:a,alternateName:m.map(y=>y.replaceAll(/<\/?i>/g,"")),childTaxon:t,scientificName:A3(s),identifier:u,taxonRank:i,parentTaxon:O3(n)})}function A3({name:e,author:t,taxonRank:n}){return r0({"@type":"TaxonName",author:t,name:e,taxonRank:n})}function O3({name:e,taxonRank:t}){return{"@type":"Taxon",name:e,taxonRank:t}}function R3(e){return e.map(({name:t,language:n})=>({"@language":n,"@value":t}))}function D3(e){switch(e){case"taxon":return B3;default:return()=>({})}}function I3(e,{host:t}){return D3(e._resolver)(e,{host:t})}function j3({host:e}){return{hooks:{"tags:resolve":async function(t){for(const n of t.tags)n.tag==="script"&&n.key==="schema-org-graph"&&(n.innerHTML=JSON.stringify({"@context":"https://schema.org","@graph":n.props.nodes.map(i=>I3(i,{host:e}))},null,2),delete n.props.nodes)}}}}const i0=window.location.origin,Kp=window.initialState,{app:lc,router:F3,store:N3}=w3({originUrl:i0}),V3=S3({plugins:[j3({host:i0})]});lc.use(V3);Kp&&(N3.state.value=Kp);L3(lc);k3(lc);F3.isReady().then(()=>{lc.mount("#app")});function o0(e,t=""){const n={};for(const i in e){if(!e.hasOwnProperty(i))continue;const a=e[i],s=t?`${t}[${i}]`:i;Array.isArray(a)?n[`${s}[]`]=a:typeof a=="object"&&a!==null?Object.assign(n,o0(a,s)):n[s]=a}return n}const $3={class:"flex flex-col flex-wrap gap-2 mt-2"},z3={class:"capitalize"},H3={__name:"FacetOrder",props:{modelValue:{type:Object,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=["kingdom","phylum","class","order","family","genus","subgenus","specificEpithet","infraspecificEpithet"],n=ti(e,"modelValue");return(i,a)=>{const s=Z("InputText");return C(),F("div",null,[a[0]||(a[0]=O("label",{class:"text-base font-medium"},"Classification",-1)),O("div",$3,[(C(),F(Oe,null,et(t,u=>O("div",{key:u,class:"flex flex-col"},[O("label",z3,_e(u),1),I(s,{placeholder:"Type name...",modelValue:n.value[u],"onUpdate:modelValue":h=>n.value[u]=h},null,8,["modelValue","onUpdate:modelValue"])])),64))])])}}},U3={class:"w-full"},G3={class:"flex flex-col md:flex-row gap-2 w-full"},q3={__name:"FacetDistribution",props:{modelValue:{type:Object,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=ti(e,"modelValue");return(n,i)=>{const a=Z("Autocomplete");return C(),F("div",U3,[i[3]||(i[3]=O("label",null,"Distribution",-1)),O("div",G3,[I(a,{class:"w-full",url:"/dwc_occurrences/area_autocomplete","query-param":"term",input:t.value.country,"onUpdate:input":i[0]||(i[0]=s=>t.value.country=s),"retain-input":"",params:{target:"country"},placeholder:"Country..."},null,8,["input"]),I(a,{class:"w-full",url:"/dwc_occurrences/area_autocomplete","query-param":"term","retain-input":"",input:t.value.stateProvince,"onUpdate:input":i[1]||(i[1]=s=>t.value.stateProvince=s),params:{target:"stateProvince"},placeholder:"State/Province..."},null,8,["input"]),I(a,{class:"w-full",url:"/dwc_occurrences/area_autocomplete","query-param":"term","retain-input":"",input:t.value.county,"onUpdate:input":i[2]||(i[2]=s=>t.value.county=s),params:{target:"county"},placeholder:"County..."},null,8,["input"])])])}}},Z3=["value"],K3={__name:"FacetTypeStatus",props:{modelValue:{type:Object,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype"],n=ti(e,"modelValue");return(i,a)=>{const s=Z("SelectInput");return C(),F("div",null,[a[2]||(a[2]=O("h3",null,"Type",-1)),I(s,{class:"w-full capitalize",modelValue:n.value.typeStatus,"onUpdate:modelValue":a[0]||(a[0]=u=>n.value.typeStatus=u)},{default:V(()=>[a[1]||(a[1]=O("option",{value:""},"None",-1)),(C(),F(Oe,null,et(t,u=>O("option",{key:u,value:u},_e(u),9,Z3)),64))]),_:1},8,["modelValue"])])}}},W3={__name:"FacetInstitutionCode",props:{modelValue:{type:Object,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=ti(e,"modelValue");return(n,i)=>{const a=Z("InputText");return C(),F("div",null,[i[1]||(i[1]=O("label",{class:"block"},"Institution code",-1)),I(a,{type:"text",modelValue:t.value.institutionCode,"onUpdate:modelValue":i[0]||(i[0]=s=>t.value.institutionCode=s),placeholder:"Type..."},null,8,["modelValue"])])}}},J3={class:"flex flex-col gap-2"},Y3={class:"flex flex-col lg:flex-row justify-center items-center gap-4 lg:gap-2 text-sm"},X3={class:"text-sm w-full"},Q3={class:"w-full lg:w-96"},eE={class:"hidden md:flex flex-row gap-2 justify-center md:self-end text-sm"},tE={class:"text-secondary-color flex flex-row gap-1 cursor-pointer"},nE={key:0,class:"text-sm pt-4 flex gap-4"},rE={class:"flex flex-col gap-2"},iE={class:"flex md:hidden flex-row gap-2 justify-center md:self-end text-sm"},oE={__name:"FilterBar",props:{modelValue:{type:Object,required:!0},modelModifiers:{}},emits:Cs(["search"],["update:modelValue"]),setup(e,{emit:t}){const n=ti(e,"modelValue"),i=t,a=Me(!1);return(s,u)=>{const h=Z("InputText"),m=Z("VButton"),g=Z("IconMinusCircle"),y=Z("IconPlusCircle"),x=Z("VCardContent"),T=Z("VCard");return C(),ae(T,{class:"mb-4"},{default:V(()=>[I(x,null,{default:V(()=>[O("div",J3,[O("div",Y3,[O("div",X3,[u[13]||(u[13]=O("label",null,"Scientific name",-1)),I(h,{class:"block w-full",type:"text",placeholder:"Type name...",modelValue:n.value.scientificName,"onUpdate:modelValue":u[0]||(u[0]=E=>n.value.scientificName=E),onKeypress:u[1]||(u[1]=Ms(()=>i("search"),["enter"]))},null,8,["modelValue"])]),O("div",Q3,[u[14]||(u[14]=O("label",null,"Author",-1)),I(h,{class:"block w-full",type:"text",placeholder:"Type author...",modelValue:n.value.scientificNameAuthorship,"onUpdate:modelValue":u[2]||(u[2]=E=>n.value.scientificNameAuthorship=E),onKeypress:u[3]||(u[3]=Ms(()=>i("search"),["enter"]))},null,8,["modelValue"])]),I(q3,{modelValue:n.value,"onUpdate:modelValue":u[4]||(u[4]=E=>n.value=E)},null,8,["modelValue"]),O("div",eE,[I(m,{class:"py-1.5 border border-primary-color",primary:"",onClick:u[5]||(u[5]=()=>i("search"))},{default:V(()=>[...u[15]||(u[15]=[we(" Search ",-1)])]),_:1}),I(m,{class:"py-1.5 border border-primary-color",primary:"",onClick:u[6]||(u[6]=()=>i("reset"))},{default:V(()=>[...u[16]||(u[16]=[we(" Reset ",-1)])]),_:1})])]),O("div",null,[O("div",{class:"text-sm mt-2",onClick:u[7]||(u[7]=()=>{a.value=!a.value})},[O("div",tE,[a.value?(C(),ae(g,{key:0,class:"w-5 h-5"})):(C(),ae(y,{key:1,class:"w-5 h-5"})),u[17]||(u[17]=O("span",null,"More filters",-1))])])]),a.value?(C(),F("div",nE,[I(H3,{modelValue:n.value,"onUpdate:modelValue":u[8]||(u[8]=E=>n.value=E)},null,8,["modelValue"]),O("div",rE,[u[18]||(u[18]=O("h3",{class:"text-base font-medium"},"Specimen records",-1)),I(W3,{modelValue:n.value,"onUpdate:modelValue":u[9]||(u[9]=E=>n.value=E)},null,8,["modelValue"]),I(K3,{modelValue:n.value,"onUpdate:modelValue":u[10]||(u[10]=E=>n.value=E)},null,8,["modelValue"])])])):fe("",!0),O("div",iE,[I(m,{class:"py-1.5 border border-primary-color",primary:"",onClick:u[11]||(u[11]=()=>i("search"))},{default:V(()=>[...u[19]||(u[19]=[we(" Search ",-1)])]),_:1}),I(m,{class:"py-1.5 border border-primary-color",primary:"",onClick:u[12]||(u[12]=()=>i("reset"))},{default:V(()=>[...u[20]||(u[20]=[we(" Reset ",-1)])]),_:1})])])]),_:1})]),_:1})}}},sE={key:0,class:"p-5 font-normal"},aE={class:"pb-2 text-sm"},lE=["href"],uE={class:"relative"},cE=["innerHTML"],dE={__name:"DropdownMenu",props:{request:{type:Object,default:()=>({})},parameters:{type:Object,required:!0}},setup(e){const t=e,n=Me(!1),i=He(()=>[{label:"JSON Data",action:()=>n.value=!0},{label:"Download DwC",action:a}]);async function a(){const s=await Bt.get("/dwc_occurrences.csv",{params:{...t.parameters},responseType:"blob",headers:{Accept:"text/tsv"}}),u=new Date().toISOString().replace(/[:.]/g,"-");Yx(s.data,`dwc_occurrences_${u}.tsv`,"text/tsv")}return(s,u)=>{const h=Z("IconHamburger"),m=Z("Dropdown"),g=Z("VClipboard"),y=Z("VModal");return C(),F(Oe,null,[I(m,{items:i.value},{button:V(()=>[I(h,{class:"text-base-soft h-4"})]),_:1},8,["items"]),n.value?(C(),ae(y,{key:0,onClose:u[0]||(u[0]=x=>n.value=!1)},{header:V(()=>[...u[1]||(u[1]=[O("h3",null,"JSON Data",-1)])]),default:V(()=>[e.request?(C(),F("div",sE,[O("h3",aE,[u[2]||(u[2]=we(" URL: ",-1)),O("a",{href:e.request.url},_e(e.request.url),9,lE)]),O("div",uE,[O("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(e.request.data,null,4)},null,8,cE),I(g,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(e.request.data,null,2)},null,8,["text"])])])):fe("",!0)]),_:1})):fe("",!0)],64)}}},hE={class:"tp-tab-list inline-flex items-center gap-0.5 flex-wrap"},fE={class:"tp-tab-item inline-flex items-center text-sm cursor-pointer"},pE=["onClick"],mE={__name:"TabList",props:Cs({tabs:{type:Array,required:!0}},{modelValue:{type:Number,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ti(e,"modelValue");return(n,i)=>(C(),F("ul",hE,[O("li",fE,[(C(!0),F(Oe,null,et(e.tabs,(a,s)=>(C(),F("span",{key:a,class:Xt(["block py-2 px-3 text-base-content border-b-2 border-transparent",t.value===s&&"border-b-2 !border-secondary-color text-secondary-color"]),onClick:u=>t.value=s},_e(a),11,pE))),128))])]))}},_E=["title"],gE=["alt","src"],yE={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(e){return(t,n)=>(C(),F("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:e.title},[O("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:e.title,src:e.image.thumb},null,8,gE)],8,_E))}},vE={class:"flex flex-row overflow-x-auto print:flex-wrap gap-1.5"},Jh={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(e,{emit:t}){const n=t;return(i,a)=>(C(),F("div",vE,[(C(!0),F(Oe,null,et(e.images,(s,u)=>(C(),F("div",{key:s.id},[I(yE,{image:s,class:Xt({"border border-secondary-color":e.current===u}),title:s.depictions?.map(h=>h.label).join(";")||"",onClick:h=>n("selectIndex",u)},null,8,["image","class","title","onClick"])]))),128))]))}},bE={key:0,class:"text-xl text-center flex flex-col justify-center h-36"},xE={class:"flex flex-col"},wE={class:"font-medium"},LE=["innerHTML"],Wp={__name:"RecordItems",props:{items:{type:Object,required:!0}},emits:["select"],setup(e,{emit:t}){const n=t;function i(g){return[g.country,g.stateProvince,g.county,g.verbatimLocality].filter(Boolean).join(", ")}function a(g){const{institutionCode:y,institutionID:x}=g;if(y)return x?`<a href="${x}" target="_blank">${y}</a>`:`<span>${y}</span>`}function s({individualCount:g,sex:y}){return y?`${g} ${y}`:`${g} specimen${g>1?"s":""}`}function u({recordedBy:g}){return g?`Col. ${g}`:""}function h({verbatimCoordinates:g}){const y=g?.split(" ").join(", ");return y?`(${y})`:""}function m(g){return[s(g),a(g),g.catalogNumber,i(g),h(g),u(g)].filter(Boolean).join("; ")}return(g,y)=>(C(),F(Oe,null,[e.items.length?fe("",!0):(C(),F("div",bE," No records found. ")),(C(!0),F(Oe,null,et(e.items,x=>(C(),F("div",{class:"flex justify-between flex-col gap-2 text-sm px-4 py-4 border-b",key:x.id},[O("div",xE,[O("span",wE,_e(x.typeStatus),1),O("span",{innerHTML:m(x)},null,8,LE)]),x.associatedMedia?(C(),ae(Jh,{key:0,images:x.associatedMedia,class:"flex-row flex-wrap gap-2",onSelectIndex:T=>n("select",{item:x,index:T})},null,8,["images","onSelectIndex"])):fe("",!0)]))),128))],64))}},CE={class:"flex flex-col"},kE={class:"text-base font-medium"},EE=["innerHTML"],ME={class:"mx-4 min-h-48"},TE={class:"border-b"},SE={__name:"OtuModal",props:{otu:{type:Object,required:!0},parameters:{type:Object,required:!0}},setup(e){const t=e,n=He(()=>[`Type material (${x.value.length})`,`Specimen records (${y.value.length})`]),i=Me(0),a=Me([]),s=Me(!1),u=Me(!1),h=Me(!1),m=Me(0),g=Me([]),y=He(()=>g.value.filter(P=>P.dwc_occurrence_object_type==="CollectionObject"&&!P.typeStatus)),x=He(()=>g.value.filter(P=>P.dwc_occurrence_object_type==="CollectionObject"&&P.typeStatus));function T(){u.value=!0,Bt.get("/dwc_occurrences",{params:{"collection_object_query[otu_id][]":t.otu.id,per:1e4,...t.parameters}}).then(async P=>{P.data.sort((U,X)=>U.associatedMedia&&!X.associatedMedia?-1:!U.associatedMedia&&X.associatedMedia?1:0);for(let U=0;U<P.data.length;U++){const X=P.data[U];if(X.associatedMedia){const Q=await E(X);X.associatedMedia=Q}}g.value=P.data,x.value.length||(m.value=1)}).finally(()=>{u.value=!1})}on(h,P=>{P&&T()});async function E(P){const U=P.associatedMedia.split("|"),X=[];return U.forEach(Q=>{X.push(Bt.get(Q.trim(),{params:{extend:["attribution","depictions","source"]}}))}),await Promise.all(X).then(Q=>Q.map($=>$.data))}function S(P,U){a.value=P,i.value=U,s.value=!0}return(P,U)=>{const X=Z("IconPlusCircle"),Q=Z("VSpinner"),$=Z("ImageViewer"),W=Z("VModal");return C(),F(Oe,null,[I(X,{class:"size-6 text-secondary-color cursor-pointer",onClick:U[0]||(U[0]=()=>h.value=!0)}),h.value?(C(),ae(W,{key:0,onClose:U[8]||(U[8]=()=>h.value=!1)},{header:V(()=>[O("div",CE,[O("div",kE,[U[9]||(U[9]=we(" DwC Records - ",-1)),O("span",{innerHTML:e.otu.object_tag},null,8,EE)]),U[10]||(U[10]=O("i",{class:"text-xs"},"* The results shown here are based on the filters selected in the DwC filter.",-1))])]),default:V(()=>[u.value?(C(),ae(Q,{key:0})):fe("",!0),O("div",ME,[O("div",TE,[I(mE,{tabs:n.value,modelValue:m.value,"onUpdate:modelValue":U[1]||(U[1]=oe=>m.value=oe)},null,8,["tabs","modelValue"])]),m.value==0?(C(),ae(Wp,{key:0,items:x.value,onSelect:U[2]||(U[2]=({index:oe,item:Ce})=>S(Ce.associatedMedia,oe))},null,8,["items"])):fe("",!0),m.value==1?(C(),ae(Wp,{key:1,items:y.value,onSelect:U[3]||(U[3]=({index:oe,item:Ce})=>S(Ce.associatedMedia,oe))},null,8,["items"])):fe("",!0),s.value?(C(),ae($,{key:2,images:a.value,index:i.value,next:a.value.length-1>i.value,previous:i.value>0,onSelectIndex:U[4]||(U[4]=oe=>i.value=oe),onNext:U[5]||(U[5]=()=>i.value++),onPrevious:U[6]||(U[6]=()=>i.value--),onClose:U[7]||(U[7]=()=>s.value=!1)},null,8,["images","index","next","previous"])):fe("",!0)])]),_:1})):fe("",!0)],64)}}},PE={class:"container mx-auto box-border"},BE={class:"flex flex-row justify-between items-center mb-4"},AE={class:"flex flex-col md:flex-row gap-3 md:items-center"},OE={class:"flex flex-col md:flex-row gap-3 md:items-center mt-4"},Ad=50,RE={__name:"index",setup(e){const t=Ei(),n=So(),i=Me([]),a=Me(!1),s=Me({page:1,total:0,per:Ad}),u=Me({}),h=Me(),m=He(()=>({wildcard_attribute:Object.keys(u.value)}));function g(P){return{page:Number(P["pagination-page"]),per:Number(P["pagination-per-page"]),total:Number(P["pagination-total"])}}function y(P={}){u.value=P}function x(P={}){s.value={page:Number(P.page)||1,total:0,per:Ad}}function T(){n.push({query:{...u.value,page:s.value.page}})}function E(P=1){a.value=!0,Bt.get("/otus",{params:{...o0({dwc_occurrence_query:{...u.value,...m.value}}),page:P,per:Ad}}).then(({data:U,headers:X,request:Q})=>{i.value=U,s.value=g(X),h.value={data:U,url:Q.responseURL},T()}).finally(()=>{a.value=!1})}function S(){y(),x(),T(),i.value=[]}return an(()=>{const{page:P,...U}=t.query;y(U),x({page:P}),E()}),(P,U)=>{const X=Z("VSpinner"),Q=Z("ClientOnly"),$=Z("VPagination"),W=Z("VPaginationInfo"),oe=Z("VTableHeaderCell"),Ce=Z("VTableHeaderRow"),be=Z("VTableHeader"),Fe=Z("VTableBodyCell"),Ee=Z("RouterLink"),Pe=Z("VTableBodyRow"),ze=Z("VTableBody"),Be=Z("VTable"),rt=Z("VCardContent"),mt=Z("VCard");return C(),F("div",PE,[U[7]||(U[7]=O("div",{class:"px-4 md:px-0 mt-4 mb-6"},[O("h1",{class:"text-4xl font-bold"},"Search the Darwin Core"),O("h2",null," Filter OTUs by scientific name, author, and distribution (Darwin Core) ")],-1)),I(Q,null,{default:V(()=>[a.value?(C(),ae(X,{key:0,"full-screen":""})):fe("",!0)]),_:1}),I(oE,{modelValue:u.value,"onUpdate:modelValue":U[0]||(U[0]=Ye=>u.value=Ye),onSearch:U[1]||(U[1]=()=>E()),onReset:S},null,8,["modelValue"]),I(mt,null,{default:V(()=>[I(rt,null,{default:V(()=>[O("div",BE,[O("div",AE,[I($,{modelValue:s.value.page,"onUpdate:modelValue":[U[2]||(U[2]=Ye=>s.value.page=Ye),U[3]||(U[3]=Ye=>{E(Ye)})],total:s.value.total,per:s.value.per},null,8,["modelValue","total","per"]),I(W,{pagination:s.value},null,8,["pagination"])]),I(dE,{parameters:{...u.value,...m.value},request:h.value},null,8,["parameters","request"])]),I(Be,null,{default:V(()=>[I(be,null,{default:V(()=>[I(Ce,null,{default:V(()=>[I(oe,{class:"w-2"}),I(oe,null,{default:V(()=>[...U[6]||(U[6]=[we("OTU",-1)])]),_:1})]),_:1})]),_:1}),I(ze,null,{default:V(()=>[(C(!0),F(Oe,null,et(i.value,Ye=>(C(),ae(Pe,{key:Ye.id},{default:V(()=>[I(Fe,{class:"pr-1"},{default:V(()=>[I(SE,{otu:Ye,parameters:{...u.value,...m.value}},null,8,["otu","parameters"])]),_:2},1024),I(Fe,{class:"break-all"},{default:V(()=>[I(Ee,{to:{name:"otus-id",params:{id:Ye.id}},innerHTML:Ye.object_tag},null,8,["to","innerHTML"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),O("div",OE,[I($,{modelValue:s.value.page,"onUpdate:modelValue":U[4]||(U[4]=Ye=>s.value.page=Ye),total:s.value.total,per:s.value.per,onSelect:U[5]||(U[5]=Ye=>{E(Ye)})},null,8,["modelValue","total","per"]),I(W,{pagination:s.value},null,8,["pagination"])])]),_:1})]),_:1})])}}},DE=Object.freeze(Object.defineProperty({__proto__:null,default:RE},Symbol.toStringTag,{value:"Module"}));function s0(e){return{page:Number(e["pagination-page"]),per:Number(e["pagination-per-page"]),total:Number(e["pagination-total"])}}const IE={key:0,class:"p-5 font-normal"},jE={class:"pb-2 text-sm"},FE=["href"],NE={class:"relative"},VE=["innerHTML"],$E={__name:"DropdownMenu",props:{request:{type:Object,default:()=>({})}},setup(e){const t=Me(!1),n=He(()=>[{label:"JSON Data",action:()=>t.value=!0}]);return(i,a)=>{const s=Z("IconHamburger"),u=Z("Dropdown"),h=Z("VClipboard"),m=Z("VModal");return C(),F(Oe,null,[I(u,{items:n.value},{button:V(()=>[I(s,{class:"text-base-soft h-4"})]),_:1},8,["items"]),t.value?(C(),ae(m,{key:0,onClose:a[0]||(a[0]=g=>t.value=!1)},{header:V(()=>[...a[1]||(a[1]=[O("h3",null,"JSON Data",-1)])]),default:V(()=>[e.request?(C(),F("div",IE,[O("h3",jE,[a[2]||(a[2]=we(" URL: ",-1)),O("a",{href:e.request.url},_e(e.request.url),9,FE)]),O("div",NE,[O("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(e.request.data,null,4)},null,8,VE),I(h,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(e.request.data,null,2)},null,8,["text"])])])):fe("",!0)]),_:1})):fe("",!0)],64)}}},Jp={__name:"YearPicker",props:Cs({min:{type:Number,required:!0},max:{type:Number,required:!0}},{modelValue:{type:Number,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=ti(e,"modelValue");function i(a){const s=Number(a.target.value);s<t.min?n.value=t.min:s>t.max?n.value=t.max:n.value=s}return(a,s)=>{const u=Z("InputText");return C(),F("div",null,[I(u,{class:"w-14 max-w-14 text-sm",value:n.value,onChange:i},null,8,["value"])])}}},zE={class:"year-slider-container text-base-content"},HE={class:"slider-wrapper"},UE={class:"slider-track bg-base-muted"},GE=["min","max"],qE=["min","max"],ZE={__name:"VSlider",props:Cs({min:{type:Number,required:!0},max:{type:Number,required:!0}},{start:{type:Number,required:!0},startModifiers:{},end:{type:Number,required:!0},endModifiers:{}}),emits:["update:start","update:end"],setup(e){const t=e,n=ti(e,"start"),i=ti(e,"end"),a=He(()=>{const u=(n.value-t.min)/(t.max-t.min)*100,h=(i.value-t.min)/(t.max-t.min)*100;return{left:`${Math.min(u,h)}%`,width:`${Math.abs(h-u)}%`}}),s=()=>{n.value>i.value&&([n.value,i.value]=[i.value,n.value])};return an(()=>{s()}),(u,h)=>(C(),F("div",zE,[O("div",HE,[O("div",UE,[O("div",{class:"slider-range",style:Vn(a.value)},null,4),kn(O("input",{class:"slider-input slider-input-start",type:"range",min:t.min,max:t.max,"onUpdate:modelValue":h[0]||(h[0]=m=>n.value=m),onInput:s},null,40,GE),[[Du,n.value,void 0,{number:!0}]]),kn(O("input",{class:"slider-input slider-input-end",type:"range",min:t.min,max:t.max,"onUpdate:modelValue":h[1]||(h[1]=m=>i.value=m),onInput:s},null,40,qE),[[Du,i.value,void 0,{number:!0}]])])])]))}},KE=yt(ZE,[["__scopeId","data-v-6011370a"]]),WE={class:"text-sm"},JE=["innerHTML"],YE={class:"md:max-h-[64vh] min-h-28 px-4 overflow-y-auto pb-4"},XE={key:0,class:"text-xl text-center my-8 w-full"},QE={key:1},eM={__name:"OtuModal",props:{sourceId:{type:Number,required:!0},label:{type:String,required:!0}},setup(e){const t=e,n=Me({page:1,total:0,per:50}),i=Me(!1),a=Me(!1),s=Me([]);function u(h=1){i.value=!0,Bt.get("/otus",{params:{page:h,per:50,"taxon_name_query[source_query][source_id][]":t.sourceId,paginate:!0}}).then(({data:m,headers:g})=>{s.value=m,n.value=s0(g)}).catch(()=>{}).finally(()=>{i.value=!1})}return on(a,h=>{h&&u()}),(h,m)=>{const g=Z("IconPlusCircle"),y=Z("VSpinner"),x=Z("ClientOnly"),T=Z("VPagination"),E=Z("VTableHeaderCell"),S=Z("VTableHeaderRow"),P=Z("VTableHeader"),U=Z("RouterLink"),X=Z("VTableBodyCell"),Q=Z("VTableBodyRow"),$=Z("VTableBody"),W=Z("VTable"),oe=Z("VModal");return C(),F(Oe,null,[I(g,{class:"size-6 text-secondary-color cursor-pointer",onClick:m[0]||(m[0]=()=>a.value=!0)}),(C(),ae(sv,{to:"body"},[a.value?(C(),ae(oe,{key:0,onClose:m[5]||(m[5]=()=>a.value=!1)},{header:V(()=>[O("div",WE,[m[6]||(m[6]=we("Bibliography - ",-1)),O("span",{innerHTML:e.label},null,8,JE)])]),default:V(()=>[O("div",YE,[I(x,null,{default:V(()=>[i.value?(C(),ae(y,{key:0})):fe("",!0)]),_:1}),!i.value&&!s.value.length?(C(),F("div",XE," No records found. ")):fe("",!0),s.value.length?(C(),F("div",QE,[n.value.total>n.value.per?(C(),ae(T,{key:0,class:"py-4",modelValue:n.value.page,"onUpdate:modelValue":[m[1]||(m[1]=Ce=>n.value.page=Ce),m[2]||(m[2]=Ce=>{u(Ce)})],total:n.value.total,per:n.value.per},null,8,["modelValue","total","per"])):fe("",!0),I(W,null,{default:V(()=>[I(P,null,{default:V(()=>[I(S,null,{default:V(()=>[I(E,null,{default:V(()=>[...m[7]||(m[7]=[we("OTU",-1)])]),_:1})]),_:1})]),_:1}),I($,null,{default:V(()=>[(C(!0),F(Oe,null,et(s.value,Ce=>(C(),ae(Q,{key:Ce.id},{default:V(()=>[I(X,null,{default:V(()=>[I(U,{to:{name:"otus-id",params:{id:Ce.id}},innerHTML:Ce.object_tag},null,8,["to","innerHTML"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n.value.total>n.value.per?(C(),ae(T,{key:1,class:"pt-4",modelValue:n.value.page,"onUpdate:modelValue":[m[3]||(m[3]=Ce=>n.value.page=Ce),m[4]||(m[4]=Ce=>{u(Ce)})],total:n.value.total,per:n.value.per},null,8,["modelValue","total","per"])):fe("",!0)])):fe("",!0)])]),_:1})):fe("",!0)]))],64)}}},tM={class:"container mx-auto box-border"},nM={class:"flex flex-col md:flex-row justify-center items-center gap-4 md:gap-2 text-sm"},rM={class:"flex flex-col w-full"},iM={class:"flex flex-col w-full md:w-96"},oM={class:"w-full md:w-auto"},sM={class:"flex flex-row gap-2"},aM={class:"flex flex-row gap-2 md:self-end"},lM={class:"flex flex-row justify-between items-center mb-4"},uM={class:"flex flex-col md:flex-row gap-3 md:items-center"},cM={class:"flex flex-col md:flex-row gap-3 md:items-center mt-4"},Yp=50,Od=1650,dM={__name:"index",setup(e){const t=new Date().getFullYear(),n=Ei(),i=So(),a=Me({}),s=Me([]),u=Me(!1),h=Me({page:1,total:0,per:Yp}),m=Me();async function g(S=1){u.value=!0,Bt.get("/sources",{params:{in_project:!0,page:S,per:h.value.per,...a.value}}).then(({data:P,headers:U,request:X})=>{h.value=s0(U),s.value=P,m.value={data:P,url:X.responseURL},E()}).finally(()=>{u.value=!1})}function y(S={}){a.value={year_start:Number(S.year_start||1650),year_end:Number(S.year_end||2025),author:S.author,query_term:S.query_term}}function x(S={}){h.value={page:Number(S.page)||1,total:0,per:Yp}}function T(){y(),x(),g()}function E(){i.push({query:{...a.value,page:h.value.page}})}return Oh(()=>{y(n.query),x(n.query),g(h.value.page)}),(S,P)=>{const U=Z("VSpinner"),X=Z("ClientOnly"),Q=Z("InputText"),$=Z("VButton"),W=Z("VCardContent"),oe=Z("VCard"),Ce=Z("VPagination"),be=Z("VPaginationInfo"),Fe=Z("VTableHeaderCell"),Ee=Z("VTableHeaderRow"),Pe=Z("VTableHeader"),ze=Z("VTableBodyCell"),Be=Z("VTableBodyRow"),rt=Z("VTableBody"),mt=Z("VTable");return C(),F("div",tM,[P[20]||(P[20]=O("h1",{class:"text-4xl px-4 md:px-0 mt-4 mb-6 font-bold"},"Bibliography",-1)),I(X,null,{default:V(()=>[u.value?(C(),ae(U,{key:0,"full-screen":""})):fe("",!0)]),_:1}),I(oe,{class:"mb-4"},{default:V(()=>[I(W,null,{default:V(()=>[O("div",nM,[O("div",rM,[P[14]||(P[14]=O("label",null,"In citation",-1)),I(Q,{class:"w-full",type:"text",placeholder:'Search anywhere in the citation... for example: "Charles Darwin Archives"',modelValue:a.value.query_term,"onUpdate:modelValue":P[0]||(P[0]=Ye=>a.value.query_term=Ye),onKeypress:P[1]||(P[1]=Ms(()=>g(),["enter"]))},null,8,["modelValue"])]),O("div",iM,[P[15]||(P[15]=O("label",null,"Author(s)",-1)),I(Q,{class:"w-full",type:"text",placeholder:"Type...",modelValue:a.value.author,"onUpdate:modelValue":P[2]||(P[2]=Ye=>a.value.author=Ye),onKeypress:P[3]||(P[3]=Ms(()=>g(),["enter"]))},null,8,["modelValue"])]),O("div",oM,[P[16]||(P[16]=O("span",null,"Published between:",-1)),O("div",sM,[I(Jp,{modelValue:a.value.year_start,"onUpdate:modelValue":P[4]||(P[4]=Ye=>a.value.year_start=Ye),min:Od,max:Re(t)},null,8,["modelValue","max"]),I(KE,{class:"w-full md:w-64",min:Od,max:Re(t),start:a.value.year_start,"onUpdate:start":P[5]||(P[5]=Ye=>a.value.year_start=Ye),end:a.value.year_end,"onUpdate:end":P[6]||(P[6]=Ye=>a.value.year_end=Ye)},null,8,["max","start","end"]),I(Jp,{modelValue:a.value.year_end,"onUpdate:modelValue":P[7]||(P[7]=Ye=>a.value.year_end=Ye),min:Od,max:Re(t)},null,8,["modelValue","max"])])]),O("div",aM,[I($,{class:"text-sm py-1.5 border border-primary-color",primary:"",onClick:P[8]||(P[8]=()=>g())},{default:V(()=>[...P[17]||(P[17]=[we("Search",-1)])]),_:1}),I($,{class:"text-sm py-1.5 border border-primary-color",primary:"",onClick:P[9]||(P[9]=()=>T())},{default:V(()=>[...P[18]||(P[18]=[we(" Reset ",-1)])]),_:1})])])]),_:1})]),_:1}),I(oe,null,{default:V(()=>[I(W,null,{default:V(()=>[O("div",lM,[O("div",uM,[I(Ce,{modelValue:h.value.page,"onUpdate:modelValue":[P[10]||(P[10]=Ye=>h.value.page=Ye),P[11]||(P[11]=Ye=>{g(Ye)})],total:h.value.total,per:h.value.per},null,8,["modelValue","total","per"]),I(be,{pagination:h.value},null,8,["pagination"])]),I($E,{request:m.value},null,8,["request"])]),I(mt,null,{default:V(()=>[I(Pe,null,{default:V(()=>[I(Ee,null,{default:V(()=>[I(Fe,{class:"w-2"}),I(Fe,null,{default:V(()=>[...P[19]||(P[19]=[we(" Sources ",-1)])]),_:1})]),_:1})]),_:1}),I(rt,null,{default:V(()=>[(C(!0),F(Oe,null,et(s.value,Ye=>(C(),ae(Be,{key:Ye.id},{default:V(()=>[I(ze,{class:"pr-1",title:"Show OTUs"},{default:V(()=>[I(eM,{"source-id":Ye.id,label:Ye.cached},null,8,["source-id","label"])]),_:2},1024),I(ze,{class:"break-all",innerHTML:Ye.cached},null,8,["innerHTML"])]),_:2},1024))),128))]),_:1})]),_:1}),O("div",cM,[I(Ce,{modelValue:h.value.page,"onUpdate:modelValue":[P[12]||(P[12]=Ye=>h.value.page=Ye),P[13]||(P[13]=Ye=>{g(Ye)})],total:h.value.total,per:h.value.per},null,8,["modelValue","total","per"]),I(be,{pagination:h.value},null,8,["pagination"])])]),_:1})]),_:1})])}}},hM=Object.freeze(Object.defineProperty({__proto__:null,default:dM},Symbol.toStringTag,{value:"Module"})),fM={},pM={class:"container mx-auto text-center relative top-1/4"};function mM(e,t){return C(),F("div",pM,[...t[0]||(t[0]=[O("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),O("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1)])])}const _M=yt(fM,[["render",mM]]),gM=Object.freeze(Object.defineProperty({__proto__:null,default:_M},Symbol.toStringTag,{value:"Module"})),yM={},vM={class:"container mx-auto text-center relative top-1/4"};function bM(e,t){return C(),F("div",vM,[...t[0]||(t[0]=[O("h1",{class:"text-7xl text-base-lighter"},"500",-1),O("p",null,"Internal Server Error.",-1),O("p",{class:"m-4 my-10 text-xl"},[we(" Uh oh, looks like something went wrong!"),O("br"),we(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1)])])}const xM=yt(yM,[["render",bM]]),wM=Object.freeze(Object.defineProperty({__proto__:null,default:xM},Symbol.toStringTag,{value:"Module"})),LM={},CM={class:"container mx-auto text-center relative top-1/4"};function kM(e,t){return C(),F("div",CM,[...t[0]||(t[0]=[O("h1",{class:"text-7xl text-base-lighter"},"404",-1),O("p",null,"Page not found.",-1),O("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1)])])}const EM=yt(LM,[["render",kM]]),MM=Object.freeze(Object.defineProperty({__proto__:null,default:EM},Symbol.toStringTag,{value:"Module"}));function a0(e,t){return function(){return e.apply(t,arguments)}}const{toString:TM}=Object.prototype,{getPrototypeOf:Yh}=Object,uc=(e=>t=>{const n=TM.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zr=e=>(e=e.toLowerCase(),t=>uc(t)===e),cc=e=>t=>typeof t===e,{isArray:Is}=Array,Qa=cc("undefined");function SM(e){return e!==null&&!Qa(e)&&e.constructor!==null&&!Qa(e.constructor)&&mr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const l0=zr("ArrayBuffer");function PM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&l0(e.buffer),t}const BM=cc("string"),mr=cc("function"),u0=cc("number"),dc=e=>e!==null&&typeof e=="object",AM=e=>e===!0||e===!1,gu=e=>{if(uc(e)!=="object")return!1;const t=Yh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},OM=zr("Date"),RM=zr("File"),DM=zr("Blob"),IM=zr("FileList"),jM=e=>dc(e)&&mr(e.pipe),FM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mr(e.append)&&((t=uc(e))==="formdata"||t==="object"&&mr(e.toString)&&e.toString()==="[object FormData]"))},NM=zr("URLSearchParams"),[VM,$M,zM,HM]=["ReadableStream","Request","Response","Headers"].map(zr),UM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),Is(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;let h;for(i=0;i<u;i++)h=s[i],t.call(null,e[h],h,e)}}function c0(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,a;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,d0=e=>!Qa(e)&&e!==vo;function hh(){const{caseless:e}=d0(this)&&this||{},t={},n=(i,a)=>{const s=e&&c0(t,a)||a;gu(t[s])&&gu(i)?t[s]=hh(t[s],i):gu(i)?t[s]=hh({},i):Is(i)?t[s]=i.slice():t[s]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&fl(arguments[i],n);return t}const GM=(e,t,n,{allOwnKeys:i}={})=>(fl(t,(a,s)=>{n&&mr(a)?e[s]=a0(a,n):e[s]=a},{allOwnKeys:i}),e),qM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ZM=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},KM=(e,t,n,i)=>{let a,s,u;const h={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)u=a[s],(!i||i(u,e,t))&&!h[u]&&(t[u]=e[u],h[u]=!0);e=n!==!1&&Yh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},WM=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},JM=e=>{if(!e)return null;if(Is(e))return e;let t=e.length;if(!u0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},YM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yh(Uint8Array)),XM=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},QM=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},eT=zr("HTMLFormElement"),tT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Xp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),nT=zr("RegExp"),h0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};fl(n,(a,s)=>{let u;(u=t(a,s,e))!==!1&&(i[s]=u||a)}),Object.defineProperties(e,i)},rT=e=>{h0(e,(t,n)=>{if(mr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(mr(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iT=(e,t)=>{const n={},i=a=>{a.forEach(s=>{n[s]=!0})};return Is(e)?i(e):i(String(e).split(t)),n},oT=()=>{},sT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function aT(e){return!!(e&&mr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const lT=e=>{const t=new Array(10),n=(i,a)=>{if(dc(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const s=Is(i)?[]:{};return fl(i,(u,h)=>{const m=n(u,a+1);!Qa(m)&&(s[h]=m)}),t[a]=void 0,s}}return i};return n(e,0)},uT=zr("AsyncFunction"),cT=e=>e&&(dc(e)||mr(e))&&mr(e.then)&&mr(e.catch),f0=((e,t)=>e?setImmediate:t?((n,i)=>(vo.addEventListener("message",({source:a,data:s})=>{a===vo&&s===n&&i.length&&i.shift()()},!1),a=>{i.push(a),vo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",mr(vo.postMessage)),dT=typeof queueMicrotask<"u"?queueMicrotask.bind(vo):typeof process<"u"&&process.nextTick||f0,ke={isArray:Is,isArrayBuffer:l0,isBuffer:SM,isFormData:FM,isArrayBufferView:PM,isString:BM,isNumber:u0,isBoolean:AM,isObject:dc,isPlainObject:gu,isReadableStream:VM,isRequest:$M,isResponse:zM,isHeaders:HM,isUndefined:Qa,isDate:OM,isFile:RM,isBlob:DM,isRegExp:nT,isFunction:mr,isStream:jM,isURLSearchParams:NM,isTypedArray:YM,isFileList:IM,forEach:fl,merge:hh,extend:GM,trim:UM,stripBOM:qM,inherits:ZM,toFlatObject:KM,kindOf:uc,kindOfTest:zr,endsWith:WM,toArray:JM,forEachEntry:XM,matchAll:QM,isHTMLForm:eT,hasOwnProperty:Xp,hasOwnProp:Xp,reduceDescriptors:h0,freezeMethods:rT,toObjectSet:iT,toCamelCase:tT,noop:oT,toFiniteNumber:sT,findKey:c0,global:vo,isContextDefined:d0,isSpecCompliantForm:aT,toJSONObject:lT,isAsyncFn:uT,isThenable:cT,setImmediate:f0,asap:dT};function Tt(e,t,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}ke.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}});const p0=Tt.prototype,m0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{m0[e]={value:e}});Object.defineProperties(Tt,m0);Object.defineProperty(p0,"isAxiosError",{value:!0});Tt.from=(e,t,n,i,a,s)=>{const u=Object.create(p0);return ke.toFlatObject(e,u,function(h){return h!==Error.prototype},h=>h!=="isAxiosError"),Tt.call(u,e.message,t,n,i,a),u.cause=e,u.name=e.name,s&&Object.assign(u,s),u};const hT=null;function fh(e){return ke.isPlainObject(e)||ke.isArray(e)}function _0(e){return ke.endsWith(e,"[]")?e.slice(0,-2):e}function Qp(e,t,n){return e?e.concat(t).map(function(i,a){return i=_0(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function fT(e){return ke.isArray(e)&&!e.some(fh)}const pT=ke.toFlatObject(ke,{},null,function(e){return/^is[A-Z]/.test(e)});function hc(e,t,n){if(!ke.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ke.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,S){return!ke.isUndefined(S[E])});const i=n.metaTokens,a=n.visitor||g,s=n.dots,u=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(t);if(!ke.isFunction(a))throw new TypeError("visitor must be a function");function m(E){if(E===null)return"";if(ke.isDate(E))return E.toISOString();if(!h&&ke.isBlob(E))throw new Tt("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(E)||ke.isTypedArray(E)?h&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function g(E,S,P){let U=E;if(E&&!P&&typeof E=="object"){if(ke.endsWith(S,"{}"))S=i?S:S.slice(0,-2),E=JSON.stringify(E);else if(ke.isArray(E)&&fT(E)||(ke.isFileList(E)||ke.endsWith(S,"[]"))&&(U=ke.toArray(E)))return S=_0(S),U.forEach(function(X,Q){!(ke.isUndefined(X)||X===null)&&t.append(u===!0?Qp([S],Q,s):u===null?S:S+"[]",m(X))}),!1}return fh(E)?!0:(t.append(Qp(P,S,s),m(E)),!1)}const y=[],x=Object.assign(pT,{defaultVisitor:g,convertValue:m,isVisitable:fh});function T(E,S){if(!ke.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));y.push(E),ke.forEach(E,function(P,U){(!(ke.isUndefined(P)||P===null)&&a.call(t,P,ke.isString(U)?U.trim():U,S,x))===!0&&T(P,S?S.concat(U):[U])}),y.pop()}}if(!ke.isObject(e))throw new TypeError("data must be an object");return T(e),t}function em(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xh(e,t){this._pairs=[],e&&hc(e,this,t)}const g0=Xh.prototype;g0.append=function(e,t){this._pairs.push([e,t])};g0.toString=function(e){const t=e?function(n){return e.call(this,n,em)}:em;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function mT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function y0(e,t,n){if(!t)return e;const i=n&&n.encode||mT;ke.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(a?s=a(t,n):s=ke.isURLSearchParams(t)?t.toString():new Xh(t,n).toString(i),s){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class tm{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ke.forEach(this.handlers,function(n){n!==null&&t(n)})}}const v0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_T=typeof URLSearchParams<"u"?URLSearchParams:Xh,gT=typeof FormData<"u"?FormData:null,yT=typeof Blob<"u"?Blob:null,vT={isBrowser:!0,classes:{URLSearchParams:_T,FormData:gT,Blob:yT},protocols:["http","https","file","blob","url","data"]},Qh=typeof window<"u"&&typeof document<"u",ph=typeof navigator=="object"&&navigator||void 0,bT=Qh&&(!ph||["ReactNative","NativeScript","NS"].indexOf(ph.product)<0),xT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wT=Qh&&window.location.href||"http://localhost",LT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qh,hasStandardBrowserEnv:bT,hasStandardBrowserWebWorkerEnv:xT,navigator:ph,origin:wT},Symbol.toStringTag,{value:"Module"})),Wn={...LT,...vT};function CT(e,t){return hc(e,new Wn.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,s){return Wn.isNode&&ke.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function kT(e){return ke.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ET(e){const t={},n=Object.keys(e);let i;const a=n.length;let s;for(i=0;i<a;i++)s=n[i],t[s]=e[s];return t}function b0(e){function t(n,i,a,s){let u=n[s++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),m=s>=n.length;return u=!u&&ke.isArray(a)?a.length:u,m?(ke.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!h):((!a[u]||!ke.isObject(a[u]))&&(a[u]=[]),t(n,i,a[u],s)&&ke.isArray(a[u])&&(a[u]=ET(a[u])),!h)}if(ke.isFormData(e)&&ke.isFunction(e.entries)){const n={};return ke.forEachEntry(e,(i,a)=>{t(kT(i),a,n,0)}),n}return null}function MT(e,t,n){if(ke.isString(e))try{return(t||JSON.parse)(e),ke.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const pl={transitional:v0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,a=ke.isObject(e);if(a&&ke.isHTMLForm(e)&&(e=new FormData(e)),ke.isFormData(e))return i?JSON.stringify(b0(e)):e;if(ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e)||ke.isReadableStream(e))return e;if(ke.isArrayBufferView(e))return e.buffer;if(ke.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return CT(e,this.formSerializer).toString();if((s=ke.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return hc(s?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),MT(e)):e}],transformResponse:[function(e){const t=this.transitional||pl.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ke.isResponse(e)||ke.isReadableStream(e))return e;if(e&&ke.isString(e)&&(n&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?Tt.from(s,Tt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wn.classes.FormData,Blob:Wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],e=>{pl.headers[e]={}});const TT=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ST=e=>{const t={};let n,i,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),i=s.substring(a+1).trim(),!(!n||t[n]&&TT[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},nm=Symbol("internals");function wa(e){return e&&String(e).trim().toLowerCase()}function yu(e){return e===!1||e==null?e:ke.isArray(e)?e.map(yu):String(e)}function PT(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const BT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rd(e,t,n,i,a){if(ke.isFunction(i))return i.call(this,t,n);if(a&&(t=n),!!ke.isString(t)){if(ke.isString(i))return t.indexOf(i)!==-1;if(ke.isRegExp(i))return i.test(t)}}function AT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function OT(e,t){const n=ke.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(a,s,u){return this[i].call(this,t,a,s,u)},configurable:!0})})}let cr=class{constructor(t){t&&this.set(t)}set(t,n,i){const a=this;function s(h,m,g){const y=wa(m);if(!y)throw new Error("header name must be a non-empty string");const x=ke.findKey(a,y);(!x||a[x]===void 0||g===!0||g===void 0&&a[x]!==!1)&&(a[x||m]=yu(h))}const u=(h,m)=>ke.forEach(h,(g,y)=>s(g,y,m));if(ke.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(ke.isString(t)&&(t=t.trim())&&!BT(t))u(ST(t),n);else if(ke.isHeaders(t))for(const[h,m]of t.entries())s(m,h,i);else t!=null&&s(n,t,i);return this}get(t,n){if(t=wa(t),t){const i=ke.findKey(this,t);if(i){const a=this[i];if(!n)return a;if(n===!0)return PT(a);if(ke.isFunction(n))return n.call(this,a,i);if(ke.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=wa(t),t){const i=ke.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Rd(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let a=!1;function s(u){if(u=wa(u),u){const h=ke.findKey(i,u);h&&(!n||Rd(i,i[h],h,n))&&(delete i[h],a=!0)}}return ke.isArray(t)?t.forEach(s):s(t),a}clear(t){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const s=n[i];(!t||Rd(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const n=this,i={};return ke.forEach(this,(a,s)=>{const u=ke.findKey(i,s);if(u){n[u]=yu(a),delete n[s];return}const h=t?AT(s):String(s).trim();h!==s&&delete n[s],n[h]=yu(a),i[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ke.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=t&&ke.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(a=>i.set(a)),i}static accessor(t){const n=(this[nm]=this[nm]={accessors:{}}).accessors,i=this.prototype;function a(s){const u=wa(s);n[u]||(OT(i,s),n[u]=!0)}return ke.isArray(t)?t.forEach(a):a(t),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ke.reduceDescriptors(cr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});ke.freezeMethods(cr);function Dd(e,t){const n=this||pl,i=t||n,a=cr.from(i.headers);let s=i.data;return ke.forEach(e,function(u){s=u.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function x0(e){return!!(e&&e.__CANCEL__)}function js(e,t,n){Tt.call(this,e??"canceled",Tt.ERR_CANCELED,t,n),this.name="CanceledError"}ke.inherits(js,Tt,{__CANCEL__:!0});function w0(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Tt("Request failed with status code "+n.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function DT(e,t){e=e||10;const n=new Array(e),i=new Array(e);let a=0,s=0,u;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),g=i[s];u||(u=m),n[a]=h,i[a]=m;let y=s,x=0;for(;y!==a;)x+=n[y++],y=y%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),m-u<t)return;const T=g&&m-g;return T?Math.round(x*1e3/T):void 0}}function IT(e,t){let n=0,i=1e3/t,a,s;const u=(h,m=Date.now())=>{n=m,a=null,s&&(clearTimeout(s),s=null),e.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-n;g>=i?u(h,m):(a=h,s||(s=setTimeout(()=>{s=null,u(a)},i-g)))},()=>a&&u(a)]}const Fu=(e,t,n=3)=>{let i=0;const a=DT(50,250);return IT(s=>{const u=s.loaded,h=s.lengthComputable?s.total:void 0,m=u-i,g=a(m),y=u<=h;i=u;const x={loaded:u,total:h,progress:h?u/h:void 0,bytes:m,rate:g||void 0,estimated:g&&h&&y?(h-u)/g:void 0,event:s,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(x)},n)},rm=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},im=e=>(...t)=>ke.asap(()=>e(...t)),jT=Wn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Wn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Wn.origin),Wn.navigator&&/(msie|trident)/i.test(Wn.navigator.userAgent)):()=>!0,FT=Wn.hasStandardBrowserEnv?{write(e,t,n,i,a,s){const u=[e+"="+encodeURIComponent(t)];ke.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ke.isString(i)&&u.push("path="+i),ke.isString(a)&&u.push("domain="+a),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function VT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function L0(e,t,n){let i=!NT(t);return e&&(i||n==!1)?VT(e,t):t}const om=e=>e instanceof cr?{...e}:e;function Mo(e,t){t=t||{};const n={};function i(g,y,x,T){return ke.isPlainObject(g)&&ke.isPlainObject(y)?ke.merge.call({caseless:T},g,y):ke.isPlainObject(y)?ke.merge({},y):ke.isArray(y)?y.slice():y}function a(g,y,x,T){if(ke.isUndefined(y)){if(!ke.isUndefined(g))return i(void 0,g,x,T)}else return i(g,y,x,T)}function s(g,y){if(!ke.isUndefined(y))return i(void 0,y)}function u(g,y){if(ke.isUndefined(y)){if(!ke.isUndefined(g))return i(void 0,g)}else return i(void 0,y)}function h(g,y,x){if(x in t)return i(g,y);if(x in e)return i(void 0,g)}const m={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(g,y,x)=>a(om(g),om(y),x,!0)};return ke.forEach(Object.keys(Object.assign({},e,t)),function(g){const y=m[g]||a,x=y(e[g],t[g],g);ke.isUndefined(x)&&y!==h||(n[g]=x)}),n}const C0=e=>{const t=Mo({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:u,auth:h}=t;t.headers=u=cr.from(u),t.url=y0(L0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let m;if(ke.isFormData(n)){if(Wn.hasStandardBrowserEnv||Wn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((m=u.getContentType())!==!1){const[g,...y]=m?m.split(";").map(x=>x.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",...y].join("; "))}}if(Wn.hasStandardBrowserEnv&&(i&&ke.isFunction(i)&&(i=i(t)),i||i!==!1&&jT(t.url))){const g=a&&s&&FT.read(s);g&&u.set(a,g)}return t},$T=typeof XMLHttpRequest<"u",zT=$T&&function(e){return new Promise(function(t,n){const i=C0(e);let a=i.data;const s=cr.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=i,g,y,x,T,E;function S(){T&&T(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function U(){if(!P)return;const Q=cr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),$={data:!u||u==="text"||u==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:Q,config:e,request:P};w0(function(W){t(W),S()},function(W){n(W),S()},$),P=null}"onloadend"in P?P.onloadend=U:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(U)},P.onabort=function(){P&&(n(new Tt("Request aborted",Tt.ECONNABORTED,e,P)),P=null)},P.onerror=function(){n(new Tt("Network Error",Tt.ERR_NETWORK,e,P)),P=null},P.ontimeout=function(){let Q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||v0;i.timeoutErrorMessage&&(Q=i.timeoutErrorMessage),n(new Tt(Q,$.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,e,P)),P=null},a===void 0&&s.setContentType(null),"setRequestHeader"in P&&ke.forEach(s.toJSON(),function(Q,$){P.setRequestHeader($,Q)}),ke.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),u&&u!=="json"&&(P.responseType=i.responseType),m&&([x,E]=Fu(m,!0),P.addEventListener("progress",x)),h&&P.upload&&([y,T]=Fu(h),P.upload.addEventListener("progress",y),P.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=Q=>{P&&(n(!Q||Q.type?new js(null,e,P):Q),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const X=RT(i.url);if(X&&Wn.protocols.indexOf(X)===-1){n(new Tt("Unsupported protocol "+X+":",Tt.ERR_BAD_REQUEST,e));return}P.send(a||null)})},HT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,a;const s=function(g){if(!a){a=!0,h();const y=g instanceof Error?g:this.reason;i.abort(y instanceof Tt?y:new js(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{u=null,s(new Tt(`timeout ${t} of ms exceeded`,Tt.ETIMEDOUT))},t);const h=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(s):g.removeEventListener("abort",s)}),e=null)};e.forEach(g=>g.addEventListener("abort",s));const{signal:m}=i;return m.unsubscribe=()=>ke.asap(h),m}},UT=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,a;for(;i<n;)a=i+t,yield e.slice(i,a),i=a},GT=async function*(e,t){for await(const n of qT(e))yield*UT(n,t)},qT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},sm=(e,t,n,i)=>{const a=GT(e,t);let s=0,u,h=m=>{u||(u=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:g,value:y}=await a.next();if(g){h(),m.close();return}let x=y.byteLength;if(n){let T=s+=x;n(T)}m.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}},cancel(m){return h(m),a.return()}},{highWaterMark:2})},fc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",k0=fc&&typeof ReadableStream=="function",ZT=fc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),E0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KT=k0&&E0(()=>{let e=!1;const t=new Request(Wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),am=64*1024,mh=k0&&E0(()=>ke.isReadableStream(new Response("").body)),Nu={stream:mh&&(e=>e.body)};fc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Nu[t]&&(Nu[t]=ke.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new Tt(`Response type '${t}' is not supported`,Tt.ERR_NOT_SUPPORT,i)})})})(new Response);const WT=async e=>{if(e==null)return 0;if(ke.isBlob(e))return e.size;if(ke.isSpecCompliantForm(e))return(await new Request(Wn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ke.isArrayBufferView(e)||ke.isArrayBuffer(e))return e.byteLength;if(ke.isURLSearchParams(e)&&(e=e+""),ke.isString(e))return(await ZT(e)).byteLength},JT=async(e,t)=>ke.toFiniteNumber(e.getContentLength())??WT(t),YT=fc&&(async e=>{let{url:t,method:n,data:i,signal:a,cancelToken:s,timeout:u,onDownloadProgress:h,onUploadProgress:m,responseType:g,headers:y,withCredentials:x="same-origin",fetchOptions:T}=C0(e);g=g?(g+"").toLowerCase():"text";let E=HT([a,s&&s.toAbortSignal()],u),S;const P=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let U;try{if(m&&KT&&n!=="get"&&n!=="head"&&(U=await JT(y,i))!==0){let oe=new Request(t,{method:"POST",body:i,duplex:"half"}),Ce;if(ke.isFormData(i)&&(Ce=oe.headers.get("content-type"))&&y.setContentType(Ce),oe.body){const[be,Fe]=rm(U,Fu(im(m)));i=sm(oe.body,am,be,Fe)}}ke.isString(x)||(x=x?"include":"omit");const X="credentials"in Request.prototype;S=new Request(t,{...T,signal:E,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:X?x:void 0});let Q=await fetch(S);const $=mh&&(g==="stream"||g==="response");if(mh&&(h||$&&P)){const oe={};["status","statusText","headers"].forEach(Ee=>{oe[Ee]=Q[Ee]});const Ce=ke.toFiniteNumber(Q.headers.get("content-length")),[be,Fe]=h&&rm(Ce,Fu(im(h),!0))||[];Q=new Response(sm(Q.body,am,be,()=>{Fe&&Fe(),P&&P()}),oe)}g=g||"text";let W=await Nu[ke.findKey(Nu,g)||"text"](Q,e);return!$&&P&&P(),await new Promise((oe,Ce)=>{w0(oe,Ce,{data:W,headers:cr.from(Q.headers),status:Q.status,statusText:Q.statusText,config:e,request:S})})}catch(X){throw P&&P(),X&&X.name==="TypeError"&&/fetch/i.test(X.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,e,S),{cause:X.cause||X}):Tt.from(X,X&&X.code,e,S)}}),_h={http:hT,xhr:zT,fetch:YT};ke.forEach(_h,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lm=e=>`- ${e}`,XT=e=>ke.isFunction(e)||e===null||e===!1,M0={getAdapter:e=>{e=ke.isArray(e)?e:[e];const{length:t}=e;let n,i;const a={};for(let s=0;s<t;s++){n=e[s];let u;if(i=n,!XT(n)&&(i=_h[(u=String(n)).toLowerCase()],i===void 0))throw new Tt(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+s]=i}if(!i){const s=Object.entries(a).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=t?s.length>1?`since :
`+s.map(lm).join(`
`):" "+lm(s[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:_h};function Id(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new js(null,e)}function um(e){return Id(e),e.headers=cr.from(e.headers),e.data=Dd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),M0.getAdapter(e.adapter||pl.adapter)(e).then(function(t){return Id(e),t.data=Dd.call(e,e.transformResponse,t),t.headers=cr.from(t.headers),t},function(t){return x0(t)||(Id(e),t&&t.response&&(t.response.data=Dd.call(e,e.transformResponse,t.response),t.response.headers=cr.from(t.response.headers))),Promise.reject(t)})}const T0="1.8.4",pc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const cm={};pc.transitional=function(e,t,n){function i(a,s){return"[Axios v"+T0+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,u)=>{if(e===!1)throw new Tt(i(s," has been removed"+(t?" in "+t:"")),Tt.ERR_DEPRECATED);return t&&!cm[s]&&(cm[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,s,u):!0}};pc.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function QT(e,t,n){if(typeof e!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const s=i[a],u=t[s];if(u){const h=e[s],m=h===void 0||u(h,s,e);if(m!==!0)throw new Tt("option "+s+" must be "+m,Tt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Tt("Unknown option "+s,Tt.ERR_BAD_OPTION)}}const vu={assertOptions:QT,validators:pc},Yr=vu.validators;let ko=class{constructor(t){this.defaults=t,this.interceptors={request:new tm,response:new tm}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Mo(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:s}=n;i!==void 0&&vu.assertOptions(i,{silentJSONParsing:Yr.transitional(Yr.boolean),forcedJSONParsing:Yr.transitional(Yr.boolean),clarifyTimeoutError:Yr.transitional(Yr.boolean)},!1),a!=null&&(ke.isFunction(a)?n.paramsSerializer={serialize:a}:vu.assertOptions(a,{encode:Yr.function,serialize:Yr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),vu.assertOptions(n,{baseUrl:Yr.spelling("baseURL"),withXsrfToken:Yr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=s&&ke.merge(s.common,s[n.method]);s&&ke.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),n.headers=cr.concat(u,s);const h=[];let m=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(m=m&&S.synchronous,h.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let y,x=0,T;if(!m){const S=[um.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,g),T=S.length,y=Promise.resolve(n);x<T;)y=y.then(S[x++],S[x++]);return y}T=h.length;let E=n;for(x=0;x<T;){const S=h[x++],P=h[x++];try{E=S(E)}catch(U){P.call(this,U);break}}try{y=um.call(this,E)}catch(S){return Promise.reject(S)}for(x=0,T=g.length;x<T;)y=y.then(g[x++],g[x++]);return y}getUri(t){t=Mo(this.defaults,t);const n=L0(t.baseURL,t.url,t.allowAbsoluteUrls);return y0(n,t.params,t.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(e){ko.prototype[e]=function(t,n){return this.request(Mo(n||{},{method:e,url:t,data:(n||{}).data}))}});ke.forEach(["post","put","patch"],function(e){function t(n){return function(i,a,s){return this.request(Mo(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ko.prototype[e]=t(),ko.prototype[e+"Form"]=t(!0)});let eS=class S0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(a=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](a);i._listeners=null}),this.promise.then=a=>{let s;const u=new Promise(h=>{i.subscribe(h),s=h}).then(a);return u.cancel=function(){i.unsubscribe(s)},u},t(function(a,s,u){i.reason||(i.reason=new js(a,s,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new S0(function(n){t=n}),cancel:t}}};function tS(e){return function(t){return e.apply(null,t)}}function nS(e){return ke.isObject(e)&&e.isAxiosError===!0}const gh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gh).forEach(([e,t])=>{gh[t]=e});function P0(e){const t=new ko(e),n=a0(ko.prototype.request,t);return ke.extend(n,ko.prototype,t,{allOwnKeys:!0}),ke.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return P0(Mo(e,i))},n}const gn=P0(pl);gn.Axios=ko;gn.CanceledError=js;gn.CancelToken=eS;gn.isCancel=x0;gn.VERSION=T0;gn.toFormData=hc;gn.AxiosError=Tt;gn.Cancel=gn.CanceledError;gn.all=function(e){return Promise.all(e)};gn.spread=tS;gn.isAxiosError=nS;gn.mergeConfig=Mo;gn.AxiosHeaders=cr;gn.formToJSON=e=>b0(ke.isHTMLForm(e)?new FormData(e):e);gn.getAdapter=M0.getAdapter;gn.HttpStatusCode=gh;gn.default=gn;const{Axios:P6,AxiosError:B6,CanceledError:A6,isCancel:O6,CancelToken:R6,VERSION:D6,all:I6,Cancel:j6,isAxiosError:F6,spread:N6,toFormData:V6,AxiosHeaders:$6,HttpStatusCode:z6,formToJSON:H6,getAdapter:U6,mergeConfig:G6}=gn,B0=(e={})=>{const t=Ao(),{baseURL:n,projectId:i,projectToken:a,userToken:s,csrfToken:u}=t.getAPIConfig,h={baseURL:n,params:{project_id:i,project_token:a,token:s},...e};return(!a||!(i&&s)&&u)&&Object.assign(h,{headers:{"X-CSRF-Token":u}}),gn.create({...h})};class rS{static key(t,n){return B0().get(`/observation_matrices/${t}/key`,n)}}const $a={Used:"used",Useful:"useful",Useless:"useless"},iS=e=>({characterStateId:e.id,depictionIds:e.depiction_ids,label:e.label,position:e.position,...A0(e)}),oS=e=>({depictionId:e.id,caption:e.caption,figureLabel:e.figure_label,imageUrl:e.image.medium}),ka={Qualitative:"Descriptor::Qualitative",Continuous:"Descriptor::Continuous",Sample:"Descriptor::Sample",PresenceAbsence:"Descriptor::PresenceAbsence"},ml=e=>({descriptorId:e.id,name:e.name,description:e.description,position:e.position,status:e.status,type:e.type,depictionIds:e.depiction_ids,usefulness:e.usefulness,weight:e.weight}),sS=e=>({...ml(e),defaultUnit:e.default_unit,max:e.max,min:e.min}),aS=e=>({...ml(e),defaultUnit:e.default_unit,max:e.max,min:e.min}),lS=e=>({...ml(e),states:e.states.map(t=>A0(t))}),uS=e=>({...ml(e),characterStates:e.states.map(t=>iS(t))}),cS=e=>{switch(e.type){case ka.Continuous:return sS(e);case ka.Sample:return aS(e);case ka.PresenceAbsence:return lS(e);case ka.Qualitative:return uS(e);default:return ml(e)}},dS=e=>({observationMatrixId:e.observation_matrix_id,name:e.observation_matrix.name,globalId:e.observation_matrix.global_id}),A0=e=>({name:e.name,numberOfObjects:e.number_of_objects,status:e.status}),dm=e=>({errorDescriptors:e.error_descriptors,errors:e.errors,objectLabel:e.object.object_label,objectTag:e.object.object_tag,observationObjectId:e.object.observation_object_id,observationObjectType:e.object.observation_object_type,rowId:e.object.id}),hS=e=>({keywordId:e.id,definition:e.description,name:e.name}),fS=e=>({languageId:e.id,name:e.english_name}),Mi=Ji("observationMatrix",{state:()=>({observationMatrix:void 0,citation:void 0,descriptors:[],eliminated:[],remaining:[],availableKeywords:[],availableLanguages:[]}),getters:{getCitation:e=>e.citation,getObservationMatrix:e=>e.observationMatrix,getDescriptors:e=>e.descriptors,getDescriptorById:e=>t=>e.descriptors.find(n=>n.descriptorId===t),getDescriptorsUsed:e=>e.descriptors.filter(t=>t.status===$a.Used),getDescriptorsUseless:e=>e.descriptors.filter(t=>t.status===$a.Useless),getDescriptorsUseful:e=>e.descriptors.filter(t=>t.status===$a.Useful),getEliminated:e=>e.eliminated,getKeywords:e=>e.availableKeywords,getLanguages:e=>e.availableLanguages,getRemaining:e=>e.remaining},actions:{setDescriptors(e){this.descriptors=e},setEliminated(e){this.eliminated=e},setRemaining(e){this.remaining=e},setLanguages(e){this.availableLanguages=e},setKeywords(e){this.availableKeywords=e},setObservationMatrix(e){this.observationMatrix=e},async requestInteractiveKey({observationMatrixId:e,params:t={},opt:n={}}){const i=await rS.key(e,{params:t}),{data:a}=i;return n.refreshOnlyTaxa||(this.setObservationMatrix(dS(a)),this.setDescriptors(a.list_of_descriptors.map(s=>cS(s))),this.setKeywords(a.descriptor_available_keywords.map(s=>hS(s))),this.setLanguages(a.descriptor_available_languages.map(s=>fS(s)))),this.setEliminated(a.eliminated.map(s=>dm(s))),this.setRemaining(a.remaining.map(s=>dm(s))),i}}}),$n=Ji("filter",{state:()=>({descriptors:{},eliminateUnknown:void 0,rowFilter:!0,errorTolerance:void 0,identifiedToRank:void 0,keywordIds:[],languageId:void 0,rowIds:[],sorting:void 0}),getters:{getKeywordIds:e=>e.keywordIds,getLanguageId:e=>e.languageId,getRowIds:e=>e.rowIds,getRowFilter:e=>e.rowFilter,getDescriptors:e=>e.descriptors,getIdentifiedToRank:e=>e.identifiedToRank,getEliminateUknown:e=>e.eliminateUnknown,getErrorTolerance:e=>e.errorTolerance,getSorting:e=>e.sorting,getDescriptorValueById:e=>t=>{const n=e.descriptors[t];return typeof n=="boolean"?n:n||""},getFilterParams:e=>({selected_descriptors:Object.entries(e.descriptors).map(([t,n])=>Array.isArray(n)?`${t}:${n.join("|")}`:`${t}:${n}`).join("||"),language_id:e.languageId,keyword_ids:e.keywordIds,sorting:e.sorting,identified_to_rank:e.identifiedToRank,error_tolerance:e.errorTolerance,eliminate_unknown:e.eliminateUnknown,row_filter:e.rowFilter?e.rowIds.join("|"):[]})},actions:{setDescriptor({descriptorId:e,value:t}){this.descriptors[e]=t},removeDescriptor(e){delete this.descriptors[e]},removeKeywordId(e){const t=this.keywordIds.findIndex(n=>n===e);t>-1&&this.keywordIds.splice(t,1)},addKeywordId(e){this.keywordIds.push(e)},setLanguageId(e){this.languageId=e},setErrorTolerance(e){this.errorTolerance=e},setEliminateUnknown(e){this.eliminateUnknown=e}}}),Ao=Ji("settings",{state:()=>({gridLayout:"distinguish-layout-mode-1",isLoading:!1,isRefreshing:!1,refreshOnlyTaxa:!1,shouldUpdate:!0,observationMatrixId:void 0,errorMessage:"",apiConfig:{baseURL:"",projectId:void 0,projectToken:void 0,userToken:void 0}}),getters:{getErrorMessage:e=>e.errorMessage,getIsLoading:e=>e.isLoading,getLayout:e=>e.gridLayout,getRefreshOnlyTaxa:e=>e.refreshOnlyTaxa,getShouldUpdate:e=>e.shouldUpdate,getObservationMatrixId:e=>e.observationMatrixId,getAPIConfig:e=>e.apiConfig},actions:{setObservationMatrixId(e){this.observationMatrixId=e},setShouldUpdate(e){this.shouldUpdate=e},setRefreshOnlyTaxa(e){this.refreshOnlyTaxa=e},setAPIConfig(e){this.apiConfig=e},checkUpdate(){const e=$n(),t=Mi(),n=this.observationMatrixId;this.shouldUpdate&&n&&(this.isLoading=!0,t.requestInteractiveKey({observationMatrixId:n,params:e.getFilterParams,opt:{refreshOnlyTaxa:this.refreshOnlyTaxa}}).then(i=>this.errorMessage="").catch(i=>this.errorMessage=i.message).finally(()=>this.isLoading=!1))}}}),pS=Et({__name:"FilterEliminateUnknowns",setup(e){const t=$n(),n=He({get:()=>!!t.getEliminateUknown,set:i=>{t.setEliminateUnknown(i)}});return(i,a)=>(C(),F("label",null,[kn(O("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),type:"checkbox"},null,512),[[Os,n.value]]),a[1]||(a[1]=we(" Eliminate unknowns "))]))}}),mS=["value"],_S=Et({__name:"FilterErrorTolerance",setup(e){const t=[0,1,2],n=$n(),i=He({get:()=>n.getErrorTolerance,set:a=>{n.setErrorTolerance(a)}});return(a,s)=>(C(),F("div",null,[s[2]||(s[2]=O("label",{for:"languages",class:"distinguish-input-label"}," Error tolerance ",-1)),kn(O("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>i.value=u),name:"languages",role:"listbox"},[s[1]||(s[1]=O("option",{value:""},null,-1)),(C(),F(Oe,null,et(t,u=>O("option",{key:u,value:u},_e(u),9,mS)),64))],512),[[ll,i.value]])]))}}),gS=["otu","subspecies","species","subgenus","genus","subtribe","tribe","subfamily","family"],yS=Et({__name:"FilterRank",setup(e){const t=$n(),n=He({get(){return t.getIdentifiedToRank},set(i){t.$patch({identifiedToRank:i})}});return(i,a)=>(C(),F("div",null,[a[2]||(a[2]=O("label",{class:"distinguish-input-label"},"Identified to rank",-1)),kn(O("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s)},[a[1]||(a[1]=O("option",{value:void 0},null,-1)),(C(!0),F(Oe,null,et(Re(gS),s=>(C(),F("option",{key:s},_e(s),1))),128))],512),[[ll,n.value]])]))}}),vS=Et({__name:"FilterSort",setup(e){const t=["ordered","weighted","optimized"],n=$n(),i=He({get(){return n.getSorting},set(a){n.$patch({sorting:a})}});return(a,s)=>(C(),F("div",null,[s[2]||(s[2]=O("label",{class:"distinguish-input-label"},"Descriptor sorting",-1)),kn(O("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>i.value=u)},[s[1]||(s[1]=O("option",{value:void 0},null,-1)),(C(),F(Oe,null,et(t,u=>O("option",{key:u},_e(u),1)),64))],512),[[ll,i.value]])]))}}),bS=["value"],xS=Et({__name:"FilterLanguage",setup(e){const t=$n(),n=Mi(),i=He({get:()=>t.getLanguageId,set:a=>{t.setLanguageId(Number(a))}});return(a,s)=>(C(),F("div",null,[s[1]||(s[1]=O("label",{for:"languages",class:"distinguish-input-label"}," Languages ",-1)),kn(O("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>i.value=u),name:"languages",role:"listbox"},[(C(!0),F(Oe,null,et(Re(n).getLanguages,({languageId:u,name:h})=>(C(),F("option",{key:u,value:u},_e(h),9,bS))),128))],512),[[ll,i.value]])]))}}),wS=["disabled"],Ls=Et({__name:"VBtn",props:{color:{default:"primary"},size:{default:"medium"},disabled:{type:Boolean}},setup(e){const t=e,n=He(()=>[`distinguish-btn-${t.color}-color`,`distinguish-btn-${t.size}-size`]);return(i,a)=>(C(),F("button",{type:"button",class:Xt(["distinguish-btn",n.value]),disabled:i.disabled},[pt(i.$slots,"default")],10,wS))}}),LS={class:"distinguish-modal-wrapper"},CS={class:"distinguish-modal-header"},kS={class:"distinguish-modal-body"},ES={class:"distinguish-modal-footer"},ef=Et({__name:"VModal",props:{containerClass:{},containerStyle:{}},emits:["close"],setup(e,{emit:t}){const n=t,i=a=>{a.preventDefault(),a.key==="Escape"&&n("close")};return an(()=>document.addEventListener("keydown",i)),ni(()=>document.removeEventListener("keydown",i)),(a,s)=>(C(),ae(Ju,{name:"distinguish-modal"},{default:V(()=>[O("div",{class:"distinguish-modal-mask",onClick:s[2]||(s[2]=u=>n("close")),onKey:s[3]||(s[3]=u=>n("close"))},[O("div",LS,[O("div",{class:Xt(["distinguish-modal-container",a.containerClass]),style:Vn({...a.containerStyle}),onClick:s[1]||(s[1]=Ki(()=>{},["stop"]))},[O("div",CS,[O("div",{class:"distinguish-modal-close",onClick:s[0]||(s[0]=u=>n("close"))}),pt(a.$slots,"header")]),O("div",kS,[pt(a.$slots,"body")]),O("div",ES,[pt(a.$slots,"footer")])],6)])],32)]),_:3}))}}),MS={class:"distinguish-list-checkboxes"},TS=["value"],SS=Et({__name:"FilterKeywords",setup(e){const t=Mi(),n=$n(),i=Me(!1),a=He({get:()=>n.getKeywordIds,set:s=>{n.$patch({keywordIds:s})}});return(s,u)=>(C(),F(Oe,null,[I(Ls,{color:"primary",size:"medium",disabled:!Re(t).getKeywords.length,title:Re(t).getKeywords.length?"":"No tags defined.",onClick:u[0]||(u[0]=h=>i.value=!0)},{default:V(()=>u[3]||(u[3]=[we(" Keyword ")])),_:1},8,["disabled","title"]),i.value?(C(),ae(ef,{key:0,onClose:u[2]||(u[2]=h=>i.value=!1)},{header:V(()=>u[4]||(u[4]=[O("h3",null,"Keywords",-1)])),body:V(()=>[O("ul",MS,[(C(!0),F(Oe,null,et(Re(t).getKeywords,({keywordId:h,name:m})=>(C(),F("li",{key:h},[O("label",null,[kn(O("input",{"onUpdate:modelValue":u[1]||(u[1]=g=>a.value=g),value:h,type:"checkbox"},null,8,TS),[[Os,a.value]]),we(" "+_e(m),1)])]))),128))])]),_:1})):fe("",!0)],64))}}),PS=Et({__name:"SettingRefresh",setup(e){const t=Ao(),n=He({get:()=>t.getRefreshOnlyTaxa,set:i=>{t.setRefreshOnlyTaxa(i)}});return(i,a)=>(C(),F("label",null,[kn(O("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),type:"checkbox"},null,512),[[Os,n.value]]),a[1]||(a[1]=we(" Refresh only taxa "))]))}}),mc=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n},BS={},AS={class:"distinguish-menu-list"};function OS(e,t){return C(),F("ul",AS,[pt(e.$slots,"default")])}const RS=mc(BS,[["render",OS]]),DS={},IS={class:"distinguish-list-item"};function jS(e,t){return C(),F("li",IS,[pt(e.$slots,"default")])}const mo=mc(DS,[["render",jS]]),hm={"distinguish-layout-mode-1":"distinguish-layout-mode-2","distinguish-layout-mode-2":"distinguish-layout-mode-1"},FS={},NS={class:"distinguish-grid"};function VS(e,t){return C(),F("div",NS,[pt(e.$slots,"default")])}const O0=mc(FS,[["render",VS]]),$S=Et({__name:"GridToggle",setup(e){const t=Ao(),n=He(()=>t.getLayout),i=()=>{t.$patch({gridLayout:hm[n.value]})};return(a,s)=>(C(),ae(Ls,{class:Xt(Re(hm)[n.value]),onClick:i},{default:V(()=>[I(O0,{class:"distinguish-grid-icon"},{default:V(()=>s[0]||(s[0]=[O("div",{class:"distinguish-panel-descriptors"},null,-1),O("div",{class:"distinguish-panel-remaining"},null,-1),O("div",{class:"distinguish-panel-eliminated"},null,-1)])),_:1})]),_:1},8,["class"]))}}),zS=Et({__name:"ResetButton",setup(e){const t=$n();return(n,i)=>(C(),ae(Ls,{color:"primary",size:"medium",onClick:i[0]||(i[0]=a=>Re(t).$reset())},{default:V(()=>i[1]||(i[1]=[we(" Reset ")])),_:1}))}}),HS={class:"distinguish-header-error-message"},US=Et({__name:"ErrorMessage",setup(e){const t=Ao();return(n,i)=>(C(),F("span",HS,_e(Re(t).getErrorMessage),1))}}),GS={class:"distinguish-header-bar"},qS={class:"distinguish-header-bar__buttons"},ZS=Et({__name:"HeaderBar",setup(e){return(t,n)=>(C(),F("div",GS,[I(US),I(RS,null,{default:V(()=>[I(mo,null,{default:V(()=>[I(PS)]),_:1}),I(mo,null,{default:V(()=>[I(pS)]),_:1}),I(mo,null,{default:V(()=>[I(_S)]),_:1}),I(mo,null,{default:V(()=>[I(yS)]),_:1}),I(mo,null,{default:V(()=>[I(xS)]),_:1}),I(mo,null,{default:V(()=>[I(vS)]),_:1}),I(mo,null,{default:V(()=>[I(SS)]),_:1})]),_:1}),O("div",qS,[I(zS),I($S)])]))}}),KS={},WS={class:"distinguish-panel"};function JS(e,t){return C(),F("div",WS,[pt(e.$slots,"default")])}const tf=mc(KS,[["render",JS]]),YS=["innerHTML"],XS=Et({__name:"PanelEliminated",props:{render:{type:Function}},setup(e){const t=Mi(),n=He(()=>t.getEliminated);return(i,a)=>(C(),ae(tf,{class:"distinguish-panel-eliminated"},{default:V(()=>[O("h2",null,"Eliminated ("+_e(n.value.length)+")",1),O("ul",null,[(C(!0),F(Oe,null,et(n.value,s=>(C(),F("li",{key:s.rowId,class:"distinguish-row-item"},[pt(i.$slots,"default",{item:s},()=>[O("span",{innerHTML:i.render?i.render(s):s.objectTag},null,8,YS)])]))),128))])]),_:3}))}}),QS={class:"distinguish-row-filter-buttons"},eP={class:"distinguish-list-checkboxes"},tP=["value"],nP=Et({__name:"FilterRow",setup(e){const t=Mi(),n=Ao(),i=$n(),a=Me(!1),s=Me([]),u=He(()=>{const m=i.getRowIds,g=s.value;return m.length!==g.length||!m.every(y=>g.includes(y))}),h=He({get:()=>i.getRowIds,set:m=>{i.$patch({rowIds:m})}});return on(a,m=>{n.setShouldUpdate(!m),!m&&u.value&&(i.rowFilter=!0,n.checkUpdate()),s.value=i.getRowIds}),(m,g)=>(C(),F(Oe,null,[I(Ls,{color:"primary",size:"medium",onClick:g[0]||(g[0]=y=>a.value=!0)},{default:V(()=>g[5]||(g[5]=[we(" Select ")])),_:1}),a.value?(C(),ae(ef,{key:0,onClose:g[4]||(g[4]=y=>a.value=!1)},{header:V(()=>g[6]||(g[6]=[O("h3",null,"Filter row",-1)])),body:V(()=>[O("div",null,[O("div",QS,[Re(t).getRemaining.length!==h.value.length||h.value.length==0?(C(),ae(Ls,{key:0,color:"primary",size:"medium",onClick:g[1]||(g[1]=()=>h.value=Re(t).getRemaining.map(y=>y.rowId))},{default:V(()=>g[7]||(g[7]=[we(" Select all ")])),_:1})):(C(),ae(Ls,{key:1,color:"primary",size:"medium",onClick:g[2]||(g[2]=()=>h.value=[])},{default:V(()=>g[8]||(g[8]=[we(" Unselect all ")])),_:1}))]),O("ul",eP,[(C(!0),F(Oe,null,et(Re(t).getRemaining,y=>(C(),F("li",{key:y.rowId},[O("label",null,[kn(O("input",{"onUpdate:modelValue":g[3]||(g[3]=x=>h.value=x),value:y.rowId,type:"checkbox"},null,8,tP),[[Os,h.value]]),we(" "+_e(y.objectLabel),1)])]))),128))])])]),_:1})):fe("",!0)],64))}}),rP={class:"distinguish-title-section"},iP=["innerHTML"],oP=Et({__name:"PanelRemaining",props:{render:{type:Function}},setup(e){const t=Mi(),n=He(()=>t.getRemaining);return(i,a)=>(C(),ae(tf,{class:"distinguish-panel-remaining"},{default:V(()=>[O("div",rP,[O("h2",null,"Remaining ("+_e(n.value.length)+")",1),I(nP)]),O("ul",null,[(C(!0),F(Oe,null,et(n.value,s=>(C(),F("li",{key:s.rowId,class:"distinguish-row-item"},[pt(i.$slots,"default",{item:s},()=>[O("span",{innerHTML:i.render?i.render(s):s.objectTag},null,8,iP)])]))),128))])]),_:3}))}});class sP{static find(t){return B0().get(`/depictions/${t}.json`,{params:{extend:["image"]}})}}const aP={key:0,class:"distinguish-depiction-box"},lP=["src"],R0=Et({__name:"VDepiction",props:{depictionId:{}},setup(e){const t=e,n=Me();return sP.find(t.depictionId).then(({data:i})=>{n.value=oS(i)}),(i,a)=>n.value?(C(),F("div",aP,[O("img",{src:n.value.imageUrl},null,8,lP)])):fe("",!0)}}),uP={class:"distinguish-character-descriptor__cell"},cP=["value"],dP=Et({__name:"CharacterStateCell",props:{characterState:{},descriptorId:{}},setup(e){const t=e,n=$n(),i=He({get:()=>n.getDescriptorValueById(t.descriptorId)||[],set:a=>{a.length?n.setDescriptor({descriptorId:t.descriptorId,value:a}):n.removeDescriptor(t.descriptorId)}});return(a,s)=>(C(),F("div",uP,[O("label",null,[(C(!0),F(Oe,null,et(a.characterState.depictionIds,u=>(C(),ae(R0,{key:u,"depiction-id":u},null,8,["depiction-id"]))),128)),kn(O("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>i.value=u),value:a.characterState.characterStateId,type:"checkbox"},null,8,cP),[[Os,i.value]]),we(" "+_e(a.characterState.name),1)])]))}}),hP={class:"distinguish-character-states-grid"},fP=Et({__name:"CharacterStateGrid",props:{descriptor:{}},setup(e){const t=e,n=$n(),i=Ao(),a=Me(),s=He(()=>{const u=n.getDescriptorValueById(t.descriptor.descriptorId)||[],h=a.value||[];return u.length!==h.length||!u.every(m=>h.includes(m))});return an(()=>{i.setShouldUpdate(!1),a.value=n.getDescriptorValueById(t.descriptor.descriptorId)}),ni(()=>{i.setShouldUpdate(!0),s.value&&i.checkUpdate()}),(u,h)=>(C(),F("div",hP,[(C(!0),F(Oe,null,et(u.descriptor.characterStates,m=>(C(),ae(dP,{key:m.characterStateId,"descriptor-id":u.descriptor.descriptorId,"character-state":m},null,8,["descriptor-id","character-state"]))),128))]))}}),pP={key:0},mP={key:1},_P={class:"descriptor-modal__depiction"},gP=Et({__name:"DescriptorModal",props:{descriptor:{}},setup(e){return(t,n)=>(C(),ae(ef,{"container-class":"distinguish-descriptor-modal"},{header:V(()=>[O("h3",null,_e(t.descriptor.name),1),t.descriptor.description?(C(),F("span",pP,_e(t.descriptor.description),1)):(C(),F("i",mP," No further description available. "))]),body:V(()=>[O("div",_P,[(C(!0),F(Oe,null,et(t.descriptor.depictionIds,i=>(C(),ae(R0,{key:i,"depiction-id":i},null,8,["depiction-id"]))),128))]),n[0]||(n[0]=O("hr",null,null,-1)),t.descriptor.type===Re(ka).Qualitative?(C(),ae(fP,{key:0,descriptor:t.descriptor},null,8,["descriptor"])):fe("",!0)]),_:1}))}}),yP=["id"],vP={class:"distinguish-input-label"},_c=Et({__name:"DescriptorContainer",props:{descriptor:{}},setup(e){const t=Me(!1);return(n,i)=>(C(),F("div",{id:`descriptor-${n.descriptor.descriptorId}`,class:"distinguish-descriptor-container"},[O("div",vP,[O("span",{class:"distinguish-link",onClick:i[0]||(i[0]=a=>t.value=!0)},[pt(n.$slots,"title",{},()=>[we(_e(n.descriptor.name),1)])])]),pt(n.$slots,"default"),t.value?(C(),ae(gP,{key:0,descriptor:n.descriptor,onClose:i[1]||(i[1]=a=>t.value=!1)},null,8,["descriptor"])):fe("",!0)],8,yP))}}),bP=Et({__name:"DescriptorContinuous",props:{descriptor:{}},setup(e){const t=e,n=$n(),i=Me(String(n.getDescriptorValueById(t.descriptor.descriptorId))),a=()=>{const{descriptorId:s}=t.descriptor,u=i.value.trim();u?n.setDescriptor({descriptorId:s,value:u}):n.removeDescriptor(s)};return(s,u)=>(C(),ae(_c,{class:"distinguish-descriptor-continuous",descriptor:s.descriptor},{title:V(()=>[we(_e(s.descriptor.name)+" ("+_e(s.descriptor.min)+"-"+_e(s.descriptor.max)+" "+_e(s.descriptor.defaultUnit)+") ",1)]),default:V(()=>[kn(O("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>i.value=h),type:"text",onBlur:a,onKeyup:Ms(a,["enter"])},null,544),[[Du,i.value]])]),_:1},8,["descriptor"]))}}),xP=["value"],wP={key:0},LP=Et({__name:"DescriptorPresenceAbsence",props:{descriptor:{}},setup(e){const t={Presence:!0,Absent:!1},n=e,i=$n(),a=He({get:()=>i.getDescriptorValueById(n.descriptor.descriptorId),set:u=>{const{descriptorId:h}=n.descriptor;typeof u=="boolean"?i.setDescriptor({descriptorId:h,value:!!u}):i.removeDescriptor(h)}}),s=u=>{var h;const{states:m}=n.descriptor;return((h=m.find(g=>g.name===String(u)))==null?void 0:h.numberOfObjects)||0};return(u,h)=>(C(),ae(_c,{class:"distinguish-descriptor-presence-absence",descriptor:u.descriptor},{default:V(()=>[kn(O("select",{"onUpdate:modelValue":h[0]||(h[0]=m=>a.value=m)},[h[1]||(h[1]=O("option",null,null,-1)),(C(),F(Oe,null,et(t,(m,g)=>O("option",{key:g,value:m},[u.descriptor.status===Re($a).Useless?(C(),F("span",wP,"-")):fe("",!0),we(" "+_e(g)+" ("+_e(s(m))+") ",1)],8,xP)),64))],512),[[ll,a.value]])]),_:1},8,["descriptor"]))}}),CP=["value","selected"],kP={key:0},EP={key:1},MP=Et({__name:"DescriptorQualitative",props:{descriptor:{}},setup(e){const t=e,n=$n(),i=s=>{const u=s.target,{descriptorId:h}=t.descriptor;u.value?n.setDescriptor({descriptorId:h,value:[Number(u.value)]}):n.removeDescriptor(h)},a=s=>n.getDescriptorValueById(t.descriptor.descriptorId).includes(s.characterStateId);return(s,u)=>(C(),ae(_c,{class:"distinguish-descriptor-qualitative",descriptor:s.descriptor},{default:V(()=>[O("select",{name:"listbox",onChange:i},[u[0]||(u[0]=O("option",{value:""},null,-1)),(C(!0),F(Oe,null,et(s.descriptor.characterStates,h=>(C(),F("option",{key:h.characterStateId,value:h.characterStateId,selected:a(h)},[a(h)?(C(),F("span",kP,">")):fe("",!0),h.status===Re($a).Useless?(C(),F("span",EP,"-")):fe("",!0),we(" "+_e(h.name)+" ("+_e(h.numberOfObjects)+") ",1)],8,CP))),128))],32)]),_:1},8,["descriptor"]))}}),TP=Et({__name:"DescriptorSample",props:{descriptor:{}},setup(e){const t=e,n=$n(),i=Me(String(n.getDescriptorValueById(t.descriptor.descriptorId))),a=()=>{const{descriptorId:s}=t.descriptor,u=i.value.trim();u?n.setDescriptor({descriptorId:s,value:u}):n.removeDescriptor(s)};return(s,u)=>(C(),ae(_c,{class:"distinguish-descriptor-sample",descriptor:s.descriptor},{title:V(()=>[we(_e(s.descriptor.name)+" ("+_e(s.descriptor.min)+"-"+_e(s.descriptor.max)+" "+_e(s.descriptor.defaultUnit)+") ",1)]),default:V(()=>[kn(O("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>i.value=h),type:"text",onBlur:a,onKeyup:Ms(a,["enter"])},null,544),[[Du,i.value]])]),_:1},8,["descriptor"]))}}),jd=Et({__name:"DescriptorsList",props:{title:{},descriptors:{}},setup(e){const t={DescriptorContinuous:bP,DescriptorPresenceAbsence:LP,DescriptorQualitative:MP,DescriptorSample:TP},n=i=>{const a=i.replace("::","");return t[a]};return(i,a)=>(C(),F(Oe,null,[O("h2",null,_e(i.title),1),O("ol",null,[(C(!0),F(Oe,null,et(i.descriptors,s=>(C(),F("li",{key:s.descriptorId},[(C(),ae(Wi(n(s.type)),{descriptor:s},null,8,["descriptor"]))]))),128))])],64))}}),SP={key:0},PP=Et({__name:"FilterRowCheckbox",setup(e){const t=$n(),n=He({get:()=>t.getRowFilter,set:i=>t.$patch({rowFilter:i})});return(i,a)=>Re(t).rowIds.length?(C(),F("label",SP,[kn(O("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),type:"checkbox"},null,512),[[Os,n.value]]),a[1]||(a[1]=we(" Filter "))])):fe("",!0)}}),BP=Et({__name:"PanelDescriptors",setup(e){const t=Mi();return(n,i)=>(C(),ae(tf,{class:"distinguish-panel-descriptors"},{default:V(()=>[I(PP),Re(t).getDescriptorsUsed.length?(C(),ae(jd,{key:0,descriptors:Re(t).getDescriptorsUsed,title:"Used Descriptors"},null,8,["descriptors"])):fe("",!0),Re(t).getDescriptorsUseful.length?(C(),ae(jd,{key:1,descriptors:Re(t).getDescriptorsUseful,title:"Descriptors Useful for Identification"},null,8,["descriptors"])):fe("",!0),Re(t).getDescriptorsUseless.length?(C(),ae(jd,{key:2,descriptors:Re(t).getDescriptorsUseless,title:"Descriptors no longer relevant for identification"},null,8,["descriptors"])):fe("",!0)]),_:1}))}}),AP={class:"distinguish-spinner-container"},OP={class:"distinguish-spinner-legend"},RP=["innerHTML"],DP=Et({__name:"VSpinner",props:{legend:{type:String,default:"Loading, please wait."}},setup(e){return(t,n)=>(C(),ae(Ju,{name:"fade"},{default:V(()=>[O("div",AP,[O("div",null,[n[0]||(n[0]=O("div",{class:"distinguish-spinner"},null,-1)),O("div",OP,[O("span",{innerHTML:e.legend},null,8,RP),pt(t.$slots,"default")])])])]),_:3}))}}),IP={class:"distinguish-title"},jP={key:0},FP=Et({__name:"TitleMatrix",setup(e){const t=Mi();return(n,i)=>(C(),F("h1",IP,[i[0]||(i[0]=we(" Interactive key ")),Re(t).getObservationMatrix?(C(),F("span",jP,"| "+_e(Re(t).getObservationMatrix.name),1)):fe("",!0)]))}}),NP=["title"],VP=Et({__name:"TitleMatrixCitation",setup(e){const t=Mi(),n=He(()=>{const i=t.getCitation;return Object.values(i||{}).filter(Boolean).join(", ")});return(i,a)=>(C(),F("span",{class:"distinguish-title-citation",title:n.value},_e(n.value),9,NP))}}),$P={class:"distinguish-title-section"},zP=Et({__name:"TitleKey",setup(e){return(t,n)=>(C(),F("div",$P,[I(FP),I(VP)]))}}),HP={class:"distinguish-app-container"},D0=Et({name:"Distinguish",__name:"App",props:{observationMatrixId:{},apiConfig:{},renderItem:{type:Function}},setup(e){const t=e,n=Ao(),i=$n(),a=He(()=>n.getIsLoading),s=He(()=>n.getLayout);return n.setAPIConfig(t.apiConfig),n.setObservationMatrixId(t.observationMatrixId),n.checkUpdate(),i.$subscribe(u=>{n.shouldUpdate&&n.checkUpdate()}),(u,h)=>(C(),F("div",HP,[I(zP),I(ZS),I(O0,{class:Xt(s.value)},{default:V(()=>[I(BP),I(oP,{render:t.renderItem},{default:V(m=>[pt(u.$slots,"remaining-item",Fd(Au(m)))]),_:3},8,["render"]),I(XS,{render:t.renderItem},{default:V(m=>[pt(u.$slots,"eliminated-item",Fd(Au(m)))]),_:3},8,["render"])]),_:3},8,["class"]),a.value?(C(),ae(DP,{key:0,legend:"Loading interactive key..."})):fe("",!0)]))}});function UP(e){return[...document.querySelectorAll('[data-interactive-key="true"]')].map(n=>ZP(n,qP(n)))}function GP(){UP()}function qP(e){return{observationMatrixId:Number(e.getAttribute("data-observation-matrix-id")),apiConfig:{baseURL:e.getAttribute("data-base-url")||"",projectToken:e.getAttribute("data-project-token")||void 0,projectId:Number(e.getAttribute("data-project-id"))||void 0,userToken:e.getAttribute("data-user-token")||void 0,csrfToken:e.getAttribute("data-csrf-token")||void 0}}}function ZP(e,t){const{apiConfig:n,observationMatrixId:i}=t;if(!i)throw"Missing observation matrix ID";if(!n||!n.projectToken&&!n.csrfToken&&!(n.projectId&&n.userToken))throw"Missing API configuration";const a=jb(D0,{observationMatrixId:i,apiConfig:n});return a.use(Ug()),a.mount(e),a}typeof window<"u"&&window.addEventListener("DOMContentLoaded",GP);var fm={url:"https://sfg.taxonworks.org/api/v1",project_token:"ekMTicbZWijqmdpHKqs_TA"};const KP={class:"flex flex-col h-full overflow-y-hidden container mx-auto interactive-key-container"},WP=["innerHTML"],JP=["innerHTML"],YP={__name:"InteractiveKey",setup(e){const t=Ei(),n=Me({observationMatrixId:t.params.id,apiConfig:{baseURL:fm.url,projectToken:fm.project_token}});return(i,a)=>{const s=Z("RouterLink"),u=Z("ClientOnly");return C(),F("div",KP,[I(u,null,{default:V(()=>[I(Re(D0),Fd(Au(n.value)),{"remaining-item":V(({item:h})=>[h.observationObjectType===Re(qp)?(C(),ae(s,{key:0,to:{name:"otus-id",params:{id:h.observationObjectId}},innerHTML:h.objectTag},null,8,["to","innerHTML"])):(C(),F("span",{key:1,innerHTML:h.objectTag},null,8,WP))]),"eliminated-item":V(({item:h})=>[h.observationObjectType===Re(qp)?(C(),ae(s,{key:0,to:{name:"otus-id",params:{id:h.observationObjectId}},innerHTML:h.objectTag},null,8,["to","innerHTML"])):(C(),F("span",{key:1,innerHTML:h.objectTag},null,8,JP))]),_:1},16)]),_:1})])}}},XP=Object.freeze(Object.defineProperty({__proto__:null,default:YP},Symbol.toStringTag,{value:"Module"}));var QP=Object.defineProperty,eB=(e,t,n)=>t in e?QP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pm=(e,t,n)=>eB(e,typeof t!="symbol"?t+"":t,n);function tB(e){return String(e).replace(/(\d+)(\.)?/,(t,n,i)=>{const a=parseInt(n,10)-1;return i?`${a}.`:`${a}`})}function nB(e,t){const n=new URL(e);return t&&Object.entries(t).forEach(([i,a])=>{n.searchParams.append(i,a.toString())}),n.toString()}async function rB(e,{method:t,data:n,parameters:i}={}){try{const a={method:t||"GET",headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0},s=await fetch(nB(e,i),a);if(!s.ok)throw new Error(`Error response: ${s.status} ${s.statusText}`);return await s.json()}catch(a){throw console.error("Error:",a),a}}class mm{constructor(t){pm(this,"baseUrl"),pm(this,"projectToken"),this.baseUrl=t.baseUrl,this.projectToken=t.projectToken}getDichotomousKey(t){return rB(`${this.baseUrl}/leads/key/${t}`,{parameters:{project_token:this.projectToken}})}}function iB(e){return{children:e.children||[],coupletNumber:e.couplet_number,parentId:e.parent_id,depth:e.depth,position:e.position}}function oB(e,{baseUrl:t,projectToken:n}){var i;return{caption:e.caption,label:e.label,position:e.position,image:e.medium,original:`${t}/${(i=e.original_png)==null?void 0:i.substring(8)}?project_token=${n}`}}function sB(e,t){var n;return{text:e.text,parentId:e.parent_id,targetId:e.target_id,targetLabel:e.target_label,targetType:e.target_type,position:e.position,figures:((n=e.figures)==null?void 0:n.map(i=>oB(i,t)))||[]}}function _m(e){return{currentNode:null,metadata:null,entries:{},leads:{},nodes:{},config:e}}function aB(e){let t=new mm(e);const n=As(_m(e));function i(m){return Object.fromEntries(Object.entries(m).map(([g,y])=>[g,iB(y)]))}function a(m){n.config=m,t=new mm(m)}function s(){Object.assign(n,_m(e))}function u(m){return Object.fromEntries(Object.entries(m).map(([g,y])=>[g,sB(y,n.config)]))}function h(m,g){const y={};for(const[x,T]of Object.entries(g)){const E=m[x];y[x]={id:parseInt(x,10),...T,...E},E||Object.assign(y[x],{children:[]})}return y}return{state:n,loadKey:m=>t.getDichotomousKey(m).then(({data:g,metadata:y})=>{n.entries=i(g.entries),n.leads=u(g.leads),n.nodes=h(n.entries,n.leads),n.currentNode=Object.values(n.nodes)[0],n.metadata=y}),setCurrentNode:m=>{n.currentNode=n.nodes[m]},setConfig:a,reset:s}}const lB={class:"pinpoint-tree"},uB=["innerHTML"],cB={key:0},I0=Et({__name:"Tree",props:{node:{},coupletNumber:{}},setup(e){const t=Bn("store");return(n,i)=>(C(),F("ul",lB,[O("li",null,[O("span",{onClick:i[0]||(i[0]=()=>Re(t).setCurrentNode(n.node.parentId))},[we(" ["+_e(n.coupletNumber)+"] ",1),O("span",{innerHTML:n.node.text},null,8,uB),isNaN(n.node.targetLabel)?(C(),F("span",cB,"["+_e(n.node.targetLabel)+"]",1)):fe("",!0)]),(C(!0),F(Oe,null,et(n.node.children,a=>(C(),F(Oe,null,[Re(t).state.nodes[a]?(C(),ae(I0,{key:0,node:Re(t).state.nodes[a],"couplet-number":n.node.coupletNumber},null,8,["node","couplet-number"])):fe("",!0)],64))),256))])]))}}),dB={class:"pinpoint-modal-panel"},hB={__name:"Modal",emits:["close"],setup(e,{emit:t}){const n=t,i=a=>{a.key==="Escape"&&(a.stopPropagation(),n("close"))};return an(()=>{document.addEventListener("keydown",i),document.body.classList.add("overflow-hidden")}),ni(()=>{document.removeEventListener("keydown",i),document.body.classList.remove("overflow-hidden")}),(a,s)=>(C(),F("div",{class:"pinpoint-modal-wrapper",onClick:s[1]||(s[1]=u=>n("close")),onKey:s[2]||(s[2]=Ki(u=>n("close"),["stop"]))},[O("div",{class:"pinpoint-modal-container",onClick:s[0]||(s[0]=Ki(()=>{},["stop"]))},[O("div",dB,[pt(a.$slots,"default")])])],32))}},fB=["src"],pB=["src"],mB=Et({__name:"FigureItem",props:{figure:{}},setup(e){const t=Me(!1);return(n,i)=>(C(),F("div",null,[O("img",{src:n.figure.image,class:"pinpoint-figure",onClick:i[0]||(i[0]=()=>t.value=!t.value)},null,8,fB),t.value?(C(),ae(hB,{key:0,onClose:i[2]||(i[2]=()=>t.value=!1)},{default:V(()=>[O("img",{class:"pinpoint-figure-image",src:n.figure.original,onClick:i[1]||(i[1]=()=>t.value=!0)},null,8,pB)]),_:1})):fe("",!0)]))}}),_B={class:"pinpoint-figure-list"},gB=Et({__name:"FigureList",props:{figures:{}},setup(e){return(t,n)=>(C(),F("div",_B,[(C(!0),F(Oe,null,et(t.figures,i=>(C(),ae(mB,{key:i.image,figure:i},null,8,["figure"]))),128))]))}}),yB={class:"pinpoint-node-container"},vB={class:"pinpoint-node"},bB={class:"pinpoint-node-text"},xB={key:1,class:"pinpoint-node-target"},wB={key:0,class:"pinpoint-node-children-container"},LB={class:"pinpoint-node-next-container"},CB=Et({__name:"Node",props:{node:{}},setup(e){const t=Bn("store");return(n,i)=>(C(),F("div",yB,[n.node?(C(),F(Oe,{key:0},[O("div",vB,[n.node.children.length?(C(),F("button",{key:0,class:"pinpoint-button-go",type:"button",onClick:i[0]||(i[0]=()=>Re(t).state.currentNode=n.node)}," Go ")):fe("",!0),O("p",bB,_e(n.node.text),1),isNaN(n.node.targetLabel)?(C(),F("p",xB,[pt(n.$slots,"target",{label:n.node.targetLabel,id:n.node.targetId},()=>[we(_e(n.node.targetLabel),1)])])):fe("",!0),I(gB,{figures:n.node.figures},null,8,["figures"])]),n.node.children.length?(C(),F("div",wB,[O("div",LB,[O("button",{class:"pinpoint-node-next-button",type:"button",onClick:i[1]||(i[1]=a=>Re(t).setCurrentNode(Re(t).state.nodes[n.node.children[0]].parentId))},[pt(n.$slots,"button-next-label",{},()=>[i[2]||(i[2]=we(" Next "))])])]),(C(!0),F(Oe,null,et(n.node.children.map(a=>Re(t).state.nodes[a]),a=>(C(),ae(I0,{"couplet-number":n.node.coupletNumber,node:a},null,8,["couplet-number","node"]))),256))])):fe("",!0)],64)):fe("",!0)]))}}),kB={class:"pinpoint-couplet"},EB={class:"pinpoint-couplet-container"},MB={class:"pinpoint-couplet-node"},TB={key:0},SB={key:1,class:"pinpoint-node-target"},PB={class:"pinpoint-couplet-children-container"},BB={__name:"Couplet",setup(e){const t=Bn("store"),n=He(()=>t.state.currentNode),i=He(()=>t.state.currentNode.children.map(a=>t.state.nodes[a]));return(a,s)=>(C(),F("div",kB,[O("div",EB,[Re(t).state.currentNode.parentId?(C(),F("button",{key:0,class:"pinpoint-button-up",type:"button",onClick:s[0]||(s[0]=()=>Re(t).state.currentNode=Re(t).state.nodes[n.value.parentId])},[pt(a.$slots,"button-up-label",{},()=>[s[1]||(s[1]=we("Up"))])])):fe("",!0),O("div",MB,[n.value.parentId?(C(),F("h1",TB," Couplet "+_e(n.value.coupletNumber),1)):fe("",!0),isNaN(n.value.targetLabel)&&!n.value.parentId?(C(),F("p",SB,[pt(a.$slots,"target",{label:n.value.targetLabel,id:n.value.targetId},()=>[we(_e(n.value.targetLabel),1)])])):fe("",!0)])]),O("div",PB,[(C(!0),F(Oe,null,et(i.value,u=>(C(),ae(CB,{node:u,key:u.id},{target:V(({id:h,label:m})=>[pt(a.$slots,"target",{id:h,label:m})]),"button-next-label":V(()=>[pt(a.$slots,"button-next-label")]),_:2},1032,["node"]))),128))])]))}},AB={key:0},j0=Et({__name:"PreviousList",props:{nodes:{}},setup(e){const t=Bn("store");return(n,i)=>{var a;return(a=n.nodes)!=null&&a.length?(C(),F("ul",AB,[O("li",null,[O("span",{class:"pinpoint-previous-list-item",onClick:i[0]||(i[0]=()=>Re(t).setCurrentNode(n.nodes[0].parentId))},"["+_e(Re(tB)(n.nodes[0].coupletNumber))+"] "+_e(n.nodes[0].text),1),I(j0,{nodes:n.nodes.slice(1)},null,8,["nodes"])])])):fe("",!0)}}}),OB={class:"pinpoint-previous-couplets"},RB={class:"pinpoint-previous-list"},DB=Et({__name:"PreviousCouplets",props:{node:{}},setup(e){const t=e,n=Bn("store"),i=He(()=>{const a=[];let s=t.node.id;for(;s!==null;){const u=n.state.nodes[s];s=u.parentId,a.unshift(u)}return a.splice(0,1),a});return(a,s)=>(C(),F("div",OB,[s[0]||(s[0]=O("h2",null,"Previous couplets",-1)),O("div",RB,[I(j0,{nodes:i.value},null,8,["nodes"])])]))}}),La={Loading:"loading",Error:"error",End:"end",Start:"start"},IB={class:"pinpoint-app"},jB={key:0,class:"pinpoint-key-title"},FB={key:3},NB=Et({__name:"VuePinpoint",props:{leadId:{},projectToken:{},baseUrl:{}},emits:Object.values(La),setup(e,{expose:t,emit:n}){const i=e,a=n,s=aB(i),u=He(()=>s.state.currentNode),h=Me(null);return Oa("store",s),on([()=>i.leadId,()=>i.projectToken,()=>i.baseUrl],()=>{s.reset(),s.setConfig(i),h.value=null,i.leadId&&i.baseUrl&&i.projectToken&&i.baseUrl&&(a(La.Start),a(La.Loading),s.loadKey(i.leadId).then(m=>{a(La.End,m)}).catch(m=>{a(La.Error,m),h.value=m}))},{immediate:!0}),t({getState:()=>s.state}),(m,g)=>{var y;return C(),F("div",IB,[Re(s).state.metadata?(C(),F("div",jB,[pt(m.$slots,"title",{title:Re(s).state.metadata.title,metadata:Re(s).state.metadata},()=>[we(_e(Re(s).state.metadata.title),1)])])):fe("",!0),(y=u.value)!=null&&y.parentId?(C(),ae(DB,{key:1,node:u.value},null,8,["node"])):fe("",!0),u.value?(C(),ae(BB,{key:2},{target:V(({id:x,label:T})=>[pt(m.$slots,"target",{label:T,id:x})]),"button-up-label":V(()=>[pt(m.$slots,"button-up-label")]),"button-next-label":V(()=>[pt(m.$slots,"button-next-label")]),_:3})):fe("",!0),h.value?(C(),F("div",FB,_e(h.value.message),1)):fe("",!0)])}}}),VB={class:"p-4 pt-0"},$B={__name:"MetadataModal",props:{metadata:{type:Object,required:!0}},setup(e){const t=Me(!1);return(n,i)=>{const a=Z("IconInformation"),s=Z("VButton"),u=Z("VTableHeaderCell"),h=Z("VTableHeaderRow"),m=Z("VTableHeader"),g=Z("VTableBodyCell"),y=Z("VTableBodyRow"),x=Z("VTableBody"),T=Z("VTable"),E=Z("VModal");return C(),F(Oe,null,[I(s,{primary:"",class:"!px-1 py-1 rounded-full",title:"Metadata",onClick:i[0]||(i[0]=S=>t.value=!0)},{default:V(()=>[I(a,{class:"w-4 h-4"})]),_:1}),t.value?(C(),ae(E,{key:0,onClose:i[1]||(i[1]=()=>t.value=!1)},{header:V(()=>[...i[2]||(i[2]=[O("h3",{class:"font-medium"},"Metadata",-1)])]),default:V(()=>[O("div",VB,[I(T,null,{default:V(()=>[I(m,null,{default:V(()=>[I(h,null,{default:V(()=>[I(u,null,{default:V(()=>[...i[3]||(i[3]=[we("Data",-1)])]),_:1}),I(u)]),_:1})]),_:1}),I(x,null,{default:V(()=>[(C(!0),F(Oe,null,et(Object.entries(e.metadata),([S,P])=>(C(),ae(y,{key:S},{default:V(()=>[I(g,{class:"capitalize"},{default:V(()=>[we(_e(S.replaceAll("_"," ")),1)]),_:2},1024),I(g,null,{default:V(()=>[we(_e(P),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):fe("",!0)],64)}}};var gm={url:"https://sfg.taxonworks.org/api/v1",project_token:"ekMTicbZWijqmdpHKqs_TA"};const zB={class:"flex flex-col h-full container mx-auto"},HB={class:"flex gap-2 justify-center items-center"},UB={class:"flex gap-2 items-center"},GB={class:"flex gap-2 items-center"},qB={__name:"keyId",setup(e){const t=Ei(),n=Me({leadId:t.params.id,baseUrl:gm.url,projectToken:gm.project_token});return(i,a)=>{const s=Z("IconArrowUp"),u=Z("IconArrowDown"),h=Z("RouterLink"),m=Z("ClientOnly");return C(),F("div",zB,[I(m,null,{default:V(()=>[I(Re(NB),Nh({ref:"pinpoint"},n.value),{title:V(({metadata:g})=>[O("div",HB,[O("h1",null,_e(g.title),1),I($B,{metadata:g},null,8,["metadata"])])]),"button-up-label":V(()=>[O("div",UB,[I(s,{class:"h-3"}),a[0]||(a[0]=we(" Back ",-1)),I(s,{class:"h-3"})])]),"button-next-label":V(()=>[O("div",GB,[I(u,{class:"h-3"}),a[1]||(a[1]=we(" Next ",-1)),I(u,{class:"h-3"})])]),target:V(({id:g,label:y})=>[I(h,{to:{name:"otus-id",params:{id:g}},innerHTML:y},null,8,["to","innerHTML"])]),_:1},16)]),_:1})])}}},ZB=Object.freeze(Object.defineProperty({__proto__:null,default:qB},Symbol.toStringTag,{value:"Module"})),KB={class:"grid gap-3"},WB={__name:"PageLayout",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(e){const t=e,n=So(),i=Va[n.currentRoute.value.meta.tab],a={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};return i.rankGroup?.length&&!dh(i.rankGroup,t.taxonRank)&&n.replace({name:"otus-id-overview"}),(s,u)=>(C(),F("div",KB,[(C(!0),F(Oe,null,et(Re(i).panels,h=>(C(),F("div",{class:Xt(["grid","grid-cols-1","gap-3",a[h.length]])},[(C(!0),F(Oe,null,et(h,(m,g)=>(C(),F("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:g},[(C(!0),F(Oe,null,et(m,({component:y,rankGroup:x,id:T,bind:E})=>(C(),F(Oe,{key:T},[!x||Re(dh)(x,e.taxonRank)?(C(),ae(Wi(y),Nh({key:0,"otu-id":e.otuId,otu:e.otu,"taxon-id":e.taxonId,taxon:e.taxon,"panel-key":T},{ref_for:!0},E),null,16,["otu-id","otu","taxon-id","taxon","panel-key"])):fe("",!0)],64))),128))]))),128))],2))),256))]))}},JB=Object.freeze(Object.defineProperty({__proto__:null,default:WB},Symbol.toStringTag,{value:"Module"}));function YB(e,t){return e||(e={}),e._resolver=t,e}function XB(e){return YB(e,"taxon")}function QB(e,t){return $h({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:e}]},{head:t})}function eA(){const e=So(),t=Ei(),n=Me();on(t,()=>{n.value=i()},{immediate:!0});function i(){const{children:a}=e.getRoutes().find(s=>s.name==="otus-id");return a.map(({path:s,name:u,meta:h})=>({label:s&&(h.label||Gx(s)),path:s,name:u,meta:h}))}return n}const ym=Object.values([])[0];function tA({taxon:e,otu:t}){const n=Ei(),a={router:So(),route:n,taxon:e,otu:t};return{onCreatePage:()=>ym?.onCreatePage(a),onSSRCreatePage:()=>ym?.onSSRCreatePage(a)}}const nA={class:"p-4 pt-0"},rA=["href"],iA={__name:"DataMap",setup(e){const t=Me(!1),n=sc();return(i,a)=>{const s=Z("IconJson"),u=Z("VButton"),h=Z("VTableHeaderCell"),m=Z("VTableHeaderRow"),g=Z("VTableHeader"),y=Z("VTableBodyCell"),x=Z("VTableBodyRow"),T=Z("VTableBody"),E=Z("VTable"),S=Z("VModal");return C(),F("div",null,[I(u,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:a[0]||(a[0]=P=>t.value=!0)},{default:V(()=>[I(s,{class:"w-4 h-4"}),a[2]||(a[2]=we(" Datamap ",-1))]),_:1}),t.value?(C(),ae(S,{key:0,onClose:a[1]||(a[1]=P=>t.value=!1)},{header:V(()=>[...a[3]||(a[3]=[O("h3",{class:"font-medium"},"Datamap",-1)])]),default:V(()=>[O("div",nA,[a[6]||(a[6]=O("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1)),I(E,null,{default:V(()=>[I(g,null,{default:V(()=>[I(m,null,{default:V(()=>[I(h,null,{default:V(()=>[...a[4]||(a[4]=[we(" Request Key ",-1)])]),_:1}),I(h,null,{default:V(()=>[...a[5]||(a[5]=[we(" URL ",-1)])]),_:1})]),_:1})]),_:1}),I(T,null,{default:V(()=>[(C(!0),F(Oe,null,et(Re(n).datamap,(P,U)=>(C(),ae(x,{key:U},{default:V(()=>[I(y,{class:"capitalize"},{default:V(()=>[we(_e(U.replaceAll(":"," ")),1)]),_:2},1024),I(y,null,{default:V(()=>[O("a",{href:P},_e(P),9,rA)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):fe("",!0)])}}},oA={"aria-label":"breadcrumb"},sA={class:"breadcrumb inline-flex items-center flex-wrap"},aA={class:"inline-flex items-center ml-0 text-sm","aria-current":"page"},lA=["innerHTML"],uA={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(e){return(t,n)=>{const i=Z("IconArrowRight"),a=Z("RouterLink");return C(),F("nav",oA,[O("ul",sA,[(C(!0),F(Oe,null,et(e.list,([s],u,h)=>(C(),F("li",{key:s.id,class:"inline-flex items-center"},[h?(C(),ae(i,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):fe("",!0),I(a,{class:"inline-flex items-center text-sm text-secondary-color",to:{name:"otus-id",params:{id:s.id}}},{default:V(()=>[we(_e(u),1)]),_:2},1032,["to"])]))),128)),O("li",aA,[I(i,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),O("span",{innerHTML:e.current.full_name_tag},null,8,lA)])])])}}},cA={__name:"CommonNames",setup(e){const t=Bo(),n=He(()=>t.taxonomy.commonNames.map(i=>i.name).join("; "));return(i,a)=>(C(),F("span",null,_e(n.value),1))}},dA={class:"flex flex-col"},hA={class:"order-2 dark:text-gray-100"},fA=["title","innerHTML"],pA={key:0,class:"ml-1 text-red-600",title:"Invalid"},mA={key:1,class:"text-base-soft text-base"},_A={class:"order-1 text-2xl like-a-header capitalize"},gA={key:0,class:"order-3 text-1xl"},yA={__name:"TaxaInfo",setup(e){const t=Bo();return(n,i)=>(C(),F("div",dA,[O("h1",hA,[O("span",null,[O("span",{title:Re(t).taxon?.short_status,innerHTML:Re(t).taxon?.full_name_tag},null,8,fA),Re(t).taxon?.is_valid?fe("",!0):(C(),F("span",pA,"  ")),Re(t).taxon.descorator_status.length?(C(),F("span",mA," ("+_e(Re(t).taxon.descorator_status.join("; "))+") ",1)):fe("",!0)])]),O("p",_A,_e(Re(t).taxon?.rank||"Combination"),1),Re(t).taxonomy.commonNames?.length?(C(),F("h2",gA,[I(cA)])):fe("",!0)]))}};var vA={url:"https://sfg.taxonworks.org/api/v1",project_token:"ekMTicbZWijqmdpHKqs_TA"};const bA={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(e){const{url:t,project_token:n}=vA,i=e;function a(){window.open(`${t}/otus/${i.otu.id}/inventory/dwc.csv?project_token=${n}`,"_self")}return(s,u)=>{const h=Z("IconDownload"),m=Z("VButton");return C(),ae(m,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:u[0]||(u[0]=()=>{a()})},{default:V(()=>[I(h,{class:"w-4 h-4 mr-1"}),u[1]||(u[1]=we(" DwC ",-1))]),_:1})}}};var xA={project_name:"Search PERC"};const wA={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},LA={class:"container mx-auto"},CA={class:"pt-6 pb-6"},kA={class:"flex flex-col-reverse md:flex-row justify-between items-start"},EA={class:"mt-8 flex justify-between items-end"},MA={class:"flex flex-row gap-2"},TA={class:"pt-3 pb-4"},SA={class:"container mx-auto box-border"},PA={__name:"Index",setup(e){const t=ig(),n=Ei(),i=So(),a=Me(n.params),s=eA(),u=Bo(),h=Kh();let m=new AbortController;i.afterEach($=>{a.value=$.params});const g=He(()=>u.otu),y=He(()=>u.taxon),x=He(()=>g.value?.id&&y.value?.id),T=He(()=>s.value.filter($=>dh($.meta.rankGroup,y.value.rank_string))),{onCreatePage:E,onSSRCreatePage:S}=tA({taxon:y,otu:g});Rh(async()=>{await P(),await S()}),E(),on(()=>n.params.id,async()=>{m.abort(),m=new AbortController,P()}),an(async()=>{g.value?.id!==Number(n.params.id)||!y.value?.id?await P():X()}),Pr(()=>{u.$reset(),h.$reset()});async function P(){u.$reset(),h.$reset();try{await u.loadInit({otuId:n.params.id,controller:m}),X()}catch($){$.name!==Xa.CanceledError&&U($)}}function U($){switch($?.response?.status){case 404:i.replace({name:"httpError404"});break;case 500:i.replace({name:"httpError500"});break}}function X(){$h({title:`${xA.project_name} - ${y.value.full_name}`},{head:t}),QB([XB({id:n.fullPath,name:y.value.full_name,scientificName:{name:y.value.full_name,author:y.value.author,taxonRank:y.value.rank},parentTaxon:{name:y.value.parent.full_name,taxonRank:y.value.parent.rank},commonNames:u.taxonomy.commonNames,alternateName:u.taxonomy.synonyms})],t)}function Q({id:$,otu_valid_id:W}){i.push({name:"otus-id-overview",params:{id:W||$}})}return($,W)=>{const oe=Z("VSkeleton"),Ce=Z("Autocomplete"),be=Z("ClientOnly"),Fe=Z("TabItem"),Ee=Z("TabMenu"),Pe=Z("RouterView");return C(),F("main",null,[O("div",wA,[O("div",LA,[O("div",CA,[O("div",kA,[I(oe,{class:"w-full md:w-3/4"},{default:V(()=>[x.value?(C(),ae(uA,{key:0,class:"w-full md:w-3/4",list:g.value?.parents||{},current:y.value},null,8,["list","current"])):fe("",!0)]),_:1}),I(Ce,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0,include_common_names:!0},onSelect:Q})]),O("div",EA,[I(oe,{lines:2,class:"w-96"},{default:V(()=>[x.value?(C(),ae(yA,{key:0})):fe("",!0)]),_:1}),O("div",MA,[I(be,null,{default:V(()=>[I(iA)]),_:1}),x.value?(C(),ae(bA,{key:0,otu:g.value},null,8,["otu"])):fe("",!0)])])]),x.value&&Re(s).length>1?(C(),ae(Ee,{key:0,class:"print:hidden"},{default:V(()=>[(C(!0),F(Oe,null,et(T.value,({name:ze,label:Be})=>(C(),ae(Fe,{key:ze,to:{name:ze}},{default:V(()=>[we(_e(Be),1)]),_:2},1032,["to"]))),128))]),_:1})):fe("",!0)])]),O("div",TA,[O("div",SA,[x.value?(C(),ae(Pe,{key:Re(n).fullPath,"taxon-id":y.value.id,taxon:y.value,"taxon-rank":y.value.rank_string,"otu-id":g.value.id,otu:g.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):fe("",!0)])])])}}},BA=Object.freeze(Object.defineProperty({__proto__:null,default:PA},Symbol.toStringTag,{value:"Module"})),AA={class:"markdown-body"},OA="Search PERC",RA="Search the Purdue Entomology Research Collection, powered by TaxonWorks",DA="Purdue Entomology Research Collection",IA={__name:"home",setup(e,{expose:t}){const n={title:"Search PERC",lead:"Search the Purdue Entomology Research Collection, powered by TaxonWorks",project:"Purdue Entomology Research Collection"};return t({frontmatter:n}),(i,a)=>{const s=Z("autocomplete-otu"),u=Z("markdown-layout");return C(),ae(u,{frontmatter:n},{default:V(()=>[O("div",AA,[a[0]||(a[0]=O("h1",{id:"search-perc",tabindex:"-1"},"Search PERC",-1)),O("p",null,[O("em",null,_e(n.lead),1)]),I(s,{class:"w-200"})])]),_:1})}}},jA=Object.freeze(Object.defineProperty({__proto__:null,default:IA,lead:RA,project:DA,title:OA},Symbol.toStringTag,{value:"Module"})),FA={class:"markdown-body"},NA={id:"%7B%7Bfrontmatter.title%7D%7D",tabindex:"-1"},VA="About",$A="user@example.com",zA="All content is CC 0 so that it maybe be shared throughout the world in places like Wikipedia.",HA="Project collaborative. 2022. Website title. Available at https://example.com.",UA={__name:"about",setup(e,{expose:t}){const n={title:"About",contact_email:"user@example.com",copyright:"All content is CC 0 so that it maybe be shared throughout the world in places like Wikipedia.",citation:"Project collaborative. 2022. Website title. Available at https://example.com."};return t({frontmatter:n}),(i,a)=>{const s=Z("markdown-layout");return C(),ae(s,{frontmatter:n},{default:V(()=>[O("div",FA,[O("h1",NA,_e(n.title),1),a[1]||(a[1]=O("h2",{id:"dig-deeper",tabindex:"-1"},"Dig deeper",-1)),a[2]||(a[2]=O("p",null,"Please contact us if you need extended access to the data underlying here. The TaxonWorks interfaces used to curate these data include wide range of additional filtering, reporting, and curatorial functionality. With a little training from us wed be happy to provide you access to this additional functionality. Over time we expect this site to gradually mirror that extended functionality.",-1)),a[3]||(a[3]=O("h2",{id:"contact",tabindex:"-1"},"Contact",-1)),a[4]||(a[4]=O("p",null,[we("If you have a question, want to report new data relevant to the project, or have error our preferred means of contact is to file an issue on our "),O("a",{href:"https://github.com/our/project/tracker",rel:"noopener noreferrer",target:"_blank"},"project tracker"),we(". You can also "),O("a",{href:"https://slackservername",rel:"noopener noreferrer",target:"_blank"},"chat live with us"),we(". We can also be reached via "),O("a",{href:"mailto:%7B%7Bfrontmatter.contact_email%7D%7D",rel:"noopener noreferrer",target:"_blank"},"email"),we(".")],-1)),a[5]||(a[5]=O("h2",{id:"team",tabindex:"-1"},"Team",-1)),a[6]||(a[6]=O("p",null,[O("em",null,"Please contact us if you would like to join this effort.")],-1)),a[7]||(a[7]=O("p",null,"Made possible by the wonderful:",-1)),a[8]||(a[8]=O("ul",null,[O("li",null,"Gandalf - Technical lead"),O("li",null,"Aragorn - Outside advisor"),O("li",null,"Frodo - Lead curator"),O("li",null,"Samwise - Emotional support")],-1)),a[9]||(a[9]=O("h2",{id:"citing",tabindex:"-1"},"Citing",-1)),O("ul",null,[O("li",null,"This website - "+_e(n.citation),1),a[0]||(a[0]=O("li",null,"Individual taxon pages - See citation at the bottom of each page.",-1))]),a[10]||(a[10]=O("h2",{id:"data",tabindex:"-1"},"Data",-1)),a[11]||(a[11]=O("p",null,[we("Data for these pages is collaboratively curated online in a "),O("a",{href:"https://taxonworks",rel:"noopener noreferrer",target:"_blank"},"TaxonWorks"),we(" project. All data behind this site served as JSON through calls to a "),O("a",{href:"https://api.taxonworks.org",rel:"noopener noreferrer",target:"_blank"},"TaxonWorks API"),we(". You can follow along by using the Console of your browser to explore the Network tab.")],-1)),a[12]||(a[12]=O("h2",{id:"technical",tabindex:"-1"},"Technical",-1)),a[13]||(a[13]=O("p",null,[we("Want to create your own site? This website is built completely on open-source software. There is a "),O("a",{href:"https://github.com/SpeciesFileGroup/%3Csomething%3E",rel:"noopener noreferrer",target:"_blank"},"site template"),we(" with more information. Data are curated in a "),O("a",{href:"https://taxonworks.org",rel:"noopener noreferrer",target:"_blank"},"TaxonWorks"),we(" project then shared via a "),O("a",{href:"https://api.taxonworks.org",rel:"noopener noreferrer",target:"_blank"},"TaxonWorks API"),we(". Come "),O("a",{href:"https://gitter.im/SpeciesFileGroup/taxonworks",rel:"noopener noreferrer",target:"_blank"},"chat"),we(" with the TaxonWorks community at any time.")],-1)),a[14]||(a[14]=O("h2",{id:"copyright",tabindex:"-1"},"Copyright",-1)),O("p",null,[O("em",null,_e(n.copyright),1)])])]),_:1})}}},GA=Object.freeze(Object.defineProperty({__proto__:null,citation:HA,contact_email:$A,copyright:zA,default:UA,title:VA},Symbol.toStringTag,{value:"Module"}));var qA={map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}]};const{map_tile_server:ZA,map_tile_attribution:KA,map_tiles:WA}=qA;function JA(e,t){return Object.fromEntries((WA||[{label:"tile",server:ZA,attribution:KA}]).map(({server:i,attribution:a,label:s})=>[s,e.tileLayer(i,{...t,attribution:a})]))}function YA(e){const t=e?.querySelector(".leaflet-overlay-pane");if(!t||t.querySelector("#hatch-pattern"))return;const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","0px"),n.setAttribute("height","0px"),n.style.position="absolute";const i=document.createElementNS("http://www.w3.org/2000/svg","pattern");i.setAttribute("id","hatch-pattern"),i.setAttribute("patternUnits","userSpaceOnUse"),i.setAttribute("width","10"),i.setAttribute("height","10");const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("width","10"),a.setAttribute("height","10"),a.setAttribute("fill","rgb(var(--color-map-asserted-absent), .75)");const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1","0"),s.setAttribute("y1","0"),s.setAttribute("x2","10"),s.setAttribute("y2","10"),s.setAttribute("stroke","rgb(var(--color-map-asserted-absent))"),s.setAttribute("stroke-width","2"),i.appendChild(a),i.appendChild(s);const u=document.createElementNS("http://www.w3.org/2000/svg","defs");u.appendChild(i),n.insertBefore(u,n.firstChild),t.appendChild(n)}var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ea={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var QA=Ea.exports,vm;function e2(){return vm||(vm=1,function(e,t){(function(n,i){i(t)})(QA,function(n){var i="1.9.4";function a(r){var c,p,v,M;for(p=1,v=arguments.length;p<v;p++){M=arguments[p];for(c in M)r[c]=M[c]}return r}var s=Object.create||function(){function r(){}return function(c){return r.prototype=c,new r}}();function u(r,c){var p=Array.prototype.slice;if(r.bind)return r.bind.apply(r,p.call(arguments,1));var v=p.call(arguments,2);return function(){return r.apply(c,v.length?v.concat(p.call(arguments)):arguments)}}var h=0;function m(r){return"_leaflet_id"in r||(r._leaflet_id=++h),r._leaflet_id}function g(r,c,p){var v,M,D,ee;return ee=function(){v=!1,M&&(D.apply(p,M),M=!1)},D=function(){v?M=arguments:(r.apply(p,arguments),setTimeout(ee,c),v=!0)},D}function y(r,c,p){var v=c[1],M=c[0],D=v-M;return r===v&&p?r:((r-M)%D+D)%D+M}function x(){return!1}function T(r,c){if(c===!1)return r;var p=Math.pow(10,c===void 0?6:c);return Math.round(r*p)/p}function E(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function S(r){return E(r).split(/\s+/)}function P(r,c){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?s(r.options):{});for(var p in c)r.options[p]=c[p];return r.options}function U(r,c,p){var v=[];for(var M in r)v.push(encodeURIComponent(p?M.toUpperCase():M)+"="+encodeURIComponent(r[M]));return(!c||c.indexOf("?")===-1?"?":"&")+v.join("&")}var X=/\{ *([\w_ -]+) *\}/g;function Q(r,c){return r.replace(X,function(p,v){var M=c[v];if(M===void 0)throw new Error("No value provided for variable "+p);return typeof M=="function"&&(M=M(c)),M})}var $=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function W(r,c){for(var p=0;p<r.length;p++)if(r[p]===c)return p;return-1}var oe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ce(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var be=0;function Fe(r){var c=+new Date,p=Math.max(0,16-(c-be));return be=c+p,window.setTimeout(r,p)}var Ee=window.requestAnimationFrame||Ce("RequestAnimationFrame")||Fe,Pe=window.cancelAnimationFrame||Ce("CancelAnimationFrame")||Ce("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function ze(r,c,p){if(p&&Ee===Fe)r.call(c);else return Ee.call(window,u(r,c))}function Be(r){r&&Pe.call(window,r)}var rt={__proto__:null,extend:a,create:s,bind:u,get lastId(){return h},stamp:m,throttle:g,wrapNum:y,falseFn:x,formatNum:T,trim:E,splitWords:S,setOptions:P,getParamString:U,template:Q,isArray:$,indexOf:W,emptyImageUrl:oe,requestFn:Ee,cancelFn:Pe,requestAnimFrame:ze,cancelAnimFrame:Be};function mt(){}mt.extend=function(r){var c=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,v=s(p);v.constructor=c,c.prototype=v;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(c[M]=this[M]);return r.statics&&a(c,r.statics),r.includes&&(Ye(r.includes),a.apply(null,[v].concat(r.includes))),a(v,r),delete v.statics,delete v.includes,v.options&&(v.options=p.options?s(p.options):{},a(v.options,r.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,ee=v._initHooks.length;D<ee;D++)v._initHooks[D].call(this)}},c},mt.include=function(r){var c=this.prototype.options;return a(this.prototype,r),r.options&&(this.prototype.options=c,this.mergeOptions(r.options)),this},mt.mergeOptions=function(r){return a(this.prototype.options,r),this},mt.addInitHook=function(r){var c=Array.prototype.slice.call(arguments,1),p=typeof r=="function"?r:function(){this[r].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Ye(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=$(r)?r:[r];for(var c=0;c<r.length;c++)r[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ue={on:function(r,c,p){if(typeof r=="object")for(var v in r)this._on(v,r[v],c);else{r=S(r);for(var M=0,D=r.length;M<D;M++)this._on(r[M],c,p)}return this},off:function(r,c,p){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var v in r)this._off(v,r[v],c);else{r=S(r);for(var M=arguments.length===1,D=0,ee=r.length;D<ee;D++)M?this._off(r[D]):this._off(r[D],c,p)}return this},_on:function(r,c,p,v){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(r,c,p)===!1){p===this&&(p=void 0);var M={fn:c,ctx:p};v&&(M.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(M)}},_off:function(r,c,p){var v,M,D;if(this._events&&(v=this._events[r],!!v)){if(arguments.length===1){if(this._firingCount)for(M=0,D=v.length;M<D;M++)v[M].fn=x;delete this._events[r];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var ee=this._listens(r,c,p);if(ee!==!1){var ce=v[ee];this._firingCount&&(ce.fn=x,this._events[r]=v=v.slice()),v.splice(ee,1)}}},fire:function(r,c,p){if(!this.listens(r,p))return this;var v=a({},c,{type:r,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var M=this._events[r];if(M){this._firingCount=this._firingCount+1||1;for(var D=0,ee=M.length;D<ee;D++){var ce=M[D],xe=ce.fn;ce.once&&this.off(r,xe,ce.ctx),xe.call(ce.ctx||this,v)}this._firingCount--}}return p&&this._propagateEvent(v),this},listens:function(r,c,p,v){typeof r!="string"&&console.warn('"string" type argument expected');var M=c;typeof c!="function"&&(v=!!c,M=void 0,p=void 0);var D=this._events&&this._events[r];if(D&&D.length&&this._listens(r,M,p)!==!1)return!0;if(v){for(var ee in this._eventParents)if(this._eventParents[ee].listens(r,c,p,v))return!0}return!1},_listens:function(r,c,p){if(!this._events)return!1;var v=this._events[r]||[];if(!c)return!!v.length;p===this&&(p=void 0);for(var M=0,D=v.length;M<D;M++)if(v[M].fn===c&&v[M].ctx===p)return M;return!1},once:function(r,c,p){if(typeof r=="object")for(var v in r)this._on(v,r[v],c,!0);else{r=S(r);for(var M=0,D=r.length;M<D;M++)this._on(r[M],c,p,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[m(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[m(r)],this},_propagateEvent:function(r){for(var c in this._eventParents)this._eventParents[c].fire(r.type,a({layer:r.target,propagatedFrom:r.target},r),!0)}};Ue.addEventListener=Ue.on,Ue.removeEventListener=Ue.clearAllEventListeners=Ue.off,Ue.addOneTimeEventListener=Ue.once,Ue.fireEvent=Ue.fire,Ue.hasEventListeners=Ue.listens;var ot=mt.extend(Ue);function Ae(r,c,p){this.x=p?Math.round(r):r,this.y=p?Math.round(c):c}var Ut=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};Ae.prototype={clone:function(){return new Ae(this.x,this.y)},add:function(r){return this.clone()._add(lt(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(lt(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new Ae(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new Ae(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ut(this.x),this.y=Ut(this.y),this},distanceTo:function(r){r=lt(r);var c=r.x-this.x,p=r.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(r){return r=lt(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=lt(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function lt(r,c,p){return r instanceof Ae?r:$(r)?new Ae(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new Ae(r.x,r.y):new Ae(r,c,p)}function wt(r,c){if(r)for(var p=c?[r,c]:r,v=0,M=p.length;v<M;v++)this.extend(p[v])}wt.prototype={extend:function(r){var c,p;if(!r)return this;if(r instanceof Ae||typeof r[0]=="number"||"x"in r)c=p=lt(r);else if(r=At(r),c=r.min,p=r.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(r){return lt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return lt(this.min.x,this.max.y)},getTopRight:function(){return lt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var c,p;return typeof r[0]=="number"||r instanceof Ae?r=lt(r):r=At(r),r instanceof wt?(c=r.min,p=r.max):c=p=r,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(r){r=At(r);var c=this.min,p=this.max,v=r.min,M=r.max,D=M.x>=c.x&&v.x<=p.x,ee=M.y>=c.y&&v.y<=p.y;return D&&ee},overlaps:function(r){r=At(r);var c=this.min,p=this.max,v=r.min,M=r.max,D=M.x>c.x&&v.x<p.x,ee=M.y>c.y&&v.y<p.y;return D&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var c=this.min,p=this.max,v=Math.abs(c.x-p.x)*r,M=Math.abs(c.y-p.y)*r;return At(lt(c.x-v,c.y-M),lt(p.x+v,p.y+M))},equals:function(r){return r?(r=At(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function At(r,c){return!r||r instanceof wt?r:new wt(r,c)}function en(r,c){if(r)for(var p=c?[r,c]:r,v=0,M=p.length;v<M;v++)this.extend(p[v])}en.prototype={extend:function(r){var c=this._southWest,p=this._northEast,v,M;if(r instanceof Ot)v=r,M=r;else if(r instanceof en){if(v=r._southWest,M=r._northEast,!v||!M)return this}else return r?this.extend(vt(r)||jt(r)):this;return!c&&!p?(this._southWest=new Ot(v.lat,v.lng),this._northEast=new Ot(M.lat,M.lng)):(c.lat=Math.min(v.lat,c.lat),c.lng=Math.min(v.lng,c.lng),p.lat=Math.max(M.lat,p.lat),p.lng=Math.max(M.lng,p.lng)),this},pad:function(r){var c=this._southWest,p=this._northEast,v=Math.abs(c.lat-p.lat)*r,M=Math.abs(c.lng-p.lng)*r;return new en(new Ot(c.lat-v,c.lng-M),new Ot(p.lat+v,p.lng+M))},getCenter:function(){return new Ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Ot||"lat"in r?r=vt(r):r=jt(r);var c=this._southWest,p=this._northEast,v,M;return r instanceof en?(v=r.getSouthWest(),M=r.getNorthEast()):v=M=r,v.lat>=c.lat&&M.lat<=p.lat&&v.lng>=c.lng&&M.lng<=p.lng},intersects:function(r){r=jt(r);var c=this._southWest,p=this._northEast,v=r.getSouthWest(),M=r.getNorthEast(),D=M.lat>=c.lat&&v.lat<=p.lat,ee=M.lng>=c.lng&&v.lng<=p.lng;return D&&ee},overlaps:function(r){r=jt(r);var c=this._southWest,p=this._northEast,v=r.getSouthWest(),M=r.getNorthEast(),D=M.lat>c.lat&&v.lat<p.lat,ee=M.lng>c.lng&&v.lng<p.lng;return D&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,c){return r?(r=jt(r),this._southWest.equals(r.getSouthWest(),c)&&this._northEast.equals(r.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function jt(r,c){return r instanceof en?r:new en(r,c)}function Ot(r,c,p){if(isNaN(r)||isNaN(c))throw new Error("Invalid LatLng object: ("+r+", "+c+")");this.lat=+r,this.lng=+c,p!==void 0&&(this.alt=+p)}Ot.prototype={equals:function(r,c){if(!r)return!1;r=vt(r);var p=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return p<=(c===void 0?1e-9:c)},toString:function(r){return"LatLng("+T(this.lat,r)+", "+T(this.lng,r)+")"},distanceTo:function(r){return We.distance(this,vt(r))},wrap:function(){return We.wrapLatLng(this)},toBounds:function(r){var c=180*r/40075017,p=c/Math.cos(Math.PI/180*this.lat);return jt([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Ot(this.lat,this.lng,this.alt)}};function vt(r,c,p){return r instanceof Ot?r:$(r)&&typeof r[0]!="object"?r.length===3?new Ot(r[0],r[1],r[2]):r.length===2?new Ot(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Ot(r.lat,"lng"in r?r.lng:r.lon,r.alt):c===void 0?null:new Ot(r,c,p)}var Te={latLngToPoint:function(r,c){var p=this.projection.project(r),v=this.scale(c);return this.transformation._transform(p,v)},pointToLatLng:function(r,c){var p=this.scale(c),v=this.transformation.untransform(r,p);return this.projection.unproject(v)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(r),v=this.transformation.transform(c.min,p),M=this.transformation.transform(c.max,p);return new wt(v,M)},infinite:!1,wrapLatLng:function(r){var c=this.wrapLng?y(r.lng,this.wrapLng,!0):r.lng,p=this.wrapLat?y(r.lat,this.wrapLat,!0):r.lat,v=r.alt;return new Ot(p,c,v)},wrapLatLngBounds:function(r){var c=r.getCenter(),p=this.wrapLatLng(c),v=c.lat-p.lat,M=c.lng-p.lng;if(v===0&&M===0)return r;var D=r.getSouthWest(),ee=r.getNorthEast(),ce=new Ot(D.lat-v,D.lng-M),xe=new Ot(ee.lat-v,ee.lng-M);return new en(ce,xe)}},We=a({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(r,c){var p=Math.PI/180,v=r.lat*p,M=c.lat*p,D=Math.sin((c.lat-r.lat)*p/2),ee=Math.sin((c.lng-r.lng)*p/2),ce=D*D+Math.cos(v)*Math.cos(M)*ee*ee,xe=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*xe}}),Ze=6378137,st={R:Ze,MAX_LATITUDE:85.0511287798,project:function(r){var c=Math.PI/180,p=this.MAX_LATITUDE,v=Math.max(Math.min(p,r.lat),-p),M=Math.sin(v*c);return new Ae(this.R*r.lng*c,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(r){var c=180/Math.PI;return new Ot((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*c,r.x*c/this.R)},bounds:function(){var r=Ze*Math.PI;return new wt([-r,-r],[r,r])}()};function Rt(r,c,p,v){if($(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=c,this._c=p,this._d=v}Rt.prototype={transform:function(r,c){return this._transform(r.clone(),c)},_transform:function(r,c){return c=c||1,r.x=c*(this._a*r.x+this._b),r.y=c*(this._c*r.y+this._d),r},untransform:function(r,c){return c=c||1,new Ae((r.x/c-this._b)/this._a,(r.y/c-this._d)/this._c)}};function zt(r,c,p,v){return new Rt(r,c,p,v)}var K=a({},We,{code:"EPSG:3857",projection:st,transformation:function(){var r=.5/(Math.PI*st.R);return zt(r,.5,-r,.5)}()}),te=a({},K,{code:"EPSG:900913"});function ye(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ne(r,c){var p="",v,M,D,ee,ce,xe;for(v=0,D=r.length;v<D;v++){for(ce=r[v],M=0,ee=ce.length;M<ee;M++)xe=ce[M],p+=(M?"L":"M")+xe.x+" "+xe.y;p+=c?ct.svg?"z":"x":""}return p||"M0 0"}var Se=document.documentElement.style,je="ActiveXObject"in window,Ke=je&&!document.addEventListener,qe="msLaunchUri"in navigator&&!("documentMode"in document),Ge=dr("webkit"),$e=dr("android"),ht=dr("android 2")||dr("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ut=$e&&dr("Google")&&Xe<537&&!("AudioNode"in window),_t=!!window.opera,Pt=!qe&&dr("chrome"),Gt=dr("gecko")&&!Ge&&!_t&&!je,Ft=!Pt&&dr("safari"),yn=dr("phantom"),pn="OTransition"in Se,vn=navigator.platform.indexOf("Win")===0,En=je&&"transition"in Se,gr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ht,Br="MozPerspective"in Se,Mn=!window.L_DISABLE_3D&&(En||gr||Br)&&!pn&&!yn,bn=typeof orientation<"u"||dr("mobile"),Oo=bn&&Ge,Ro=bn&&gr,Fs=!window.PointerEvent&&window.MSPointerEvent,_l=!!(window.PointerEvent||Fs),gl="ontouchstart"in window||!!window.TouchEvent,gc=!window.L_NO_TOUCH&&(gl||_l),yc=bn&&_t,yl=bn&&Gt,vl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vc=function(){var r=!1;try{var c=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",x,c),window.removeEventListener("testPassiveEventSupport",x,c)}catch{}return r}(),bc=function(){return!!document.createElement("canvas").getContext}(),Ns=!!(document.createElementNS&&ye("svg").createSVGRect),bl=!!Ns&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xc=!Ns&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var c=r.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),wc=navigator.platform.indexOf("Mac")===0,Lc=navigator.platform.indexOf("Linux")===0;function dr(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var ct={ie:je,ielt9:Ke,edge:qe,webkit:Ge,android:$e,android23:ht,androidStock:ut,opera:_t,chrome:Pt,gecko:Gt,safari:Ft,phantom:yn,opera12:pn,win:vn,ie3d:En,webkit3d:gr,gecko3d:Br,any3d:Mn,mobile:bn,mobileWebkit:Oo,mobileWebkit3d:Ro,msPointer:Fs,pointer:_l,touch:gc,touchNative:gl,mobileOpera:yc,mobileGecko:yl,retina:vl,passiveEvents:vc,canvas:bc,svg:Ns,vml:xc,inlineSvg:bl,mac:wc,linux:Lc},xl=ct.msPointer?"MSPointerDown":"pointerdown",wl=ct.msPointer?"MSPointerMove":"pointermove",Vs=ct.msPointer?"MSPointerUp":"pointerup",Ll=ct.msPointer?"MSPointerCancel":"pointercancel",$s={touchstart:xl,touchmove:wl,touchend:Vs,touchcancel:Ll},Cl={touchstart:Tc,touchmove:Io,touchend:Io,touchcancel:Io},Ti={},kl=!1;function Cc(r,c,p){return c==="touchstart"&&zs(),Cl[c]?(p=Cl[c].bind(this,p),r.addEventListener($s[c],p,!1),p):(console.warn("wrong event specified:",c),x)}function kc(r,c,p){if(!$s[c]){console.warn("wrong event specified:",c);return}r.removeEventListener($s[c],p,!1)}function Ec(r){Ti[r.pointerId]=r}function Mc(r){Ti[r.pointerId]&&(Ti[r.pointerId]=r)}function Do(r){delete Ti[r.pointerId]}function zs(){kl||(document.addEventListener(xl,Ec,!0),document.addEventListener(wl,Mc,!0),document.addEventListener(Vs,Do,!0),document.addEventListener(Ll,Do,!0),kl=!0)}function Io(r,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Ti)c.touches.push(Ti[p]);c.changedTouches=[c],r(c)}}function Tc(r,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&wn(c),Io(r,c)}function Sc(r){var c={},p,v;for(v in r)p=r[v],c[v]=p&&p.bind?p.bind(r):p;return r=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Pc=200;function Bc(r,c){r.addEventListener("dblclick",c);var p=0,v;function M(D){if(D.detail!==1){v=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var ee=Pl(D);if(!(ee.some(function(xe){return xe instanceof HTMLLabelElement&&xe.attributes.for})&&!ee.some(function(xe){return xe instanceof HTMLInputElement||xe instanceof HTMLSelectElement}))){var ce=Date.now();ce-p<=Pc?(v++,v===2&&c(Sc(D))):v=1,p=ce}}}return r.addEventListener("click",M),{dblclick:c,simDblclick:M}}function Ac(r,c){r.removeEventListener("dblclick",c.dblclick),r.removeEventListener("click",c.simDblclick)}var Hs=Fo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yi=Fo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),El=Yi==="webkitTransition"||Yi==="OTransition"?Yi+"End":"transitionend";function Ml(r){return typeof r=="string"?document.getElementById(r):r}function Hr(r,c){var p=r.style[c]||r.currentStyle&&r.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(r,null);p=v?v[c]:null}return p==="auto"?null:p}function Nt(r,c,p){var v=document.createElement(r);return v.className=c||"",p&&p.appendChild(v),v}function tn(r){var c=r.parentNode;c&&c.removeChild(r)}function Xi(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Si(r){var c=r.parentNode;c&&c.lastChild!==r&&c.appendChild(r)}function ri(r){var c=r.parentNode;c&&c.firstChild!==r&&c.insertBefore(r,c.firstChild)}function Us(r,c){if(r.classList!==void 0)return r.classList.contains(c);var p=jo(r);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function kt(r,c){if(r.classList!==void 0)for(var p=S(c),v=0,M=p.length;v<M;v++)r.classList.add(p[v]);else if(!Us(r,c)){var D=jo(r);Gs(r,(D?D+" ":"")+c)}}function ln(r,c){r.classList!==void 0?r.classList.remove(c):Gs(r,E((" "+jo(r)+" ").replace(" "+c+" "," ")))}function Gs(r,c){r.className.baseVal===void 0?r.className=c:r.className.baseVal=c}function jo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function rr(r,c){"opacity"in r.style?r.style.opacity=c:"filter"in r.style&&Oc(r,c)}function Oc(r,c){var p=!1,v="DXImageTransform.Microsoft.Alpha";try{p=r.filters.item(v)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):r.style.filter+=" progid:"+v+"(opacity="+c+")"}function Fo(r){for(var c=document.documentElement.style,p=0;p<r.length;p++)if(r[p]in c)return r[p];return!1}function ii(r,c,p){var v=c||new Ae(0,0);r.style[Hs]=(ct.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(p?" scale("+p+")":"")}function dn(r,c){r._leaflet_pos=c,ct.any3d?ii(r,c):(r.style.left=c.x+"px",r.style.top=c.y+"px")}function oi(r){return r._leaflet_pos||new Ae(0,0)}var Qi,eo,qs;if("onselectstart"in document)Qi=function(){Ct(window,"selectstart",wn)},eo=function(){Wt(window,"selectstart",wn)};else{var Pi=Fo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qi=function(){if(Pi){var r=document.documentElement.style;qs=r[Pi],r[Pi]="none"}},eo=function(){Pi&&(document.documentElement.style[Pi]=qs,qs=void 0)}}function Zs(){Ct(window,"dragstart",wn)}function Ks(){Wt(window,"dragstart",wn)}var No,Ws;function Js(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Vo(),No=r,Ws=r.style.outlineStyle,r.style.outlineStyle="none",Ct(window,"keydown",Vo))}function Vo(){No&&(No.style.outlineStyle=Ws,No=void 0,Ws=void 0,Wt(window,"keydown",Vo))}function Tl(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Ys(r){var c=r.getBoundingClientRect();return{x:c.width/r.offsetWidth||1,y:c.height/r.offsetHeight||1,boundingClientRect:c}}var Rc={__proto__:null,TRANSFORM:Hs,TRANSITION:Yi,TRANSITION_END:El,get:Ml,getStyle:Hr,create:Nt,remove:tn,empty:Xi,toFront:Si,toBack:ri,hasClass:Us,addClass:kt,removeClass:ln,setClass:Gs,getClass:jo,setOpacity:rr,testProp:Fo,setTransform:ii,setPosition:dn,getPosition:oi,get disableTextSelection(){return Qi},get enableTextSelection(){return eo},disableImageDrag:Zs,enableImageDrag:Ks,preventOutline:Js,restoreOutline:Vo,getSizedParentNode:Tl,getScale:Ys};function Ct(r,c,p,v){if(c&&typeof c=="object")for(var M in c)Qs(r,M,c[M],p);else{c=S(c);for(var D=0,ee=c.length;D<ee;D++)Qs(r,c[D],p,v)}return this}var yr="_leaflet_events";function Wt(r,c,p,v){if(arguments.length===1)Sl(r),delete r[yr];else if(c&&typeof c=="object")for(var M in c)Ur(r,M,c[M],p);else if(c=S(c),arguments.length===2)Sl(r,function(ce){return W(c,ce)!==-1});else for(var D=0,ee=c.length;D<ee;D++)Ur(r,c[D],p,v);return this}function Sl(r,c){for(var p in r[yr]){var v=p.split(/\d/)[0];(!c||c(v))&&Ur(r,v,null,null,p)}}var Xs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qs(r,c,p,v){var M=c+m(p)+(v?"_"+m(v):"");if(r[yr]&&r[yr][M])return this;var D=function(ce){return p.call(v||r,ce||window.event)},ee=D;!ct.touchNative&&ct.pointer&&c.indexOf("touch")===0?D=Cc(r,c,D):ct.touch&&c==="dblclick"?D=Bc(r,D):"addEventListener"in r?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?r.addEventListener(Xs[c]||c,D,ct.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(D=function(ce){ce=ce||window.event,ta(r,ce)&&ee(ce)},r.addEventListener(Xs[c],D,!1)):r.addEventListener(c,ee,!1):r.attachEvent("on"+c,D),r[yr]=r[yr]||{},r[yr][M]=D}function Ur(r,c,p,v,M){M=M||c+m(p)+(v?"_"+m(v):"");var D=r[yr]&&r[yr][M];if(!D)return this;!ct.touchNative&&ct.pointer&&c.indexOf("touch")===0?kc(r,c,D):ct.touch&&c==="dblclick"?Ac(r,D):"removeEventListener"in r?r.removeEventListener(Xs[c]||c,D,!1):r.detachEvent("on"+c,D),r[yr][M]=null}function si(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ea(r){return Qs(r,"wheel",si),this}function to(r){return Ct(r,"mousedown touchstart dblclick contextmenu",si),r._leaflet_disable_click=!0,this}function wn(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ai(r){return wn(r),si(r),this}function Pl(r){if(r.composedPath)return r.composedPath();for(var c=[],p=r.target;p;)c.push(p),p=p.parentNode;return c}function Bl(r,c){if(!c)return new Ae(r.clientX,r.clientY);var p=Ys(c),v=p.boundingClientRect;return new Ae((r.clientX-v.left)/p.x-c.clientLeft,(r.clientY-v.top)/p.y-c.clientTop)}var Dc=ct.linux&&ct.chrome?window.devicePixelRatio:ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Al(r){return ct.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Dc:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ta(r,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==r;)p=p.parentNode}catch{return!1}return p!==r}var $o={__proto__:null,on:Ct,off:Wt,stopPropagation:si,disableScrollPropagation:ea,disableClickPropagation:to,preventDefault:wn,stop:ai,getPropagationPath:Pl,getMousePosition:Bl,getWheelDelta:Al,isExternalTarget:ta,addListener:Ct,removeListener:Wt},Ol=ot.extend({run:function(r,c,p,v){this.stop(),this._el=r,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=oi(r),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ze(this._animate,this),this._step()},_step:function(r){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),r):(this._runFrame(1),this._complete())},_runFrame:function(r,c){var p=this._startPos.add(this._offset.multiplyBy(r));c&&p._round(),dn(this._el,p),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Dt=ot.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,c){c=P(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(vt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yi&&ct.any3d&&!ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,El,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),r=this._limitCenter(vt(r),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=a({animate:p.animate},p.zoom),p.pan=a({animate:p.animate,duration:p.duration},p.pan));var v=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,c,p.zoom):this._tryAnimatedPan(r,p.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(r,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(r,c){return this._loaded?this.setView(this.getCenter(),r,{zoom:c}):(this._zoom=r,this)},zoomIn:function(r,c){return r=r||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,c)},zoomOut:function(r,c){return r=r||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,c)},setZoomAround:function(r,c,p){var v=this.getZoomScale(c),M=this.getSize().divideBy(2),D=r instanceof Ae?r:this.latLngToContainerPoint(r),ee=D.subtract(M).multiplyBy(1-1/v),ce=this.containerPointToLatLng(M.add(ee));return this.setView(ce,c,{zoom:p})},_getBoundsCenterZoom:function(r,c){c=c||{},r=r.getBounds?r.getBounds():jt(r);var p=lt(c.paddingTopLeft||c.padding||[0,0]),v=lt(c.paddingBottomRight||c.padding||[0,0]),M=this.getBoundsZoom(r,!1,p.add(v));if(M=typeof c.maxZoom=="number"?Math.min(c.maxZoom,M):M,M===1/0)return{center:r.getCenter(),zoom:M};var D=v.subtract(p).divideBy(2),ee=this.project(r.getSouthWest(),M),ce=this.project(r.getNorthEast(),M),xe=this.unproject(ee.add(ce).divideBy(2).add(D),M);return{center:xe,zoom:M}},fitBounds:function(r,c){if(r=jt(r),!r.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(r,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,c){return this.setView(r,this._zoom,{pan:c})},panBy:function(r,c){if(r=lt(r).round(),c=c||{},!r.x&&!r.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ol,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){kt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,c,p){if(p=p||{},p.animate===!1||!ct.any3d)return this.setView(r,c,p);this._stop();var v=this.project(this.getCenter()),M=this.project(r),D=this.getSize(),ee=this._zoom;r=vt(r),c=c===void 0?ee:c;var ce=Math.max(D.x,D.y),xe=ce*this.getZoomScale(ee,c),Ie=M.distanceTo(v)||1,Qe=1.42,gt=Qe*Qe;function St(un){var co=un?-1:1,rd=un?xe:ce,Cr=xe*xe-ce*ce+co*gt*gt*Ie*Ie,id=2*rd*gt*Ie,ji=Cr/id,fa=Math.sqrt(ji*ji+1)-ji,od=fa<1e-9?-18:Math.log(fa);return od}function Dn(un){return(Math.exp(un)-Math.exp(-un))/2}function xn(un){return(Math.exp(un)+Math.exp(-un))/2}function Un(un){return Dn(un)/xn(un)}var rn=St(0);function Lr(un){return ce*(xn(rn)/xn(rn+Qe*un))}function ha(un){return ce*(xn(rn)*Un(rn+Qe*un)-Dn(rn))/gt}function ls(un){return 1-Math.pow(1-un,1.5)}var Kl=Date.now(),uo=(St(1)-rn)/Qe,nd=p.duration?1e3*p.duration:1e3*uo*.8;function Wl(){var un=(Date.now()-Kl)/nd,co=ls(un)*uo;un<=1?(this._flyToFrame=ze(Wl,this),this._move(this.unproject(v.add(M.subtract(v).multiplyBy(ha(co)/Ie)),ee),this.getScaleZoom(ce/Lr(co),ee),{flyTo:!0})):this._move(r,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Wl.call(this),this},flyToBounds:function(r,c){var p=this._getBoundsCenterZoom(r,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(r){return r=jt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var c=this.options.minZoom;return this.options.minZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var c=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,c){this._enforcingBounds=!0;var p=this.getCenter(),v=this._limitCenter(p,this._zoom,jt(r));return p.equals(v)||this.panTo(v,c),this._enforcingBounds=!1,this},panInside:function(r,c){c=c||{};var p=lt(c.paddingTopLeft||c.padding||[0,0]),v=lt(c.paddingBottomRight||c.padding||[0,0]),M=this.project(this.getCenter()),D=this.project(r),ee=this.getPixelBounds(),ce=At([ee.min.add(p),ee.max.subtract(v)]),xe=ce.getSize();if(!ce.contains(D)){this._enforcingBounds=!0;var Ie=D.subtract(ce.getCenter()),Qe=ce.extend(D).getSize().subtract(xe);M.x+=Ie.x<0?-Qe.x:Qe.x,M.y+=Ie.y<0?-Qe.y:Qe.y,this.panTo(this.unproject(M),c),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=a({animate:!1,pan:!0},r===!0?{animate:!0}:r);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),v=c.divideBy(2).round(),M=p.divideBy(2).round(),D=v.subtract(M);return!D.x&&!D.y?this:(r.animate&&r.pan?this.panBy(D):(r.pan&&this._rawPanBy(D),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=a({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=u(this._handleGeolocationResponse,this),p=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,r):navigator.geolocation.getCurrentPosition(c,p,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var c=r.code,p=r.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var c=r.coords.latitude,p=r.coords.longitude,v=new Ot(c,p),M=v.toBounds(r.coords.accuracy*2),D=this._locateOptions;if(D.setView){var ee=this.getBoundsZoom(M);this.setView(v,D.maxZoom?Math.min(ee,D.maxZoom):ee)}var ce={latlng:v,bounds:M,timestamp:r.timestamp};for(var xe in r.coords)typeof r.coords[xe]=="number"&&(ce[xe]=r.coords[xe]);this.fire("locationfound",ce)}},addHandler:function(r,c){if(!c)return this;var p=this[r]=new c(this);return this._handlers.push(p),this.options[r]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)tn(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,c){var p="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),v=Nt("div",p,c||this._mapPane);return r&&(this._panes[r]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),c=this.unproject(r.getBottomLeft()),p=this.unproject(r.getTopRight());return new en(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,c,p){r=jt(r),p=lt(p||[0,0]);var v=this.getZoom()||0,M=this.getMinZoom(),D=this.getMaxZoom(),ee=r.getNorthWest(),ce=r.getSouthEast(),xe=this.getSize().subtract(p),Ie=At(this.project(ce,v),this.project(ee,v)).getSize(),Qe=ct.any3d?this.options.zoomSnap:1,gt=xe.x/Ie.x,St=xe.y/Ie.y,Dn=c?Math.max(gt,St):Math.min(gt,St);return v=this.getScaleZoom(Dn,v),Qe&&(v=Math.round(v/(Qe/100))*(Qe/100),v=c?Math.ceil(v/Qe)*Qe:Math.floor(v/Qe)*Qe),Math.max(M,Math.min(D,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,c){var p=this._getTopLeftPoint(r,c);return new wt(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(r)/p.scale(c)},getScaleZoom:function(r,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var v=p.zoom(r*p.scale(c));return isNaN(v)?1/0:v},project:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(vt(r),c)},unproject:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(lt(r),c)},layerPointToLatLng:function(r){var c=lt(r).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(r){var c=this.project(vt(r))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(vt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(jt(r))},distance:function(r,c){return this.options.crs.distance(vt(r),vt(c))},containerPointToLayerPoint:function(r){return lt(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return lt(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var c=this.containerPointToLayerPoint(lt(r));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(vt(r)))},mouseEventToContainerPoint:function(r){return Bl(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var c=this._container=Ml(r);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(c,"scroll",this._onScroll,this),this._containerId=m(c)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&ct.any3d,kt(r,"leaflet-container"+(ct.touch?" leaflet-touch":"")+(ct.retina?" leaflet-retina":"")+(ct.ielt9?" leaflet-oldie":"")+(ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Hr(r,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dn(this._mapPane,new Ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(kt(r.markerPane,"leaflet-zoom-hide"),kt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,c,p){dn(this._mapPane,new Ae(0,0));var v=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var M=this._zoom!==c;this._moveStart(M,p)._move(r,c)._moveEnd(M),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(r,c){return r&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(r,c,p,v){c===void 0&&(c=this._zoom);var M=this._zoom!==c;return this._zoom=c,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),v?p&&p.pinch&&this.fire("zoom",p):((M||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){dn(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[m(this._container)]=this;var c=r?Wt:Ct;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),ct.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=ze(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,c){for(var p=[],v,M=c==="mouseout"||c==="mouseover",D=r.target||r.srcElement,ee=!1;D;){if(v=this._targets[m(D)],v&&(c==="click"||c==="preclick")&&this._draggableMoved(v)){ee=!0;break}if(v&&v.listens(c,!0)&&(M&&!ta(D,r)||(p.push(v),M))||D===this._container)break;D=D.parentNode}return!p.length&&!ee&&!M&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var c=r.target||r.srcElement;if(!(!this._loaded||c._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(c))){var p=r.type;p==="mousedown"&&Js(c),this._fireDOMEvent(r,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,c,p){if(r.type==="click"){var v=a({},r);v.type="preclick",this._fireDOMEvent(v,v.type,p)}var M=this._findEventTargets(r,c);if(p){for(var D=[],ee=0;ee<p.length;ee++)p[ee].listens(c,!0)&&D.push(p[ee]);M=D.concat(M)}if(M.length){c==="contextmenu"&&wn(r);var ce=M[0],xe={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Ie=ce.getLatLng&&(!ce._radius||ce._radius<=10);xe.containerPoint=Ie?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(r),xe.layerPoint=this.containerPointToLayerPoint(xe.containerPoint),xe.latlng=Ie?ce.getLatLng():this.layerPointToLatLng(xe.layerPoint)}for(ee=0;ee<M.length;ee++)if(M[ee].fire(c,xe,!0),xe.originalEvent._stopped||M[ee].options.bubblingMouseEvents===!1&&W(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,c=this._handlers.length;r<c;r++)this._handlers[r].disable()},whenReady:function(r,c){return this._loaded?r.call(c||this,{target:this}):this.on("load",r,c),this},_getMapPanePos:function(){return oi(this._mapPane)||new Ae(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,c){var p=r&&c!==void 0?this._getNewPixelOrigin(r,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,c){var p=this.getSize()._divideBy(2);return this.project(r,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,c,p){var v=this._getNewPixelOrigin(p,c);return this.project(r,c)._subtract(v)},_latLngBoundsToNewLayerBounds:function(r,c,p){var v=this._getNewPixelOrigin(p,c);return At([this.project(r.getSouthWest(),c)._subtract(v),this.project(r.getNorthWest(),c)._subtract(v),this.project(r.getSouthEast(),c)._subtract(v),this.project(r.getNorthEast(),c)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,c,p){if(!p)return r;var v=this.project(r,c),M=this.getSize().divideBy(2),D=new wt(v.subtract(M),v.add(M)),ee=this._getBoundsOffset(D,p,c);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?r:this.unproject(v.add(ee),c)},_limitOffset:function(r,c){if(!c)return r;var p=this.getPixelBounds(),v=new wt(p.min.add(r),p.max.add(r));return r.add(this._getBoundsOffset(v,c))},_getBoundsOffset:function(r,c,p){var v=At(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),M=v.min.subtract(r.min),D=v.max.subtract(r.max),ee=this._rebound(M.x,-D.x),ce=this._rebound(M.y,-D.y);return new Ae(ee,ce)},_rebound:function(r,c){return r+c>0?Math.round(r-c)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(c))},_limitZoom:function(r){var c=this.getMinZoom(),p=this.getMaxZoom(),v=ct.any3d?this.options.zoomSnap:1;return v&&(r=Math.round(r/v)*v),Math.max(c,Math.min(p,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ln(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,c){var p=this._getCenterOffset(r)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var r=this._proxy=Nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(c){var p=Hs,v=this._proxy.style[p];ii(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),v===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),c=this.getZoom();ii(this._proxy,this.project(r,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(c),M=this._getCenterOffset(r)._divideBy(1-1/v);return p.animate!==!0&&!this.getSize().contains(M)?!1:(ze(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(r,c,!0)},this),!0)},_animateZoom:function(r,c,p,v){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=c,kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:c,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ln(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rl(r,c){return new Dt(r,c)}var Lt=mt.extend({options:{position:"topright"},initialize:function(r){P(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var c=this._map;return c&&c.removeControl(this),this.options.position=r,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var c=this._container=this.onAdd(r),p=this.getPosition(),v=r._controlCorners[p];return kt(c,"leaflet-control"),p.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),li=function(r){return new Lt(r)};Dt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},c="leaflet-",p=this._controlContainer=Nt("div",c+"control-container",this._container);function v(M,D){var ee=c+M+" "+c+D;r[M+D]=Nt("div",ee,p)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)tn(this._controlCorners[r]);tn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var no=Lt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,c,p,v){return p<v?-1:v<p?1:0}},initialize:function(r,c,p){P(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in r)this._addLayer(r[v],v);for(v in c)this._addLayer(c[v],v,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Lt.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,c){return this._addLayer(r,c),this._map?this._update():this},addOverlay:function(r,c){return this._addLayer(r,c,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var c=this._getLayer(m(r));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ln(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ln(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",c=this._container=Nt("div",r),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),to(c),ea(c);var v=this._section=Nt("section",r+"-list");p&&(this._map.on("click",this.collapse,this),Ct(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=Nt("a",r+"-toggle",c);M.href="#",M.title="Layers",M.setAttribute("role","button"),Ct(M,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){wn(D),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Nt("div",r+"-base",v),this._separator=Nt("div",r+"-separator",v),this._overlaysList=Nt("div",r+"-overlays",v),c.appendChild(v)},_getLayer:function(r){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&m(this._layers[c].layer)===r)return this._layers[c]},_addLayer:function(r,c,p){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(u(function(v,M){return this.options.sortFunction(v.layer,M.layer,v.name,M.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xi(this._baseLayersList),Xi(this._overlaysList),this._layerControlInputs=[];var r,c,p,v,M=0;for(p=0;p<this._layers.length;p++)v=this._layers[p],this._addItem(v),c=c||v.overlay,r=r||!v.overlay,M+=v.overlay?0:1;return this.options.hideSingleBase&&(r=r&&M>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=c&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var c=this._getLayer(m(r.target)),p=c.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(r,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(c?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=p,v.firstChild},_addItem:function(r){var c=document.createElement("label"),p=this._map.hasLayer(r.layer),v;r.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=p):v=this._createRadioElement("leaflet-base-layers_"+m(this),p),this._layerControlInputs.push(v),v.layerId=m(r.layer),Ct(v,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+r.name;var D=document.createElement("span");c.appendChild(D),D.appendChild(v),D.appendChild(M);var ee=r.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,c,p,v=[],M=[];this._handlingClick=!0;for(var D=r.length-1;D>=0;D--)c=r[D],p=this._getLayer(c.layerId).layer,c.checked?v.push(p):c.checked||M.push(p);for(D=0;D<M.length;D++)this._map.hasLayer(M[D])&&this._map.removeLayer(M[D]);for(D=0;D<v.length;D++)this._map.hasLayer(v[D])||this._map.addLayer(v[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,c,p,v=this._map.getZoom(),M=r.length-1;M>=0;M--)c=r[M],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&v<p.options.minZoom||p.options.maxZoom!==void 0&&v>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Ct(r,"click",wn),this.expand();var c=this;setTimeout(function(){Wt(r,"click",wn),c._preventClick=!1})}}),Ic=function(r,c,p){return new no(r,c,p)},zo=Lt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var c="leaflet-control-zoom",p=Nt("div",c+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,c,p,v,M){var D=Nt("a",p,v);return D.innerHTML=r,D.href="#",D.title=c,D.setAttribute("role","button"),D.setAttribute("aria-label",c),to(D),Ct(D,"click",ai),Ct(D,"click",M,this),Ct(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var r=this._map,c="leaflet-disabled";ln(this._zoomInButton,c),ln(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(kt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(kt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Dt.mergeOptions({zoomControl:!0}),Dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zo,this.addControl(this.zoomControl))});var jc=function(r){return new zo(r)},Ho=Lt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var c="leaflet-control-scale",p=Nt("div",c),v=this.options;return this._addScales(v,c+"-line",p),r.on(v.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),p},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,c,p){r.metric&&(this._mScale=Nt("div",c,p)),r.imperial&&(this._iScale=Nt("div",c,p))},_update:function(){var r=this._map,c=r.getSize().y/2,p=r.distance(r.containerPointToLatLng([0,c]),r.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var c=this._getRoundNum(r),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/r)},_updateImperial:function(r){var c=r*3.2808399,p,v,M;c>5280?(p=c/5280,v=this._getRoundNum(p),this._updateScale(this._iScale,v+" mi",v/p)):(M=this._getRoundNum(c),this._updateScale(this._iScale,M+" ft",M/c))},_updateScale:function(r,c,p){r.style.width=Math.round(this.options.maxWidth*p)+"px",r.innerHTML=c},_getRoundNum:function(r){var c=Math.pow(10,(Math.floor(r)+"").length-1),p=r/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Uo=function(r){return new Ho(r)},Fc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vr=Lt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ct.inlineSvg?Fc+" ":"")+"Leaflet</a>"},initialize:function(r){P(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Nt("div","leaflet-control-attribution"),to(this._container);for(var c in r._layers)r._layers[c].getAttribution&&this.addAttribution(r._layers[c].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var c in this._attributions)this._attributions[c]&&r.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),r.length&&p.push(r.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Dt.mergeOptions({attributionControl:!0}),Dt.addInitHook(function(){this.options.attributionControl&&new vr().addTo(this)});var Dl=function(r){return new vr(r)};Lt.Layers=no,Lt.Zoom=zo,Lt.Scale=Ho,Lt.Attribution=vr,li.layers=Ic,li.zoom=jc,li.scale=Uo,li.attribution=Dl;var An=mt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});An.addTo=function(r,c){return r.addHandler(c,this),this};var Nc={Events:Ue},Il=ct.touch?"touchstart mousedown":"mousedown",Gr=ot.extend({options:{clickTolerance:3},initialize:function(r,c,p,v){P(this,v),this._element=r,this._dragStartTarget=c||r,this._preventOutline=p},enable:function(){this._enabled||(Ct(this._dragStartTarget,Il,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gr._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,Il,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Us(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Gr._dragging===this&&this.finishDrag();return}if(!(Gr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Gr._dragging=this,this._preventOutline&&Js(this._element),Zs(),Qi(),!this._moving)){this.fire("down");var c=r.touches?r.touches[0]:r,p=Tl(this._element);this._startPoint=new Ae(c.clientX,c.clientY),this._startPos=oi(this._element),this._parentScale=Ys(p);var v=r.type==="mousedown";Ct(document,v?"mousemove":"touchmove",this._onMove,this),Ct(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var c=r.touches&&r.touches.length===1?r.touches[0]:r,p=new Ae(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,wn(r),this._moved||(this.fire("dragstart"),this._moved=!0,kt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),dn(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ln(document.body,"leaflet-dragging"),this._lastTarget&&(ln(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),Ks(),eo();var c=this._moved&&this._moving;this._moving=!1,Gr._dragging=!1,c&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function jl(r,c,p){var v,M=[1,4,2,8],D,ee,ce,xe,Ie,Qe,gt,St;for(D=0,Qe=r.length;D<Qe;D++)r[D]._code=zn(r[D],c);for(ce=0;ce<4;ce++){for(gt=M[ce],v=[],D=0,Qe=r.length,ee=Qe-1;D<Qe;ee=D++)xe=r[D],Ie=r[ee],xe._code&gt?Ie._code&gt||(St=qr(Ie,xe,gt,c,p),St._code=zn(St,c),v.push(St)):(Ie._code&gt&&(St=qr(Ie,xe,gt,c,p),St._code=zn(St,c),v.push(St)),v.push(xe));r=v}return r}function Fl(r,c){var p,v,M,D,ee,ce,xe,Ie,Qe;if(!r||r.length===0)throw new Error("latlngs not passed");Hn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var gt=vt([0,0]),St=jt(r),Dn=St.getNorthWest().distanceTo(St.getSouthWest())*St.getNorthEast().distanceTo(St.getNorthWest());Dn<1700&&(gt=na(r));var xn=r.length,Un=[];for(p=0;p<xn;p++){var rn=vt(r[p]);Un.push(c.project(vt([rn.lat-gt.lat,rn.lng-gt.lng])))}for(ce=xe=Ie=0,p=0,v=xn-1;p<xn;v=p++)M=Un[p],D=Un[v],ee=M.y*D.x-D.y*M.x,xe+=(M.x+D.x)*ee,Ie+=(M.y+D.y)*ee,ce+=ee*3;ce===0?Qe=Un[0]:Qe=[xe/ce,Ie/ce];var Lr=c.unproject(lt(Qe));return vt([Lr.lat+gt.lat,Lr.lng+gt.lng])}function na(r){for(var c=0,p=0,v=0,M=0;M<r.length;M++){var D=vt(r[M]);c+=D.lat,p+=D.lng,v++}return vt([c/v,p/v])}var Vc={__proto__:null,clipPolygon:jl,polygonCenter:Fl,centroid:na};function Nl(r,c){if(!c||!r.length)return r.slice();var p=c*c;return r=Vl(r,p),r=Ln(r,p),r}function ra(r,c,p){return Math.sqrt(ro(r,c,p,!0))}function $c(r,c,p){return ro(r,c,p)}function Ln(r,c){var p=r.length,v=typeof Uint8Array<"u"?Uint8Array:Array,M=new v(p);M[0]=M[p-1]=1,Tn(r,M,c,0,p-1);var D,ee=[];for(D=0;D<p;D++)M[D]&&ee.push(r[D]);return ee}function Tn(r,c,p,v,M){var D=0,ee,ce,xe;for(ce=v+1;ce<=M-1;ce++)xe=ro(r[ce],r[v],r[M],!0),xe>D&&(ee=ce,D=xe);D>p&&(c[ee]=1,Tn(r,c,p,v,ee),Tn(r,c,p,ee,M))}function Vl(r,c){for(var p=[r[0]],v=1,M=0,D=r.length;v<D;v++)zc(r[v],r[M])>c&&(p.push(r[v]),M=v);return M<D-1&&p.push(r[D-1]),p}var ui;function ci(r,c,p,v,M){var D=v?ui:zn(r,p),ee=zn(c,p),ce,xe,Ie;for(ui=ee;;){if(!(D|ee))return[r,c];if(D&ee)return!1;ce=D||ee,xe=qr(r,c,ce,p,M),Ie=zn(xe,p),ce===D?(r=xe,D=Ie):(c=xe,ee=Ie)}}function qr(r,c,p,v,M){var D=c.x-r.x,ee=c.y-r.y,ce=v.min,xe=v.max,Ie,Qe;return p&8?(Ie=r.x+D*(xe.y-r.y)/ee,Qe=xe.y):p&4?(Ie=r.x+D*(ce.y-r.y)/ee,Qe=ce.y):p&2?(Ie=xe.x,Qe=r.y+ee*(xe.x-r.x)/D):p&1&&(Ie=ce.x,Qe=r.y+ee*(ce.x-r.x)/D),new Ae(Ie,Qe,M)}function zn(r,c){var p=0;return r.x<c.min.x?p|=1:r.x>c.max.x&&(p|=2),r.y<c.min.y?p|=4:r.y>c.max.y&&(p|=8),p}function zc(r,c){var p=c.x-r.x,v=c.y-r.y;return p*p+v*v}function ro(r,c,p,v){var M=c.x,D=c.y,ee=p.x-M,ce=p.y-D,xe=ee*ee+ce*ce,Ie;return xe>0&&(Ie=((r.x-M)*ee+(r.y-D)*ce)/xe,Ie>1?(M=p.x,D=p.y):Ie>0&&(M+=ee*Ie,D+=ce*Ie)),ee=r.x-M,ce=r.y-D,v?ee*ee+ce*ce:new Ae(M,D)}function Hn(r){return!$(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function ir(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Hn(r)}function ia(r,c){var p,v,M,D,ee,ce,xe,Ie;if(!r||r.length===0)throw new Error("latlngs not passed");Hn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Qe=vt([0,0]),gt=jt(r),St=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());St<1700&&(Qe=na(r));var Dn=r.length,xn=[];for(p=0;p<Dn;p++){var Un=vt(r[p]);xn.push(c.project(vt([Un.lat-Qe.lat,Un.lng-Qe.lng])))}for(p=0,v=0;p<Dn-1;p++)v+=xn[p].distanceTo(xn[p+1])/2;if(v===0)Ie=xn[0];else for(p=0,D=0;p<Dn-1;p++)if(ee=xn[p],ce=xn[p+1],M=ee.distanceTo(ce),D+=M,D>v){xe=(D-v)/M,Ie=[ce.x-xe*(ce.x-ee.x),ce.y-xe*(ce.y-ee.y)];break}var rn=c.unproject(lt(Ie));return vt([rn.lat+Qe.lat,rn.lng+Qe.lng])}var Go={__proto__:null,simplify:Nl,pointToSegmentDistance:ra,closestPointOnSegment:$c,clipSegment:ci,_getEdgeIntersection:qr,_getBitCode:zn,_sqClosestPointOnSegment:ro,isFlat:Hn,_flat:ir,polylineCenter:ia},oa={project:function(r){return new Ae(r.lng,r.lat)},unproject:function(r){return new Ot(r.y,r.x)},bounds:new wt([-180,-90],[180,90])},or={R:6378137,R_MINOR:6356752314245179e-9,bounds:new wt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var c=Math.PI/180,p=this.R,v=r.lat*c,M=this.R_MINOR/p,D=Math.sqrt(1-M*M),ee=D*Math.sin(v),ce=Math.tan(Math.PI/4-v/2)/Math.pow((1-ee)/(1+ee),D/2);return v=-p*Math.log(Math.max(ce,1e-10)),new Ae(r.lng*c*p,v)},unproject:function(r){for(var c=180/Math.PI,p=this.R,v=this.R_MINOR/p,M=Math.sqrt(1-v*v),D=Math.exp(-r.y/p),ee=Math.PI/2-2*Math.atan(D),ce=0,xe=.1,Ie;ce<15&&Math.abs(xe)>1e-7;ce++)Ie=M*Math.sin(ee),Ie=Math.pow((1-Ie)/(1+Ie),M/2),xe=Math.PI/2-2*Math.atan(D*Ie)-ee,ee+=xe;return new Ot(ee*c,r.x*c/p)}},br={__proto__:null,LonLat:oa,Mercator:or,SphericalMercator:st},qo=a({},We,{code:"EPSG:3395",projection:or,transformation:function(){var r=.5/(Math.PI*or.R);return zt(r,.5,-r,.5)}()}),sa=a({},We,{code:"EPSG:4326",projection:oa,transformation:zt(1/180,1,-1/180,.5)}),aa=a({},Te,{projection:oa,transformation:zt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,c){var p=c.lng-r.lng,v=c.lat-r.lat;return Math.sqrt(p*p+v*v)},infinite:!0});Te.Earth=We,Te.EPSG3395=qo,Te.EPSG3857=K,Te.EPSG900913=te,Te.EPSG4326=sa,Te.Simple=aa;var On=ot.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[m(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[m(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var c=r.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Dt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var c=m(r);return this._layers[c]?this:(this._layers[c]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var c=m(r);return this._layers[c]?(this._loaded&&r.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return m(r)in this._layers},eachLayer:function(r,c){for(var p in this._layers)r.call(c,this._layers[p]);return this},_addLayers:function(r){r=r?$(r)?r:[r]:[];for(var c=0,p=r.length;c<p;c++)this.addLayer(r[c])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[m(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var c=m(r);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,c=-1/0,p=this._getZoomSpan();for(var v in this._zoomBoundLayers){var M=this._zoomBoundLayers[v].options;r=M.minZoom===void 0?r:Math.min(r,M.minZoom),c=M.maxZoom===void 0?c:Math.max(c,M.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=r===1/0?void 0:r,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bi=On.extend({initialize:function(r,c){P(this,c),this._layers={};var p,v;if(r)for(p=0,v=r.length;p<v;p++)this.addLayer(r[p])},addLayer:function(r){var c=this.getLayerId(r);return this._layers[c]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var c=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(r){var c=typeof r=="number"?r:this.getLayerId(r);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var c=Array.prototype.slice.call(arguments,1),p,v;for(p in this._layers)v=this._layers[p],v[r]&&v[r].apply(v,c);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,c){for(var p in this._layers)r.call(c,this._layers[p]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return m(r)}}),Hc=function(r,c){return new Bi(r,c)},hr=Bi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Bi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Bi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new en;for(var c in this._layers){var p=this._layers[c];r.extend(p.getBounds?p.getBounds():p.getLatLng())}return r}}),Uc=function(r,c){return new hr(r,c)},Ai=mt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){P(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,c){var p=this._getIconUrl(r);if(!p){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(v,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(r,c){var p=this.options,v=p[c+"Size"];typeof v=="number"&&(v=[v,v]);var M=lt(v),D=lt(c==="shadow"&&p.shadowAnchor||p.iconAnchor||M&&M.divideBy(2,!0));r.className="leaflet-marker-"+c+" "+(p.className||""),D&&(r.style.marginLeft=-D.x+"px",r.style.marginTop=-D.y+"px"),M&&(r.style.width=M.x+"px",r.style.height=M.y+"px")},_createImg:function(r,c){return c=c||document.createElement("img"),c.src=r,c},_getIconUrl:function(r){return ct.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Gc(r){return new Ai(r)}var io=Ai.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof io.imagePath!="string"&&(io.imagePath=this._detectIconPath()),(this.options.imagePath||io.imagePath)+Ai.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var c=function(p,v,M){var D=v.exec(p);return D&&D[M]};return r=c(r,/^url\((['"])?(.+)\1\)$/,2),r&&c(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Nt("div","leaflet-default-icon-path",document.body),c=Hr(r,"background-image")||Hr(r,"backgroundImage");if(document.body.removeChild(r),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Zo=An.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Gr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),kt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ln(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var c=this._marker,p=c._map,v=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,D=oi(c._icon),ee=p.getPixelBounds(),ce=p.getPixelOrigin(),xe=At(ee.min._subtract(ce).add(M),ee.max._subtract(ce).subtract(M));if(!xe.contains(D)){var Ie=lt((Math.max(xe.max.x,D.x)-xe.max.x)/(ee.max.x-xe.max.x)-(Math.min(xe.min.x,D.x)-xe.min.x)/(ee.min.x-xe.min.x),(Math.max(xe.max.y,D.y)-xe.max.y)/(ee.max.y-xe.max.y)-(Math.min(xe.min.y,D.y)-xe.min.y)/(ee.min.y-xe.min.y)).multiplyBy(v);p.panBy(Ie,{animate:!1}),this._draggable._newPos._add(Ie),this._draggable._startPos._add(Ie),dn(c._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=ze(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=ze(this._adjustPan.bind(this,r)))},_onDrag:function(r){var c=this._marker,p=c._shadow,v=oi(c._icon),M=c._map.layerPointToLatLng(v);p&&dn(p,v),c._latlng=M,r.latlng=M,r.oldLatLng=this._oldLatLng,c.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ko=On.extend({options:{icon:new io,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,c){P(this,c),this._latlng=vt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var c=this._latlng;return this._latlng=vt(r),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=r.icon.createIcon(this._icon),v=!1;p!==this._icon&&(this._icon&&this._removeIcon(),v=!0,r.title&&(p.title=r.title),p.tagName==="IMG"&&(p.alt=r.alt||"")),kt(p,c),r.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(p,"focus",this._panOnFocus,this);var M=r.icon.createShadow(this._shadow),D=!1;M!==this._shadow&&(this._removeShadow(),D=!0),M&&(kt(M,c),M.alt=""),this._shadow=M,r.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&D&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),tn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tn(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&dn(this._icon,r),this._shadow&&dn(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zo)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zo(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&rr(this._icon,r),this._shadow&&rr(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var c=this.options.icon.options,p=c.iconSize?lt(c.iconSize):lt(0,0),v=c.iconAnchor?lt(c.iconAnchor):lt(0,0);r.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:p.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qc(r,c){return new Ko(r,c)}var Ar=On.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return P(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xr=Ar.extend({options:{fill:!0,radius:10},initialize:function(r,c){P(this,c),this._latlng=vt(r),this._radius=this.options.radius},setLatLng:function(r){var c=this._latlng;return this._latlng=vt(r),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var c=r&&r.radius||this._radius;return Ar.prototype.setStyle.call(this,r),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,c=this._radiusY||r,p=this._clickTolerance(),v=[r+p,c+p];this._pxBounds=new wt(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $l(r,c){return new xr(r,c)}var la=xr.extend({initialize:function(r,c,p){if(typeof c=="number"&&(c=a({},p,{radius:c})),P(this,c),this._latlng=vt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new en(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ar.prototype.setStyle,_project:function(){var r=this._latlng.lng,c=this._latlng.lat,p=this._map,v=p.options.crs;if(v.distance===We.distance){var M=Math.PI/180,D=this._mRadius/We.R/M,ee=p.project([c+D,r]),ce=p.project([c-D,r]),xe=ee.add(ce).divideBy(2),Ie=p.unproject(xe).lat,Qe=Math.acos((Math.cos(D*M)-Math.sin(c*M)*Math.sin(Ie*M))/(Math.cos(c*M)*Math.cos(Ie*M)))/M;(isNaN(Qe)||Qe===0)&&(Qe=D/Math.cos(Math.PI/180*c)),this._point=xe.subtract(p.getPixelOrigin()),this._radius=isNaN(Qe)?0:xe.x-p.project([Ie,r-Qe]).x,this._radiusY=xe.y-ee.y}else{var gt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(gt).x}this._updateBounds()}});function di(r,c,p){return new la(r,c,p)}var Or=Ar.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,c){P(this,c),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var c=1/0,p=null,v=ro,M,D,ee=0,ce=this._parts.length;ee<ce;ee++)for(var xe=this._parts[ee],Ie=1,Qe=xe.length;Ie<Qe;Ie++){M=xe[Ie-1],D=xe[Ie];var gt=v(r,M,D,!0);gt<c&&(c=gt,p=v(r,M,D))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ia(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,c){return c=c||this._defaultShape(),r=vt(r),c.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new en,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var c=[],p=Hn(r),v=0,M=r.length;v<M;v++)p?(c[v]=vt(r[v]),this._bounds.extend(c[v])):c[v]=this._convertLatLngs(r[v]);return c},_project:function(){var r=new wt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),c=new Ae(r,r);this._rawPxBounds&&(this._pxBounds=new wt([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(r,c,p){var v=r[0]instanceof Ot,M=r.length,D,ee;if(v){for(ee=[],D=0;D<M;D++)ee[D]=this._map.latLngToLayerPoint(r[D]),p.extend(ee[D]);c.push(ee)}else for(D=0;D<M;D++)this._projectLatlngs(r[D],c,p)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,v,M,D,ee,ce,xe;for(p=0,M=0,D=this._rings.length;p<D;p++)for(xe=this._rings[p],v=0,ee=xe.length;v<ee-1;v++)ce=ci(xe[v],xe[v+1],r,v,!0),ce&&(c[M]=c[M]||[],c[M].push(ce[0]),(ce[1]!==xe[v+1]||v===ee-2)&&(c[M].push(ce[1]),M++))}},_simplifyPoints:function(){for(var r=this._parts,c=this.options.smoothFactor,p=0,v=r.length;p<v;p++)r[p]=Nl(r[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,c){var p,v,M,D,ee,ce,xe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(p=0,D=this._parts.length;p<D;p++)for(ce=this._parts[p],v=0,ee=ce.length,M=ee-1;v<ee;M=v++)if(!(!c&&v===0)&&ra(r,ce[M],ce[v])<=xe)return!0;return!1}});function Zc(r,c){return new Or(r,c)}Or._flat=ir;var Zr=Or.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var c=Or.prototype._convertLatLngs.call(this,r),p=c.length;return p>=2&&c[0]instanceof Ot&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(r){Or.prototype._setLatLngs.call(this,r),Hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,c=this.options.weight,p=new Ae(c,c);if(r=new wt(r.min.subtract(p),r.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,M=this._rings.length,D;v<M;v++)D=jl(this._rings[v],r,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var c=!1,p,v,M,D,ee,ce,xe,Ie;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(D=0,xe=this._parts.length;D<xe;D++)for(p=this._parts[D],ee=0,Ie=p.length,ce=Ie-1;ee<Ie;ce=ee++)v=p[ee],M=p[ce],v.y>r.y!=M.y>r.y&&r.x<(M.x-v.x)*(r.y-v.y)/(M.y-v.y)+v.x&&(c=!c);return c||Or.prototype._containsPoint.call(this,r,!0)}});function oo(r,c){return new Zr(r,c)}var Rr=hr.extend({initialize:function(r,c){P(this,c),this._layers={},r&&this.addData(r)},addData:function(r){var c=$(r)?r:r.features,p,v,M;if(c){for(p=0,v=c.length;p<v;p++)M=c[p],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var D=this.options;if(D.filter&&!D.filter(r))return this;var ee=Wo(r,D);return ee?(ee.feature=es(r),ee.defaultOptions=ee.options,this.resetStyle(ee),D.onEachFeature&&D.onEachFeature(r,ee),this.addLayer(ee)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=a({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(c){this._setLayerStyle(c,r)},this)},_setLayerStyle:function(r,c){r.setStyle&&(typeof c=="function"&&(c=c(r.feature)),r.setStyle(c))}});function Wo(r,c){var p=r.type==="Feature"?r.geometry:r,v=p?p.coordinates:null,M=[],D=c&&c.pointToLayer,ee=c&&c.coordsToLatLng||Jo,ce,xe,Ie,Qe;if(!v&&!p)return null;switch(p.type){case"Point":return ce=ee(v),zl(D,r,ce,c);case"MultiPoint":for(Ie=0,Qe=v.length;Ie<Qe;Ie++)ce=ee(v[Ie]),M.push(zl(D,r,ce,c));return new hr(M);case"LineString":case"MultiLineString":return xe=Yo(v,p.type==="LineString"?0:1,ee),new Or(xe,c);case"Polygon":case"MultiPolygon":return xe=Yo(v,p.type==="Polygon"?1:2,ee),new Zr(xe,c);case"GeometryCollection":for(Ie=0,Qe=p.geometries.length;Ie<Qe;Ie++){var gt=Wo({geometry:p.geometries[Ie],type:"Feature",properties:r.properties},c);gt&&M.push(gt)}return new hr(M);case"FeatureCollection":for(Ie=0,Qe=p.features.length;Ie<Qe;Ie++){var St=Wo(p.features[Ie],c);St&&M.push(St)}return new hr(M);default:throw new Error("Invalid GeoJSON object.")}}function zl(r,c,p,v){return r?r(c,p):new Ko(p,v&&v.markersInheritOptions&&v)}function Jo(r){return new Ot(r[1],r[0],r[2])}function Yo(r,c,p){for(var v=[],M=0,D=r.length,ee;M<D;M++)ee=c?Yo(r[M],c-1,p):(p||Jo)(r[M]),v.push(ee);return v}function Xo(r,c){return r=vt(r),r.alt!==void 0?[T(r.lng,c),T(r.lat,c),T(r.alt,c)]:[T(r.lng,c),T(r.lat,c)]}function Qo(r,c,p,v){for(var M=[],D=0,ee=r.length;D<ee;D++)M.push(c?Qo(r[D],Hn(r[D])?0:c-1,p,v):Xo(r[D],v));return!c&&p&&M.length>0&&M.push(M[0].slice()),M}function Oi(r,c){return r.feature?a({},r.feature,{geometry:c}):es(c)}function es(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ts={toGeoJSON:function(r){return Oi(this,{type:"Point",coordinates:Xo(this.getLatLng(),r)})}};Ko.include(ts),la.include(ts),xr.include(ts),Or.include({toGeoJSON:function(r){var c=!Hn(this._latlngs),p=Qo(this._latlngs,c?1:0,!1,r);return Oi(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Zr.include({toGeoJSON:function(r){var c=!Hn(this._latlngs),p=c&&!Hn(this._latlngs[0]),v=Qo(this._latlngs,p?2:c?1:0,!0,r);return c||(v=[v]),Oi(this,{type:(p?"Multi":"")+"Polygon",coordinates:v})}}),Bi.include({toMultiPoint:function(r){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(r).geometry.coordinates)}),Oi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(r){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(r);var p=c==="GeometryCollection",v=[];return this.eachLayer(function(M){if(M.toGeoJSON){var D=M.toGeoJSON(r);if(p)v.push(D.geometry);else{var ee=es(D);ee.type==="FeatureCollection"?v.push.apply(v,ee.features):v.push(ee)}}}),p?Oi(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function ns(r,c){return new Rr(r,c)}var Hl=ns,Ri=On.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,c,p){this._url=r,this._bounds=jt(c),P(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Si(this._image),this},bringToBack:function(){return this._map&&ri(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=jt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",c=this._image=r?this._url:Nt("img");if(kt(c,"leaflet-image-layer"),this._zoomAnimated&&kt(c,"leaflet-zoom-animated"),this.options.className&&kt(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onload=u(this.fire,this,"load"),c.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(r){var c=this._map.getZoomScale(r.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ii(this._image,p,c)},_reset:function(){var r=this._image,c=new wt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();dn(r,c.min),r.style.width=p.x+"px",r.style.height=p.y+"px"},_updateOpacity:function(){rr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Kc=function(r,c,p){return new Ri(r,c,p)},so=Ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",c=this._image=r?this._url:Nt("video");if(kt(c,"leaflet-image-layer"),this._zoomAnimated&&kt(c,"leaflet-zoom-animated"),this.options.className&&kt(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onloadeddata=u(this.fire,this,"load"),r){for(var p=c.getElementsByTagName("source"),v=[],M=0;M<p.length;M++)v.push(p[M].src);this._url=p.length>0?v:[c.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var ee=Nt("source");ee.src=this._url[D],c.appendChild(ee)}}});function Ul(r,c,p){return new so(r,c,p)}var Gl=Ri.extend({_initImage:function(){var r=this._image=this._url;kt(r,"leaflet-image-layer"),this._zoomAnimated&&kt(r,"leaflet-zoom-animated"),this.options.className&&kt(r,this.options.className),r.onselectstart=x,r.onmousemove=x}});function Wc(r,c,p){return new Gl(r,c,p)}var wr=On.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,c){r&&(r instanceof Ot||$(r))?(this._latlng=vt(r),P(this,c)):(P(this,r),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&rr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&rr(this._container,1),this.bringToFront(),this.options.interactive&&(kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(rr(this._container,0),this._removeTimeout=setTimeout(u(tn,void 0,this._container),200)):tn(this._container),this.options.interactive&&(ln(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=vt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Si(this._container),this},bringToBack:function(){return this._map&&ri(this._container),this},_prepareOpen:function(r){var c=this._source;if(!c._map)return!1;if(c instanceof hr){c=null;var p=this._source._layers;for(var v in p)if(p[v]._map){c=p[v];break}if(!c)return!1;this._source=c}if(!r)if(c.getCenter)r=c.getCenter();else if(c.getLatLng)r=c.getLatLng();else if(c.getBounds)r=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")r.innerHTML=c;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),c=lt(this.options.offset),p=this._getAnchor();this._zoomAnimated?dn(this._container,r.add(p)):c=c.add(r).add(p);var v=this._containerBottom=-c.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=v+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});Dt.include({_initOverlay:function(r,c,p,v){var M=c;return M instanceof r||(M=new r(v).setContent(c)),p&&M.setLatLng(p),M}}),On.include({_initOverlay:function(r,c,p,v){var M=p;return M instanceof r?(P(M,v),M._source=this):(M=c&&!v?c:new r(v,this),M.setContent(p)),M}});var Kr=wr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,wr.prototype.openOn.call(this,r)},onAdd:function(r){wr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ar||this._source.on("preclick",si))},onRemove:function(r){wr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ar||this._source.off("preclick",si))},getEvents:function(){var r=wr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",c=this._container=Nt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Nt("div",r+"-content-wrapper",c);if(this._contentNode=Nt("div",r+"-content",p),to(c),ea(this._contentNode),Ct(c,"contextmenu",si),this._tipContainer=Nt("div",r+"-tip-container",c),this._tip=Nt("div",r+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Nt("a",r+"-close-button",c);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(v,"click",function(M){wn(M),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,c=r.style;c.width="",c.whiteSpace="nowrap";var p=r.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var v=r.offsetHeight,M=this.options.maxHeight,D="leaflet-popup-scrolled";M&&v>M?(c.height=M+"px",kt(r,D)):ln(r,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),p=this._getAnchor();dn(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,c=parseInt(Hr(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,v=this._containerWidth,M=new Ae(this._containerLeft,-p-this._containerBottom);M._add(oi(this._container));var D=r.layerPointToContainerPoint(M),ee=lt(this.options.autoPanPadding),ce=lt(this.options.autoPanPaddingTopLeft||ee),xe=lt(this.options.autoPanPaddingBottomRight||ee),Ie=r.getSize(),Qe=0,gt=0;D.x+v+xe.x>Ie.x&&(Qe=D.x+v-Ie.x+xe.x),D.x-Qe-ce.x<0&&(Qe=D.x-ce.x),D.y+p+xe.y>Ie.y&&(gt=D.y+p-Ie.y+xe.y),D.y-gt-ce.y<0&&(gt=D.y-ce.y),(Qe||gt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Qe,gt]))}},_getAnchor:function(){return lt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jc=function(r,c){return new Kr(r,c)};Dt.mergeOptions({closePopupOnClick:!0}),Dt.include({openPopup:function(r,c,p){return this._initOverlay(Kr,r,c,p).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),On.include({bindPopup:function(r,c){return this._popup=this._initOverlay(Kr,this._popup,r,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof hr||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ai(r);var c=r.layer||r.target;if(this._popup._source===c&&!(c instanceof Ar)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=c,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var rs=wr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){wr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){wr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=wr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",c=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Nt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var c,p,v=this._map,M=this._container,D=v.latLngToContainerPoint(v.getCenter()),ee=v.layerPointToContainerPoint(r),ce=this.options.direction,xe=M.offsetWidth,Ie=M.offsetHeight,Qe=lt(this.options.offset),gt=this._getAnchor();ce==="top"?(c=xe/2,p=Ie):ce==="bottom"?(c=xe/2,p=0):ce==="center"?(c=xe/2,p=Ie/2):ce==="right"?(c=0,p=Ie/2):ce==="left"?(c=xe,p=Ie/2):ee.x<D.x?(ce="right",c=0,p=Ie/2):(ce="left",c=xe+(Qe.x+gt.x)*2,p=Ie/2),r=r.subtract(lt(c,p,!0)).add(Qe).add(gt),ln(M,"leaflet-tooltip-right"),ln(M,"leaflet-tooltip-left"),ln(M,"leaflet-tooltip-top"),ln(M,"leaflet-tooltip-bottom"),kt(M,"leaflet-tooltip-"+ce),dn(M,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&rr(this._container,r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(c)},_getAnchor:function(){return lt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Yc=function(r,c){return new rs(r,c)};Dt.include({openTooltip:function(r,c,p){return this._initOverlay(rs,r,c,p).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),On.include({bindTooltip:function(r,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rs,this._tooltip,r,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var c=r?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof hr||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&(Ct(c,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Ct(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var c=r.latlng,p,v;this._tooltip.options.sticky&&r.originalEvent&&(p=this._map.mouseEventToContainerPoint(r.originalEvent),v=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(c)}});var ql=Ai.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var c=r&&r.tagName==="DIV"?r:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Xi(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var v=lt(p.bgPos);c.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Xc(r){return new ql(r)}Ai.Default=io;var ao=On.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){P(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),tn(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ri(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof Ae?r:new Ae(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var c=this.getPane().children,p=-r(-1/0,1/0),v=0,M=c.length,D;v<M;v++)D=c[v].style.zIndex,c[v]!==this._container&&D&&(p=r(p,+D));isFinite(p)&&(this.options.zIndex=p+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ct.ielt9){rr(this._container,this.options.opacity);var r=+new Date,c=!1,p=!1;for(var v in this._tiles){var M=this._tiles[v];if(!(!M.current||!M.loaded)){var D=Math.min(1,(r-M.loaded)/200);rr(M.el,D),D<1?c=!0:(M.active?p=!0:this._onOpaqueTile(M),M.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Be(this._fadeFrame),this._fadeFrame=ze(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,c=this.options.maxZoom;if(r!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===r?(this._levels[p].el.style.zIndex=c-Math.abs(r-p),this._onUpdateLevel(p)):(tn(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var v=this._levels[r],M=this._map;return v||(v=this._levels[r]={},v.el=Nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=c,v.origin=M.project(M.unproject(M.getPixelOrigin()),r).round(),v.zoom=r,this._setZoomTransform(v,M.getCenter(),M.getZoom()),x(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var r,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)c=this._tiles[r],c.retain=c.current;for(r in this._tiles)if(c=this._tiles[r],c.current&&!c.active){var v=c.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var c in this._tiles)this._tiles[c].coords.z===r&&this._removeTile(c)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)tn(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,c,p,v){var M=Math.floor(r/2),D=Math.floor(c/2),ee=p-1,ce=new Ae(+M,+D);ce.z=+ee;var xe=this._tileCoordsToKey(ce),Ie=this._tiles[xe];return Ie&&Ie.active?(Ie.retain=!0,!0):(Ie&&Ie.loaded&&(Ie.retain=!0),ee>v?this._retainParent(M,D,ee,v):!1)},_retainChildren:function(r,c,p,v){for(var M=2*r;M<2*r+2;M++)for(var D=2*c;D<2*c+2;D++){var ee=new Ae(M,D);ee.z=p+1;var ce=this._tileCoordsToKey(ee),xe=this._tiles[ce];if(xe&&xe.active){xe.retain=!0;continue}else xe&&xe.loaded&&(xe.retain=!0);p+1<v&&this._retainChildren(M,D,p+1,v)}},_resetView:function(r){var c=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var c=this.options;return c.minNativeZoom!==void 0&&r<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<r?c.maxNativeZoom:r},_setView:function(r,c,p,v){var M=Math.round(c);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var D=this.options.updateWhenZooming&&M!==this._tileZoom;(!v||D)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(r),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(r,c)},_setZoomTransforms:function(r,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],r,c)},_setZoomTransform:function(r,c,p){var v=this._map.getZoomScale(p,r.zoom),M=r.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(c,p)).round();ct.any3d?ii(r.el,M,v):dn(r.el,M)},_resetGrid:function(){var r=this._map,c=r.options.crs,p=this._tileSize=this.getTileSize(),v=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,c.wrapLng[0]],v).x/p.x),Math.ceil(r.project([0,c.wrapLng[1]],v).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([c.wrapLat[0],0],v).y/p.x),Math.ceil(r.project([c.wrapLat[1],0],v).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),v=c.getZoomScale(p,this._tileZoom),M=c.project(r,this._tileZoom).floor(),D=c.getSize().divideBy(v*2);return new wt(M.subtract(D),M.add(D))},_update:function(r){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(r===void 0&&(r=c.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(r),M=this._pxBoundsToTileRange(v),D=M.getCenter(),ee=[],ce=this.options.keepBuffer,xe=new wt(M.getBottomLeft().subtract([ce,-ce]),M.getTopRight().add([ce,-ce]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ie in this._tiles){var Qe=this._tiles[Ie].coords;(Qe.z!==this._tileZoom||!xe.contains(new Ae(Qe.x,Qe.y)))&&(this._tiles[Ie].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(r,p);return}for(var gt=M.min.y;gt<=M.max.y;gt++)for(var St=M.min.x;St<=M.max.x;St++){var Dn=new Ae(St,gt);if(Dn.z=this._tileZoom,!!this._isValidTile(Dn)){var xn=this._tiles[this._tileCoordsToKey(Dn)];xn?xn.current=!0:ee.push(Dn)}}if(ee.sort(function(rn,Lr){return rn.distanceTo(D)-Lr.distanceTo(D)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Un=document.createDocumentFragment();for(St=0;St<ee.length;St++)this._addTile(ee[St],Un);this._level.el.appendChild(Un)}}}},_isValidTile:function(r){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(r.x<p.min.x||r.x>p.max.x)||!c.wrapLat&&(r.y<p.min.y||r.y>p.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(r);return jt(this.options.bounds).overlaps(v)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var c=this._map,p=this.getTileSize(),v=r.scaleBy(p),M=v.add(p),D=c.unproject(v,r.z),ee=c.unproject(M,r.z);return[D,ee]},_tileCoordsToBounds:function(r){var c=this._tileCoordsToNwSe(r),p=new en(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var c=r.split(":"),p=new Ae(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(r){var c=this._tiles[r];c&&(tn(c.el),delete this._tiles[r],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){kt(r,"leaflet-tile");var c=this.getTileSize();r.style.width=c.x+"px",r.style.height=c.y+"px",r.onselectstart=x,r.onmousemove=x,ct.ielt9&&this.options.opacity<1&&rr(r,this.options.opacity)},_addTile:function(r,c){var p=this._getTilePos(r),v=this._tileCoordsToKey(r),M=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(M),this.createTile.length<2&&ze(u(this._tileReady,this,r,null,M)),dn(M,p),this._tiles[v]={el:M,coords:r,current:!0},c.appendChild(M),this.fire("tileloadstart",{tile:M,coords:r})},_tileReady:function(r,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:r});var v=this._tileCoordsToKey(r);p=this._tiles[v],p&&(p.loaded=+new Date,this._map._fadeAnimated?(rr(p.el,0),Be(this._fadeFrame),this._fadeFrame=ze(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(kt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ct.ielt9||!this._map._fadeAnimated?ze(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var c=new Ae(this._wrapX?y(r.x,this._wrapX):r.x,this._wrapY?y(r.y,this._wrapY):r.y);return c.z=r.z,c},_pxBoundsToTileRange:function(r){var c=this.getTileSize();return new wt(r.min.unscaleBy(c).floor(),r.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Qc(r){return new ao(r)}var Di=ao.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,c){this._url=r,c=P(this,c),c.detectRetina&&ct.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,c){return this._url===r&&c===void 0&&(c=!0),this._url=r,c||this.redraw(),this},createTile:function(r,c){var p=document.createElement("img");return Ct(p,"load",u(this._tileOnLoad,this,c,p)),Ct(p,"error",u(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(r),p},getTileUrl:function(r){var c={r:ct.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-r.y;this.options.tms&&(c.y=p),c["-y"]=p}return Q(this._url,a(c,this.options))},_tileOnLoad:function(r,c){ct.ielt9?setTimeout(u(r,this,null,c),0):r(null,c)},_tileOnError:function(r,c,p){var v=this.options.errorTileUrl;v&&c.getAttribute("src")!==v&&(c.src=v),r(p,c)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,v=this.options.zoomOffset;return p&&(r=c-r),r+v},_getSubdomain:function(r){var c=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var r,c;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(c=this._tiles[r].el,c.onload=x,c.onerror=x,!c.complete)){c.src=oe;var p=this._tiles[r].coords;tn(c),delete this._tiles[r],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(r){var c=this._tiles[r];if(c)return c.el.setAttribute("src",oe),ao.prototype._removeTile.call(this,r)},_tileReady:function(r,c,p){if(!(!this._map||p&&p.getAttribute("src")===oe))return ao.prototype._tileReady.call(this,r,c,p)}});function ua(r,c){return new Di(r,c)}var is=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,c){this._url=r;var p=a({},this.defaultWmsParams);for(var v in c)v in this.options||(p[v]=c[v]);c=P(this,c);var M=c.detectRetina&&ct.retina?2:1,D=this.getTileSize();p.width=D.x*M,p.height=D.y*M,this.wmsParams=p},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Di.prototype.onAdd.call(this,r)},getTileUrl:function(r){var c=this._tileCoordsToNwSe(r),p=this._crs,v=At(p.project(c[0]),p.project(c[1])),M=v.min,D=v.max,ee=(this._wmsVersion>=1.3&&this._crs===sa?[M.y,M.x,D.y,D.x]:[M.x,M.y,D.x,D.y]).join(","),ce=Di.prototype.getTileUrl.call(this,r);return ce+U(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(r,c){return a(this.wmsParams,r),c||this.redraw(),this}});function ed(r,c){return new is(r,c)}Di.WMS=is,ua.wms=ed;var Dr=On.extend({options:{padding:.1},initialize:function(r){P(this,r),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,c){var p=this._map.getZoomScale(c,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,c),D=v.multiplyBy(-p).add(M).subtract(this._map._getNewPixelOrigin(r,c));ct.any3d?ii(this._container,D,p):dn(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-r)).round();this._bounds=new wt(p,p.add(c.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ca=Dr.extend({options:{tolerance:0},getEvents:function(){var r=Dr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Dr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Ct(r,"mousemove",this._onMouseMove,this),Ct(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,tn(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var c in this._layers)r=this._layers[c],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var r=this._bounds,c=this._container,p=r.getSize(),v=ct.retina?2:1;dn(c,r.min),c.width=v*p.x,c.height=v*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Dr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[m(r)]=r;var c=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var c=r._order,p=c.next,v=c.prev;p?p.prev=v:this._drawLast=v,v?v.next=p:this._drawFirst=p,delete r._order,delete this._layers[m(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var c=r.options.dashArray.split(/[, ]+/),p=[],v,M;for(M=0;M<c.length;M++){if(v=Number(c[M]),isNaN(v))return;p.push(v)}r.options._dashArray=p}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||ze(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var c=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new wt,this._redrawBounds.extend(r._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(r._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var c=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)r=v.layer,(!c||r._pxBounds&&r._pxBounds.intersects(c))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,c){if(this._drawing){var p,v,M,D,ee=r._parts,ce=ee.length,xe=this._ctx;if(ce){for(xe.beginPath(),p=0;p<ce;p++){for(v=0,M=ee[p].length;v<M;v++)D=ee[p][v],xe[v?"lineTo":"moveTo"](D.x,D.y);c&&xe.closePath()}this._fillStroke(xe,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var c=r._point,p=this._ctx,v=Math.max(Math.round(r._radius),1),M=(Math.max(Math.round(r._radiusY),1)||v)/v;M!==1&&(p.save(),p.scale(1,M)),p.beginPath(),p.arc(c.x,c.y/M,v,0,Math.PI*2,!1),M!==1&&p.restore(),this._fillStroke(p,r)}},_fillStroke:function(r,c){var p=c.options;p.fill&&(r.globalAlpha=p.fillOpacity,r.fillStyle=p.fillColor||p.color,r.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(r.setLineDash&&r.setLineDash(c.options&&c.options._dashArray||[]),r.globalAlpha=p.opacity,r.lineWidth=p.weight,r.strokeStyle=p.color,r.lineCap=p.lineCap,r.lineJoin=p.lineJoin,r.stroke())},_onClick:function(r){for(var c=this._map.mouseEventToLayerPoint(r),p,v,M=this._drawFirst;M;M=M.next)p=M.layer,p.options.interactive&&p._containsPoint(c)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(p))&&(v=p);this._fireEvent(v?[v]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,c)}},_handleMouseOut:function(r){var c=this._hoveredLayer;c&&(ln(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,c){if(!this._mouseHoverThrottled){for(var p,v,M=this._drawFirst;M;M=M.next)p=M.layer,p.options.interactive&&p._containsPoint(c)&&(v=p);v!==this._hoveredLayer&&(this._handleMouseOut(r),v&&(kt(this._container,"leaflet-interactive"),this._fireEvent([v],r,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,c,p){this._map._fireDOMEvent(c,p||c.type,r)},_bringToFront:function(r){var c=r._order;if(c){var p=c.next,v=c.prev;if(p)p.prev=v;else return;v?v.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(r)}},_bringToBack:function(r){var c=r._order;if(c){var p=c.next,v=c.prev;if(v)v.next=p;else return;p?p.prev=v:v&&(this._drawLast=v),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(r)}}});function os(r){return ct.canvas?new ca(r):null}var lo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),td={_initContainer:function(){this._container=Nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Dr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var c=r._container=lo("shape");kt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",r._path=lo("path"),c.appendChild(r._path),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){var c=r._container;this._container.appendChild(c),r.options.interactive&&r.addInteractiveTarget(c)},_removePath:function(r){var c=r._container;tn(c),r.removeInteractiveTarget(c),delete this._layers[m(r)]},_updateStyle:function(r){var c=r._stroke,p=r._fill,v=r.options,M=r._container;M.stroked=!!v.stroke,M.filled=!!v.fill,v.stroke?(c||(c=r._stroke=lo("stroke")),M.appendChild(c),c.weight=v.weight+"px",c.color=v.color,c.opacity=v.opacity,v.dashArray?c.dashStyle=$(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=v.lineCap.replace("butt","flat"),c.joinstyle=v.lineJoin):c&&(M.removeChild(c),r._stroke=null),v.fill?(p||(p=r._fill=lo("fill")),M.appendChild(p),p.color=v.fillColor||v.color,p.opacity=v.fillOpacity):p&&(M.removeChild(p),r._fill=null)},_updateCircle:function(r){var c=r._point.round(),p=Math.round(r._radius),v=Math.round(r._radiusY||p);this._setPath(r,r._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+v+" 0,"+65535*360)},_setPath:function(r,c){r._path.v=c},_bringToFront:function(r){Si(r._container)},_bringToBack:function(r){ri(r._container)}},Ii=ct.vml?lo:ye,Sn=Dr.extend({_initContainer:function(){this._container=Ii("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ii("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tn(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var r=this._bounds,c=r.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),dn(p,r.min),p.setAttribute("viewBox",[r.min.x,r.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(r){var c=r._path=Ii("path");r.options.className&&kt(c,r.options.className),r.options.interactive&&kt(c,"leaflet-interactive"),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){tn(r._path),r.removeInteractiveTarget(r._path),delete this._layers[m(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var c=r._path,p=r.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(r,c){this._setPath(r,Ne(r._parts,c))},_updateCircle:function(r){var c=r._point,p=Math.max(Math.round(r._radius),1),v=Math.max(Math.round(r._radiusY),1)||p,M="a"+p+","+v+" 0 1,0 ",D=r._empty()?"M0 0":"M"+(c.x-p)+","+c.y+M+p*2+",0 "+M+-p*2+",0 ";this._setPath(r,D)},_setPath:function(r,c){r._path.setAttribute("d",c)},_bringToFront:function(r){Si(r._path)},_bringToBack:function(r){ri(r._path)}});ct.vml&&Sn.include(td);function Rn(r){return ct.svg||ct.vml?new Sn(r):null}Dt.include({getRenderer:function(r){var c=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var c=this._paneRenderers[r];return c===void 0&&(c=this._createRenderer({pane:r}),this._paneRenderers[r]=c),c},_createRenderer:function(r){return this.options.preferCanvas&&os(r)||Rn(r)}});var da=Zr.extend({initialize:function(r,c){Zr.prototype.initialize.call(this,this._boundsToLatLngs(r),c)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=jt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function fr(r,c){return new da(r,c)}Sn.create=Ii,Sn.pointsToPath=Ne,Rr.geometryToLayer=Wo,Rr.coordsToLatLng=Jo,Rr.coordsToLatLngs=Yo,Rr.latLngToCoords=Xo,Rr.latLngsToCoords=Qo,Rr.getFeature=Oi,Rr.asFeature=es,Dt.mergeOptions({boxZoom:!0});var bt=An.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qi(),Zs(),this._startPoint=this._map.mouseEventToContainerPoint(r),Ct(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Nt("div","leaflet-zoom-box",this._container),kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var c=new wt(this._point,this._startPoint),p=c.getSize();dn(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(tn(this._box),ln(this._container,"leaflet-crosshair")),eo(),Ks(),Wt(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var c=new en(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Dt.addInitHook("addHandler","boxZoom",bt),Dt.mergeOptions({doubleClickZoom:!0});var ss=An.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var c=this._map,p=c.getZoom(),v=c.options.zoomDelta,M=r.originalEvent.shiftKey?p-v:p+v;c.options.doubleClickZoom==="center"?c.setZoom(M):c.setZoomAround(r.containerPoint,M)}});Dt.addInitHook("addHandler","doubleClickZoom",ss),Dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var as=An.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Gr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ln(this._map._container,"leaflet-grab"),ln(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=jt(this._map.options.maxBounds);this._offsetLimit=At(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,c){return r-(r-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;r.x<c.min.x&&(r.x=this._viscousLimit(r.x,c.min.x)),r.y<c.min.y&&(r.y=this._viscousLimit(r.y,c.min.y)),r.x>c.max.x&&(r.x=this._viscousLimit(r.x,c.max.x)),r.y>c.max.y&&(r.y=this._viscousLimit(r.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,c=Math.round(r/2),p=this._initialWorldOffset,v=this._draggable._newPos.x,M=(v-c+p)%r+c-p,D=(v+c+p)%r-c-p,ee=Math.abs(M+p)<Math.abs(D+p)?M:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(r){var c=this._map,p=c.options,v=!p.inertia||r.noInertia||this._times.length<2;if(c.fire("dragend",r),v)c.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,ee=p.easeLinearity,ce=M.multiplyBy(ee/D),xe=ce.distanceTo([0,0]),Ie=Math.min(p.inertiaMaxSpeed,xe),Qe=ce.multiplyBy(Ie/xe),gt=Ie/(p.inertiaDeceleration*ee),St=Qe.multiplyBy(-gt/2).round();!St.x&&!St.y?c.fire("moveend"):(St=c._limitOffset(St,c.options.maxBounds),ze(function(){c.panBy(St,{duration:gt,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});Dt.addInitHook("addHandler","dragging",as),Dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ir=An.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Ct(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,c=document.documentElement,p=r.scrollTop||c.scrollTop,v=r.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(v,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var c=this._panKeys={},p=this.keyCodes,v,M;for(v=0,M=p.left.length;v<M;v++)c[p.left[v]]=[-1*r,0];for(v=0,M=p.right.length;v<M;v++)c[p.right[v]]=[r,0];for(v=0,M=p.down.length;v<M;v++)c[p.down[v]]=[0,r];for(v=0,M=p.up.length;v<M;v++)c[p.up[v]]=[0,-1*r]},_setZoomDelta:function(r){var c=this._zoomKeys={},p=this.keyCodes,v,M;for(v=0,M=p.zoomIn.length;v<M;v++)c[p.zoomIn[v]]=r;for(v=0,M=p.zoomOut.length;v<M;v++)c[p.zoomOut[v]]=-r},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var c=r.keyCode,p=this._map,v;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(v=this._panKeys[c],r.shiftKey&&(v=lt(v).multiplyBy(3)),p.options.maxBounds&&(v=p._limitOffset(lt(v),p.options.maxBounds)),p.options.worldCopyJump){var M=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(v)));p.panTo(M)}else p.panBy(v)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;ai(r)}}});Dt.addInitHook("addHandler","keyboard",Ir),Dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mn=An.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var c=Al(r),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var v=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),v),ai(r)},_performZoom:function(){var r=this._map,c=r.getZoom(),p=this._map.options.zoomSnap||0;r._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,D=p?Math.ceil(M/p)*p:M,ee=r._limitZoom(c+(this._delta>0?D:-D))-c;this._delta=0,this._startTime=null,ee&&(r.options.scrollWheelZoom==="center"?r.setZoom(c+ee):r.setZoomAround(this._lastMousePos,c+ee))}});Dt.addInitHook("addHandler","scrollWheelZoom",mn);var Zl=600;Dt.mergeOptions({tapHold:ct.touchNative&&ct.safari&&ct.mobile,tapTolerance:15});var Jn=An.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var c=r.touches[0];this._startPos=this._newPos=new Ae(c.clientX,c.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",wn),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Zl),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Wt(document,"touchend",wn),Wt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(r){var c=r.touches[0];this._newPos=new Ae(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,c){var p=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Dt.addInitHook("addHandler","tapHold",Jn),Dt.mergeOptions({touchZoom:ct.touch,bounceAtZoomLimits:!0});var Yn=An.extend({addHooks:function(){kt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ln(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var c=this._map;if(!(!r.touches||r.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(r.touches[0]),v=c.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(v)._divideBy(2))),this._startDist=p.distanceTo(v),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),wn(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(r.touches[0]),v=c.mouseEventToContainerPoint(r.touches[1]),M=p.distanceTo(v)/this._startDist;if(this._zoom=c.getScaleZoom(M,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&M<1||this._zoom>c.getMaxZoom()&&M>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var D=p._add(v)._divideBy(2)._subtract(this._centerPoint);if(M===1&&D.x===0&&D.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var ee=u(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ze(ee,this,!0),wn(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Dt.addInitHook("addHandler","touchZoom",Yn),Dt.BoxZoom=bt,Dt.DoubleClickZoom=ss,Dt.Drag=as,Dt.Keyboard=Ir,Dt.ScrollWheelZoom=mn,Dt.TapHold=Jn,Dt.TouchZoom=Yn,n.Bounds=wt,n.Browser=ct,n.CRS=Te,n.Canvas=ca,n.Circle=la,n.CircleMarker=xr,n.Class=mt,n.Control=Lt,n.DivIcon=ql,n.DivOverlay=wr,n.DomEvent=$o,n.DomUtil=Rc,n.Draggable=Gr,n.Evented=ot,n.FeatureGroup=hr,n.GeoJSON=Rr,n.GridLayer=ao,n.Handler=An,n.Icon=Ai,n.ImageOverlay=Ri,n.LatLng=Ot,n.LatLngBounds=en,n.Layer=On,n.LayerGroup=Bi,n.LineUtil=Go,n.Map=Dt,n.Marker=Ko,n.Mixin=Nc,n.Path=Ar,n.Point=Ae,n.PolyUtil=Vc,n.Polygon=Zr,n.Polyline=Or,n.Popup=Kr,n.PosAnimation=Ol,n.Projection=br,n.Rectangle=da,n.Renderer=Dr,n.SVG=Sn,n.SVGOverlay=Gl,n.TileLayer=Di,n.Tooltip=rs,n.Transformation=Rt,n.Util=rt,n.VideoOverlay=so,n.bind=u,n.bounds=At,n.canvas=os,n.circle=di,n.circleMarker=$l,n.control=li,n.divIcon=Xc,n.extend=a,n.featureGroup=Uc,n.geoJSON=ns,n.geoJson=Hl,n.gridLayer=Qc,n.icon=Gc,n.imageOverlay=Kc,n.latLng=vt,n.latLngBounds=jt,n.layerGroup=Hc,n.map=Rl,n.marker=qc,n.point=lt,n.polygon=oo,n.polyline=Zc,n.popup=Jc,n.rectangle=fr,n.setOptions=P,n.stamp=m,n.svg=Rn,n.svgOverlay=Wc,n.tileLayer=ua,n.tooltip=Yc,n.transformation=zt,n.version=i,n.videoOverlay=Ul;var hi=window.L;n.noConflict=function(){return window.L=hi,this},window.L=n})}(Ea,Ea.exports)),Ea.exports}var t2=e2();const sr=XA(t2),n2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",r2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",i2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",o2={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},s2={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},a2={className:"bg-map-field-occurrence rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},F0={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},l2={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},u2=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:o2,CollectionObject:s2,FieldOccurrence:a2,Georeference:F0,TypeMaterial:l2},Symbol.toStringTag,{value:"Module"})),c2={className:"leaflet-hatch-pattern",color:"rgb(var(--color-map-asserted-absent))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},d2={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},h2={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},f2={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},p2={color:"rgb(var(--color-map-field-occurrence))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},m2={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},_2=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:d2,AssertedAbsent:c2,AssertedDistribution:h2,CollectionObject:f2,FieldOccurrence:p2,TypeMaterial:m2},Symbol.toStringTag,{value:"Module"})),bm=[Wg,ac,Kg,GL,qL,UL];function xm(e){const t=e.map(n=>n.type);return t.sort((n,i)=>bm.indexOf(n)-bm.indexOf(i)),t[0]}const g2=({L:e})=>({onEachFeature:(t,n)=>{n.pm.setOptions(ch),n.pm.disable()},pointToLayer:(t,n)=>{const i=xm(t.properties.base),a=u2[i]||F0,s=e.marker(n,{icon:e.divIcon(a)});return s.pm.setOptions(ch),s},style:t=>{const n=xm(t.properties?.base);return _2[n]}});var wm={},Lm;function y2(){return Lm||(Lm=1,(()=>{var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,u=(o,l)=>()=>(l||o((l={exports:{}}).exports,l),l.exports),h=(o,l,d,f)=>{if(l&&typeof l=="object"||typeof l=="function")for(let _ of i(l))!s.call(o,_)&&_!==d&&t(o,_,{get:()=>l[_],enumerable:!(f=n(l,_))||f.enumerable});return o},m=(o,l,d)=>(d=o!=null?e(a(o)):{},h(l||!o||!o.__esModule?t(d,"default",{value:o,enumerable:!0}):d,o)),g=u((o,l)=>{function d(){this.__data__=[],this.size=0}l.exports=d}),y=u((o,l)=>{function d(f,_){return f===_||f!==f&&_!==_}l.exports=d}),x=u((o,l)=>{var d=y();function f(_,b){for(var w=_.length;w--;)if(d(_[w][0],b))return w;return-1}l.exports=f}),T=u((o,l)=>{var d=x(),f=Array.prototype,_=f.splice;function b(w){var k=this.__data__,A=d(k,w);if(A<0)return!1;var R=k.length-1;return A==R?k.pop():_.call(k,A,1),--this.size,!0}l.exports=b}),E=u((o,l)=>{var d=x();function f(_){var b=this.__data__,w=d(b,_);return w<0?void 0:b[w][1]}l.exports=f}),S=u((o,l)=>{var d=x();function f(_){return d(this.__data__,_)>-1}l.exports=f}),P=u((o,l)=>{var d=x();function f(_,b){var w=this.__data__,k=d(w,_);return k<0?(++this.size,w.push([_,b])):w[k][1]=b,this}l.exports=f}),U=u((o,l)=>{var d=g(),f=T(),_=E(),b=S(),w=P();function k(A){var R=-1,Y=A==null?0:A.length;for(this.clear();++R<Y;){var q=A[R];this.set(q[0],q[1])}}k.prototype.clear=d,k.prototype.delete=f,k.prototype.get=_,k.prototype.has=b,k.prototype.set=w,l.exports=k}),X=u((o,l)=>{var d=U();function f(){this.__data__=new d,this.size=0}l.exports=f}),Q=u((o,l)=>{function d(f){var _=this.__data__,b=_.delete(f);return this.size=_.size,b}l.exports=d}),$=u((o,l)=>{function d(f){return this.__data__.get(f)}l.exports=d}),W=u((o,l)=>{function d(f){return this.__data__.has(f)}l.exports=d}),oe=u((o,l)=>{var d=typeof uu=="object"&&uu&&uu.Object===Object&&uu;l.exports=d}),Ce=u((o,l)=>{var d=oe(),f=typeof self=="object"&&self&&self.Object===Object&&self,_=d||f||Function("return this")();l.exports=_}),be=u((o,l)=>{var d=Ce(),f=d.Symbol;l.exports=f}),Fe=u((o,l)=>{var d=be(),f=Object.prototype,_=f.hasOwnProperty,b=f.toString,w=d?d.toStringTag:void 0;function k(A){var R=_.call(A,w),Y=A[w];try{A[w]=void 0;var q=!0}catch{}var pe=b.call(A);return q&&(R?A[w]=Y:delete A[w]),pe}l.exports=k}),Ee=u((o,l)=>{var d=Object.prototype,f=d.toString;function _(b){return f.call(b)}l.exports=_}),Pe=u((o,l)=>{var d=be(),f=Fe(),_=Ee(),b="[object Null]",w="[object Undefined]",k=d?d.toStringTag:void 0;function A(R){return R==null?R===void 0?w:b:k&&k in Object(R)?f(R):_(R)}l.exports=A}),ze=u((o,l)=>{function d(f){var _=typeof f;return f!=null&&(_=="object"||_=="function")}l.exports=d}),Be=u((o,l)=>{var d=Pe(),f=ze(),_="[object AsyncFunction]",b="[object Function]",w="[object GeneratorFunction]",k="[object Proxy]";function A(R){if(!f(R))return!1;var Y=d(R);return Y==b||Y==w||Y==_||Y==k}l.exports=A}),rt=u((o,l)=>{var d=Ce(),f=d["__core-js_shared__"];l.exports=f}),mt=u((o,l)=>{var d=rt(),f=function(){var b=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}();function _(b){return!!f&&f in b}l.exports=_}),Ye=u((o,l)=>{var d=Function.prototype,f=d.toString;function _(b){if(b!=null){try{return f.call(b)}catch{}try{return b+""}catch{}}return""}l.exports=_}),Ue=u((o,l)=>{var d=Be(),f=mt(),_=ze(),b=Ye(),w=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,A=Function.prototype,R=Object.prototype,Y=A.toString,q=R.hasOwnProperty,pe=RegExp("^"+Y.call(q).replace(w,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ge(Ve){if(!_(Ve)||f(Ve))return!1;var Je=d(Ve)?pe:k;return Je.test(b(Ve))}l.exports=ge}),ot=u((o,l)=>{function d(f,_){return f?.[_]}l.exports=d}),Ae=u((o,l)=>{var d=Ue(),f=ot();function _(b,w){var k=f(b,w);return d(k)?k:void 0}l.exports=_}),Ut=u((o,l)=>{var d=Ae(),f=Ce(),_=d(f,"Map");l.exports=_}),lt=u((o,l)=>{var d=Ae(),f=d(Object,"create");l.exports=f}),wt=u((o,l)=>{var d=lt();function f(){this.__data__=d?d(null):{},this.size=0}l.exports=f}),At=u((o,l)=>{function d(f){var _=this.has(f)&&delete this.__data__[f];return this.size-=_?1:0,_}l.exports=d}),en=u((o,l)=>{var d=lt(),f="__lodash_hash_undefined__",_=Object.prototype,b=_.hasOwnProperty;function w(k){var A=this.__data__;if(d){var R=A[k];return R===f?void 0:R}return b.call(A,k)?A[k]:void 0}l.exports=w}),jt=u((o,l)=>{var d=lt(),f=Object.prototype,_=f.hasOwnProperty;function b(w){var k=this.__data__;return d?k[w]!==void 0:_.call(k,w)}l.exports=b}),Ot=u((o,l)=>{var d=lt(),f="__lodash_hash_undefined__";function _(b,w){var k=this.__data__;return this.size+=this.has(b)?0:1,k[b]=d&&w===void 0?f:w,this}l.exports=_}),vt=u((o,l)=>{var d=wt(),f=At(),_=en(),b=jt(),w=Ot();function k(A){var R=-1,Y=A==null?0:A.length;for(this.clear();++R<Y;){var q=A[R];this.set(q[0],q[1])}}k.prototype.clear=d,k.prototype.delete=f,k.prototype.get=_,k.prototype.has=b,k.prototype.set=w,l.exports=k}),Te=u((o,l)=>{var d=vt(),f=U(),_=Ut();function b(){this.size=0,this.__data__={hash:new d,map:new(_||f),string:new d}}l.exports=b}),We=u((o,l)=>{function d(f){var _=typeof f;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?f!=="__proto__":f===null}l.exports=d}),Ze=u((o,l)=>{var d=We();function f(_,b){var w=_.__data__;return d(b)?w[typeof b=="string"?"string":"hash"]:w.map}l.exports=f}),st=u((o,l)=>{var d=Ze();function f(_){var b=d(this,_).delete(_);return this.size-=b?1:0,b}l.exports=f}),Rt=u((o,l)=>{var d=Ze();function f(_){return d(this,_).get(_)}l.exports=f}),zt=u((o,l)=>{var d=Ze();function f(_){return d(this,_).has(_)}l.exports=f}),K=u((o,l)=>{var d=Ze();function f(_,b){var w=d(this,_),k=w.size;return w.set(_,b),this.size+=w.size==k?0:1,this}l.exports=f}),te=u((o,l)=>{var d=Te(),f=st(),_=Rt(),b=zt(),w=K();function k(A){var R=-1,Y=A==null?0:A.length;for(this.clear();++R<Y;){var q=A[R];this.set(q[0],q[1])}}k.prototype.clear=d,k.prototype.delete=f,k.prototype.get=_,k.prototype.has=b,k.prototype.set=w,l.exports=k}),ye=u((o,l)=>{var d=U(),f=Ut(),_=te(),b=200;function w(k,A){var R=this.__data__;if(R instanceof d){var Y=R.__data__;if(!f||Y.length<b-1)return Y.push([k,A]),this.size=++R.size,this;R=this.__data__=new _(Y)}return R.set(k,A),this.size=R.size,this}l.exports=w}),Ne=u((o,l)=>{var d=U(),f=X(),_=Q(),b=$(),w=W(),k=ye();function A(R){var Y=this.__data__=new d(R);this.size=Y.size}A.prototype.clear=f,A.prototype.delete=_,A.prototype.get=b,A.prototype.has=w,A.prototype.set=k,l.exports=A}),Se=u((o,l)=>{var d=Ae(),f=function(){try{var _=d(Object,"defineProperty");return _({},"",{}),_}catch{}}();l.exports=f}),je=u((o,l)=>{var d=Se();function f(_,b,w){b=="__proto__"&&d?d(_,b,{configurable:!0,enumerable:!0,value:w,writable:!0}):_[b]=w}l.exports=f}),Ke=u((o,l)=>{var d=je(),f=y();function _(b,w,k){(k!==void 0&&!f(b[w],k)||k===void 0&&!(w in b))&&d(b,w,k)}l.exports=_}),qe=u((o,l)=>{function d(f){return function(_,b,w){for(var k=-1,A=Object(_),R=w(_),Y=R.length;Y--;){var q=R[f?Y:++k];if(b(A[q],q,A)===!1)break}return _}}l.exports=d}),Ge=u((o,l)=>{var d=qe(),f=d();l.exports=f}),$e=u((o,l)=>{var d=Ce(),f=typeof o=="object"&&o&&!o.nodeType&&o,_=f&&typeof l=="object"&&l&&!l.nodeType&&l,b=_&&_.exports===f,w=b?d.Buffer:void 0,k=w?w.allocUnsafe:void 0;function A(R,Y){if(Y)return R.slice();var q=R.length,pe=k?k(q):new R.constructor(q);return R.copy(pe),pe}l.exports=A}),ht=u((o,l)=>{var d=Ce(),f=d.Uint8Array;l.exports=f}),Xe=u((o,l)=>{var d=ht();function f(_){var b=new _.constructor(_.byteLength);return new d(b).set(new d(_)),b}l.exports=f}),ut=u((o,l)=>{var d=Xe();function f(_,b){var w=b?d(_.buffer):_.buffer;return new _.constructor(w,_.byteOffset,_.length)}l.exports=f}),_t=u((o,l)=>{function d(f,_){var b=-1,w=f.length;for(_||(_=Array(w));++b<w;)_[b]=f[b];return _}l.exports=d}),Pt=u((o,l)=>{var d=ze(),f=Object.create,_=function(){function b(){}return function(w){if(!d(w))return{};if(f)return f(w);b.prototype=w;var k=new b;return b.prototype=void 0,k}}();l.exports=_}),Gt=u((o,l)=>{function d(f,_){return function(b){return f(_(b))}}l.exports=d}),Ft=u((o,l)=>{var d=Gt(),f=d(Object.getPrototypeOf,Object);l.exports=f}),yn=u((o,l)=>{var d=Object.prototype;function f(_){var b=_&&_.constructor,w=typeof b=="function"&&b.prototype||d;return _===w}l.exports=f}),pn=u((o,l)=>{var d=Pt(),f=Ft(),_=yn();function b(w){return typeof w.constructor=="function"&&!_(w)?d(f(w)):{}}l.exports=b}),vn=u((o,l)=>{function d(f){return f!=null&&typeof f=="object"}l.exports=d}),En=u((o,l)=>{var d=Pe(),f=vn(),_="[object Arguments]";function b(w){return f(w)&&d(w)==_}l.exports=b}),gr=u((o,l)=>{var d=En(),f=vn(),_=Object.prototype,b=_.hasOwnProperty,w=_.propertyIsEnumerable,k=d(function(){return arguments}())?d:function(A){return f(A)&&b.call(A,"callee")&&!w.call(A,"callee")};l.exports=k}),Br=u((o,l)=>{var d=Array.isArray;l.exports=d}),Mn=u((o,l)=>{var d=9007199254740991;function f(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=d}l.exports=f}),bn=u((o,l)=>{var d=Be(),f=Mn();function _(b){return b!=null&&f(b.length)&&!d(b)}l.exports=_}),Oo=u((o,l)=>{var d=bn(),f=vn();function _(b){return f(b)&&d(b)}l.exports=_}),Ro=u((o,l)=>{function d(){return!1}l.exports=d}),Fs=u((o,l)=>{var d=Ce(),f=Ro(),_=typeof o=="object"&&o&&!o.nodeType&&o,b=_&&typeof l=="object"&&l&&!l.nodeType&&l,w=b&&b.exports===_,k=w?d.Buffer:void 0,A=k?k.isBuffer:void 0,R=A||f;l.exports=R}),_l=u((o,l)=>{var d=Pe(),f=Ft(),_=vn(),b="[object Object]",w=Function.prototype,k=Object.prototype,A=w.toString,R=k.hasOwnProperty,Y=A.call(Object);function q(pe){if(!_(pe)||d(pe)!=b)return!1;var ge=f(pe);if(ge===null)return!0;var Ve=R.call(ge,"constructor")&&ge.constructor;return typeof Ve=="function"&&Ve instanceof Ve&&A.call(Ve)==Y}l.exports=q}),gl=u((o,l)=>{var d=Pe(),f=Mn(),_=vn(),b="[object Arguments]",w="[object Array]",k="[object Boolean]",A="[object Date]",R="[object Error]",Y="[object Function]",q="[object Map]",pe="[object Number]",ge="[object Object]",Ve="[object RegExp]",Je="[object Set]",it="[object String]",It="[object WeakMap]",J="[object ArrayBuffer]",ne="[object DataView]",le="[object Float32Array]",ve="[object Float64Array]",ue="[object Int8Array]",me="[object Int16Array]",B="[object Int32Array]",j="[object Uint8Array]",z="[object Uint8ClampedArray]",N="[object Uint16Array]",H="[object Uint32Array]",G={};G[le]=G[ve]=G[ue]=G[me]=G[B]=G[j]=G[z]=G[N]=G[H]=!0,G[b]=G[w]=G[J]=G[k]=G[ne]=G[A]=G[R]=G[Y]=G[q]=G[pe]=G[ge]=G[Ve]=G[Je]=G[it]=G[It]=!1;function ie(re){return _(re)&&f(re.length)&&!!G[d(re)]}l.exports=ie}),gc=u((o,l)=>{function d(f){return function(_){return f(_)}}l.exports=d}),yc=u((o,l)=>{var d=oe(),f=typeof o=="object"&&o&&!o.nodeType&&o,_=f&&typeof l=="object"&&l&&!l.nodeType&&l,b=_&&_.exports===f,w=b&&d.process,k=function(){try{var A=_&&_.require&&_.require("util").types;return A||w&&w.binding&&w.binding("util")}catch{}}();l.exports=k}),yl=u((o,l)=>{var d=gl(),f=gc(),_=yc(),b=_&&_.isTypedArray,w=b?f(b):d;l.exports=w}),vl=u((o,l)=>{function d(f,_){if(!(_==="constructor"&&typeof f[_]=="function")&&_!="__proto__")return f[_]}l.exports=d}),vc=u((o,l)=>{var d=je(),f=y(),_=Object.prototype,b=_.hasOwnProperty;function w(k,A,R){var Y=k[A];(!(b.call(k,A)&&f(Y,R))||R===void 0&&!(A in k))&&d(k,A,R)}l.exports=w}),bc=u((o,l)=>{var d=vc(),f=je();function _(b,w,k,A){var R=!k;k||(k={});for(var Y=-1,q=w.length;++Y<q;){var pe=w[Y],ge=A?A(k[pe],b[pe],pe,k,b):void 0;ge===void 0&&(ge=b[pe]),R?f(k,pe,ge):d(k,pe,ge)}return k}l.exports=_}),Ns=u((o,l)=>{function d(f,_){for(var b=-1,w=Array(f);++b<f;)w[b]=_(b);return w}l.exports=d}),bl=u((o,l)=>{var d=9007199254740991,f=/^(?:0|[1-9]\d*)$/;function _(b,w){var k=typeof b;return w=w??d,!!w&&(k=="number"||k!="symbol"&&f.test(b))&&b>-1&&b%1==0&&b<w}l.exports=_}),xc=u((o,l)=>{var d=Ns(),f=gr(),_=Br(),b=Fs(),w=bl(),k=yl(),A=Object.prototype,R=A.hasOwnProperty;function Y(q,pe){var ge=_(q),Ve=!ge&&f(q),Je=!ge&&!Ve&&b(q),it=!ge&&!Ve&&!Je&&k(q),It=ge||Ve||Je||it,J=It?d(q.length,String):[],ne=J.length;for(var le in q)(pe||R.call(q,le))&&!(It&&(le=="length"||Je&&(le=="offset"||le=="parent")||it&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||w(le,ne)))&&J.push(le);return J}l.exports=Y}),wc=u((o,l)=>{function d(f){var _=[];if(f!=null)for(var b in Object(f))_.push(b);return _}l.exports=d}),Lc=u((o,l)=>{var d=ze(),f=yn(),_=wc(),b=Object.prototype,w=b.hasOwnProperty;function k(A){if(!d(A))return _(A);var R=f(A),Y=[];for(var q in A)q=="constructor"&&(R||!w.call(A,q))||Y.push(q);return Y}l.exports=k}),dr=u((o,l)=>{var d=xc(),f=Lc(),_=bn();function b(w){return _(w)?d(w,!0):f(w)}l.exports=b}),ct=u((o,l)=>{var d=bc(),f=dr();function _(b){return d(b,f(b))}l.exports=_}),xl=u((o,l)=>{var d=Ke(),f=$e(),_=ut(),b=_t(),w=pn(),k=gr(),A=Br(),R=Oo(),Y=Fs(),q=Be(),pe=ze(),ge=_l(),Ve=yl(),Je=vl(),it=ct();function It(J,ne,le,ve,ue,me,B){var j=Je(J,le),z=Je(ne,le),N=B.get(z);if(N){d(J,le,N);return}var H=me?me(j,z,le+"",J,ne,B):void 0,G=H===void 0;if(G){var ie=A(z),re=!ie&&Y(z),se=!ie&&!re&&Ve(z);H=z,ie||re||se?A(j)?H=j:R(j)?H=b(j):re?(G=!1,H=f(z,!0)):se?(G=!1,H=_(z,!0)):H=[]:ge(z)||k(z)?(H=j,k(j)?H=it(j):(!pe(j)||q(j))&&(H=w(z))):G=!1}G&&(B.set(z,H),ue(H,z,ve,me,B),B.delete(z)),d(J,le,H)}l.exports=It}),wl=u((o,l)=>{var d=Ne(),f=Ke(),_=Ge(),b=xl(),w=ze(),k=dr(),A=vl();function R(Y,q,pe,ge,Ve){Y!==q&&_(q,function(Je,it){if(Ve||(Ve=new d),w(Je))b(Y,q,it,pe,R,ge,Ve);else{var It=ge?ge(A(Y,it),Je,it+"",Y,q,Ve):void 0;It===void 0&&(It=Je),f(Y,it,It)}},k)}l.exports=R}),Vs=u((o,l)=>{function d(f){return f}l.exports=d}),Ll=u((o,l)=>{function d(f,_,b){switch(b.length){case 0:return f.call(_);case 1:return f.call(_,b[0]);case 2:return f.call(_,b[0],b[1]);case 3:return f.call(_,b[0],b[1],b[2])}return f.apply(_,b)}l.exports=d}),$s=u((o,l)=>{var d=Ll(),f=Math.max;function _(b,w,k){return w=f(w===void 0?b.length-1:w,0),function(){for(var A=arguments,R=-1,Y=f(A.length-w,0),q=Array(Y);++R<Y;)q[R]=A[w+R];R=-1;for(var pe=Array(w+1);++R<w;)pe[R]=A[R];return pe[w]=k(q),d(b,this,pe)}}l.exports=_}),Cl=u((o,l)=>{function d(f){return function(){return f}}l.exports=d}),Ti=u((o,l)=>{var d=Cl(),f=Se(),_=Vs(),b=f?function(w,k){return f(w,"toString",{configurable:!0,enumerable:!1,value:d(k),writable:!0})}:_;l.exports=b}),kl=u((o,l)=>{var d=800,f=16,_=Date.now;function b(w){var k=0,A=0;return function(){var R=_(),Y=f-(R-A);if(A=R,Y>0){if(++k>=d)return arguments[0]}else k=0;return w.apply(void 0,arguments)}}l.exports=b}),Cc=u((o,l)=>{var d=Ti(),f=kl(),_=f(d);l.exports=_}),kc=u((o,l)=>{var d=Vs(),f=$s(),_=Cc();function b(w,k){return _(f(w,k,d),w+"")}l.exports=b}),Ec=u((o,l)=>{var d=y(),f=bn(),_=bl(),b=ze();function w(k,A,R){if(!b(R))return!1;var Y=typeof A;return(Y=="number"?f(R)&&_(A,R.length):Y=="string"&&A in R)?d(R[A],k):!1}l.exports=w}),Mc=u((o,l)=>{var d=kc(),f=Ec();function _(b){return d(function(w,k){var A=-1,R=k.length,Y=R>1?k[R-1]:void 0,q=R>2?k[2]:void 0;for(Y=b.length>3&&typeof Y=="function"?(R--,Y):void 0,q&&f(k[0],k[1],q)&&(Y=R<3?void 0:Y,R=1),w=Object(w);++A<R;){var pe=k[A];pe&&b(w,pe,A,Y)}return w})}l.exports=_}),Do=u((o,l)=>{var d=wl(),f=Mc(),_=f(function(b,w,k){d(b,w,k)});l.exports=_}),zs=u((o,l)=>{var d=Pe(),f=vn(),_="[object Symbol]";function b(w){return typeof w=="symbol"||f(w)&&d(w)==_}l.exports=b}),Io=u((o,l)=>{var d=Br(),f=zs(),_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function w(k,A){if(d(k))return!1;var R=typeof k;return R=="number"||R=="symbol"||R=="boolean"||k==null||f(k)?!0:b.test(k)||!_.test(k)||A!=null&&k in Object(A)}l.exports=w}),Tc=u((o,l)=>{var d=te(),f="Expected a function";function _(b,w){if(typeof b!="function"||w!=null&&typeof w!="function")throw new TypeError(f);var k=function(){var A=arguments,R=w?w.apply(this,A):A[0],Y=k.cache;if(Y.has(R))return Y.get(R);var q=b.apply(this,A);return k.cache=Y.set(R,q)||Y,q};return k.cache=new(_.Cache||d),k}_.Cache=d,l.exports=_}),Sc=u((o,l)=>{var d=Tc(),f=500;function _(b){var w=d(b,function(A){return k.size===f&&k.clear(),A}),k=w.cache;return w}l.exports=_}),Pc=u((o,l)=>{var d=Sc(),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_=/\\(\\)?/g,b=d(function(w){var k=[];return w.charCodeAt(0)===46&&k.push(""),w.replace(f,function(A,R,Y,q){k.push(Y?q.replace(_,"$1"):R||A)}),k});l.exports=b}),Bc=u((o,l)=>{function d(f,_){for(var b=-1,w=f==null?0:f.length,k=Array(w);++b<w;)k[b]=_(f[b],b,f);return k}l.exports=d}),Ac=u((o,l)=>{var d=be(),f=Bc(),_=Br(),b=zs(),w=d?d.prototype:void 0,k=w?w.toString:void 0;function A(R){if(typeof R=="string")return R;if(_(R))return f(R,A)+"";if(b(R))return k?k.call(R):"";var Y=R+"";return Y=="0"&&1/R==-1/0?"-0":Y}l.exports=A}),Hs=u((o,l)=>{var d=Ac();function f(_){return _==null?"":d(_)}l.exports=f}),Yi=u((o,l)=>{var d=Br(),f=Io(),_=Pc(),b=Hs();function w(k,A){return d(k)?k:f(k,A)?[k]:_(b(k))}l.exports=w}),El=u((o,l)=>{var d=zs();function f(_){if(typeof _=="string"||d(_))return _;var b=_+"";return b=="0"&&1/_==-1/0?"-0":b}l.exports=f}),Ml=u((o,l)=>{var d=Yi(),f=El();function _(b,w){w=d(w,b);for(var k=0,A=w.length;b!=null&&k<A;)b=b[f(w[k++])];return k&&k==A?b:void 0}l.exports=_}),Hr=u((o,l)=>{var d=Ml();function f(_,b,w){var k=_==null?void 0:d(_,b);return k===void 0?w:k}l.exports=f}),Nt=u((o,l)=>{(function(d,f){typeof o=="object"&&typeof l<"u"?l.exports=f():(d=d||self).RBush=f()})(o,function(){function d(J,ne,le,ve,ue){(function me(B,j,z,N,H){for(;N>z;){if(N-z>600){var G=N-z+1,ie=j-z+1,re=Math.log(G),se=.5*Math.exp(2*re/3),he=.5*Math.sqrt(re*se*(G-se)/G)*(ie-G/2<0?-1:1),de=Math.max(z,Math.floor(j-ie*se/G+he)),De=Math.min(N,Math.floor(j+(G-ie)*se/G+he));me(B,j,de,De,H)}var nt=B[j],at=z,ft=N;for(f(B,z,j),H(B[N],nt)>0&&f(B,z,N);at<ft;){for(f(B,at,ft),at++,ft--;H(B[at],nt)<0;)at++;for(;H(B[ft],nt)>0;)ft--}H(B[z],nt)===0?f(B,z,ft):f(B,++ft,N),ft<=j&&(z=ft+1),j<=ft&&(N=ft-1)}})(J,ne,le||0,ve||J.length-1,ue||_)}function f(J,ne,le){var ve=J[ne];J[ne]=J[le],J[le]=ve}function _(J,ne){return J<ne?-1:J>ne?1:0}var b=function(J){J===void 0&&(J=9),this._maxEntries=Math.max(4,J),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function w(J,ne,le){if(!le)return ne.indexOf(J);for(var ve=0;ve<ne.length;ve++)if(le(J,ne[ve]))return ve;return-1}function k(J,ne){A(J,0,J.children.length,ne,J)}function A(J,ne,le,ve,ue){ue||(ue=it(null)),ue.minX=1/0,ue.minY=1/0,ue.maxX=-1/0,ue.maxY=-1/0;for(var me=ne;me<le;me++){var B=J.children[me];R(ue,J.leaf?ve(B):B)}return ue}function R(J,ne){return J.minX=Math.min(J.minX,ne.minX),J.minY=Math.min(J.minY,ne.minY),J.maxX=Math.max(J.maxX,ne.maxX),J.maxY=Math.max(J.maxY,ne.maxY),J}function Y(J,ne){return J.minX-ne.minX}function q(J,ne){return J.minY-ne.minY}function pe(J){return(J.maxX-J.minX)*(J.maxY-J.minY)}function ge(J){return J.maxX-J.minX+(J.maxY-J.minY)}function Ve(J,ne){return J.minX<=ne.minX&&J.minY<=ne.minY&&ne.maxX<=J.maxX&&ne.maxY<=J.maxY}function Je(J,ne){return ne.minX<=J.maxX&&ne.minY<=J.maxY&&ne.maxX>=J.minX&&ne.maxY>=J.minY}function it(J){return{children:J,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function It(J,ne,le,ve,ue){for(var me=[ne,le];me.length;)if(!((le=me.pop())-(ne=me.pop())<=ve)){var B=ne+Math.ceil((le-ne)/ve/2)*ve;d(J,B,ne,le,ue),me.push(ne,B,B,le)}}return b.prototype.all=function(){return this._all(this.data,[])},b.prototype.search=function(J){var ne=this.data,le=[];if(!Je(J,ne))return le;for(var ve=this.toBBox,ue=[];ne;){for(var me=0;me<ne.children.length;me++){var B=ne.children[me],j=ne.leaf?ve(B):B;Je(J,j)&&(ne.leaf?le.push(B):Ve(J,j)?this._all(B,le):ue.push(B))}ne=ue.pop()}return le},b.prototype.collides=function(J){var ne=this.data;if(!Je(J,ne))return!1;for(var le=[];ne;){for(var ve=0;ve<ne.children.length;ve++){var ue=ne.children[ve],me=ne.leaf?this.toBBox(ue):ue;if(Je(J,me)){if(ne.leaf||Ve(J,me))return!0;le.push(ue)}}ne=le.pop()}return!1},b.prototype.load=function(J){if(!J||!J.length)return this;if(J.length<this._minEntries){for(var ne=0;ne<J.length;ne++)this.insert(J[ne]);return this}var le=this._build(J.slice(),0,J.length-1,0);if(this.data.children.length)if(this.data.height===le.height)this._splitRoot(this.data,le);else{if(this.data.height<le.height){var ve=this.data;this.data=le,le=ve}this._insert(le,this.data.height-le.height-1,!0)}else this.data=le;return this},b.prototype.insert=function(J){return J&&this._insert(J,this.data.height-1),this},b.prototype.clear=function(){return this.data=it([]),this},b.prototype.remove=function(J,ne){if(!J)return this;for(var le,ve,ue,me=this.data,B=this.toBBox(J),j=[],z=[];me||j.length;){if(me||(me=j.pop(),ve=j[j.length-1],le=z.pop(),ue=!0),me.leaf){var N=w(J,me.children,ne);if(N!==-1)return me.children.splice(N,1),j.push(me),this._condense(j),this}ue||me.leaf||!Ve(me,B)?ve?(le++,me=ve.children[le],ue=!1):me=null:(j.push(me),z.push(le),le=0,ve=me,me=me.children[0])}return this},b.prototype.toBBox=function(J){return J},b.prototype.compareMinX=function(J,ne){return J.minX-ne.minX},b.prototype.compareMinY=function(J,ne){return J.minY-ne.minY},b.prototype.toJSON=function(){return this.data},b.prototype.fromJSON=function(J){return this.data=J,this},b.prototype._all=function(J,ne){for(var le=[];J;)J.leaf?ne.push.apply(ne,J.children):le.push.apply(le,J.children),J=le.pop();return ne},b.prototype._build=function(J,ne,le,ve){var ue,me=le-ne+1,B=this._maxEntries;if(me<=B)return k(ue=it(J.slice(ne,le+1)),this.toBBox),ue;ve||(ve=Math.ceil(Math.log(me)/Math.log(B)),B=Math.ceil(me/Math.pow(B,ve-1))),(ue=it([])).leaf=!1,ue.height=ve;var j=Math.ceil(me/B),z=j*Math.ceil(Math.sqrt(B));It(J,ne,le,z,this.compareMinX);for(var N=ne;N<=le;N+=z){var H=Math.min(N+z-1,le);It(J,N,H,j,this.compareMinY);for(var G=N;G<=H;G+=j){var ie=Math.min(G+j-1,H);ue.children.push(this._build(J,G,ie,ve-1))}}return k(ue,this.toBBox),ue},b.prototype._chooseSubtree=function(J,ne,le,ve){for(;ve.push(ne),!ne.leaf&&ve.length-1!==le;){for(var ue=1/0,me=1/0,B=void 0,j=0;j<ne.children.length;j++){var z=ne.children[j],N=pe(z),H=(G=J,ie=z,(Math.max(ie.maxX,G.maxX)-Math.min(ie.minX,G.minX))*(Math.max(ie.maxY,G.maxY)-Math.min(ie.minY,G.minY))-N);H<me?(me=H,ue=N<ue?N:ue,B=z):H===me&&N<ue&&(ue=N,B=z)}ne=B||ne.children[0]}var G,ie;return ne},b.prototype._insert=function(J,ne,le){var ve=le?J:this.toBBox(J),ue=[],me=this._chooseSubtree(ve,this.data,ne,ue);for(me.children.push(J),R(me,ve);ne>=0&&ue[ne].children.length>this._maxEntries;)this._split(ue,ne),ne--;this._adjustParentBBoxes(ve,ue,ne)},b.prototype._split=function(J,ne){var le=J[ne],ve=le.children.length,ue=this._minEntries;this._chooseSplitAxis(le,ue,ve);var me=this._chooseSplitIndex(le,ue,ve),B=it(le.children.splice(me,le.children.length-me));B.height=le.height,B.leaf=le.leaf,k(le,this.toBBox),k(B,this.toBBox),ne?J[ne-1].children.push(B):this._splitRoot(le,B)},b.prototype._splitRoot=function(J,ne){this.data=it([J,ne]),this.data.height=J.height+1,this.data.leaf=!1,k(this.data,this.toBBox)},b.prototype._chooseSplitIndex=function(J,ne,le){for(var ve,ue,me,B,j,z,N,H=1/0,G=1/0,ie=ne;ie<=le-ne;ie++){var re=A(J,0,ie,this.toBBox),se=A(J,ie,le,this.toBBox),he=(ue=re,me=se,B=void 0,j=void 0,z=void 0,N=void 0,B=Math.max(ue.minX,me.minX),j=Math.max(ue.minY,me.minY),z=Math.min(ue.maxX,me.maxX),N=Math.min(ue.maxY,me.maxY),Math.max(0,z-B)*Math.max(0,N-j)),de=pe(re)+pe(se);he<H?(H=he,ve=ie,G=de<G?de:G):he===H&&de<G&&(G=de,ve=ie)}return ve||le-ne},b.prototype._chooseSplitAxis=function(J,ne,le){var ve=J.leaf?this.compareMinX:Y,ue=J.leaf?this.compareMinY:q;this._allDistMargin(J,ne,le,ve)<this._allDistMargin(J,ne,le,ue)&&J.children.sort(ve)},b.prototype._allDistMargin=function(J,ne,le,ve){J.children.sort(ve);for(var ue=this.toBBox,me=A(J,0,ne,ue),B=A(J,le-ne,le,ue),j=ge(me)+ge(B),z=ne;z<le-ne;z++){var N=J.children[z];R(me,J.leaf?ue(N):N),j+=ge(me)}for(var H=le-ne-1;H>=ne;H--){var G=J.children[H];R(B,J.leaf?ue(G):G),j+=ge(B)}return j},b.prototype._adjustParentBBoxes=function(J,ne,le){for(var ve=le;ve>=0;ve--)R(ne[ve],J)},b.prototype._condense=function(J){for(var ne=J.length-1,le=void 0;ne>=0;ne--)J[ne].children.length===0?ne>0?(le=J[ne-1].children).splice(le.indexOf(J[ne]),1):this.clear():k(J[ne],this.toBBox)},b})}),tn=u(o=>{Object.defineProperty(o,"__esModule",{value:!0}),o.earthRadius=63710088e-1,o.factors={centimeters:o.earthRadius*100,centimetres:o.earthRadius*100,degrees:o.earthRadius/111325,feet:o.earthRadius*3.28084,inches:o.earthRadius*39.37,kilometers:o.earthRadius/1e3,kilometres:o.earthRadius/1e3,meters:o.earthRadius,metres:o.earthRadius,miles:o.earthRadius/1609.344,millimeters:o.earthRadius*1e3,millimetres:o.earthRadius*1e3,nauticalmiles:o.earthRadius/1852,radians:1,yards:o.earthRadius*1.0936},o.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/o.earthRadius,yards:1.0936133},o.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function l(N,H,G){G===void 0&&(G={});var ie={type:"Feature"};return(G.id===0||G.id)&&(ie.id=G.id),G.bbox&&(ie.bbox=G.bbox),ie.properties=H||{},ie.geometry=N,ie}o.feature=l;function d(N,H,G){switch(N){case"Point":return f(H).geometry;case"LineString":return k(H).geometry;case"Polygon":return b(H).geometry;case"MultiPoint":return q(H).geometry;case"MultiLineString":return Y(H).geometry;case"MultiPolygon":return pe(H).geometry;default:throw new Error(N+" is invalid")}}o.geometry=d;function f(N,H,G){if(G===void 0&&(G={}),!N)throw new Error("coordinates is required");if(!Array.isArray(N))throw new Error("coordinates must be an Array");if(N.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!me(N[0])||!me(N[1]))throw new Error("coordinates must contain numbers");var ie={type:"Point",coordinates:N};return l(ie,H,G)}o.point=f;function _(N,H,G){return G===void 0&&(G={}),R(N.map(function(ie){return f(ie,H)}),G)}o.points=_;function b(N,H,G){G===void 0&&(G={});for(var ie=0,re=N;ie<re.length;ie++){var se=re[ie];if(se.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var he=0;he<se[se.length-1].length;he++)if(se[se.length-1][he]!==se[0][he])throw new Error("First and last Position are not equivalent.")}var de={type:"Polygon",coordinates:N};return l(de,H,G)}o.polygon=b;function w(N,H,G){return G===void 0&&(G={}),R(N.map(function(ie){return b(ie,H)}),G)}o.polygons=w;function k(N,H,G){if(G===void 0&&(G={}),N.length<2)throw new Error("coordinates must be an array of two or more positions");var ie={type:"LineString",coordinates:N};return l(ie,H,G)}o.lineString=k;function A(N,H,G){return G===void 0&&(G={}),R(N.map(function(ie){return k(ie,H)}),G)}o.lineStrings=A;function R(N,H){H===void 0&&(H={});var G={type:"FeatureCollection"};return H.id&&(G.id=H.id),H.bbox&&(G.bbox=H.bbox),G.features=N,G}o.featureCollection=R;function Y(N,H,G){G===void 0&&(G={});var ie={type:"MultiLineString",coordinates:N};return l(ie,H,G)}o.multiLineString=Y;function q(N,H,G){G===void 0&&(G={});var ie={type:"MultiPoint",coordinates:N};return l(ie,H,G)}o.multiPoint=q;function pe(N,H,G){G===void 0&&(G={});var ie={type:"MultiPolygon",coordinates:N};return l(ie,H,G)}o.multiPolygon=pe;function ge(N,H,G){G===void 0&&(G={});var ie={type:"GeometryCollection",geometries:N};return l(ie,H,G)}o.geometryCollection=ge;function Ve(N,H){if(H===void 0&&(H=0),H&&!(H>=0))throw new Error("precision must be a positive number");var G=Math.pow(10,H||0);return Math.round(N*G)/G}o.round=Ve;function Je(N,H){H===void 0&&(H="kilometers");var G=o.factors[H];if(!G)throw new Error(H+" units is invalid");return N*G}o.radiansToLength=Je;function it(N,H){H===void 0&&(H="kilometers");var G=o.factors[H];if(!G)throw new Error(H+" units is invalid");return N/G}o.lengthToRadians=it;function It(N,H){return ne(it(N,H))}o.lengthToDegrees=It;function J(N){var H=N%360;return H<0&&(H+=360),H}o.bearingToAzimuth=J;function ne(N){var H=N%(2*Math.PI);return H*180/Math.PI}o.radiansToDegrees=ne;function le(N){var H=N%360;return H*Math.PI/180}o.degreesToRadians=le;function ve(N,H,G){if(H===void 0&&(H="kilometers"),G===void 0&&(G="kilometers"),!(N>=0))throw new Error("length must be a positive number");return Je(it(N,H),G)}o.convertLength=ve;function ue(N,H,G){if(H===void 0&&(H="meters"),G===void 0&&(G="kilometers"),!(N>=0))throw new Error("area must be a positive number");var ie=o.areaFactors[H];if(!ie)throw new Error("invalid original units");var re=o.areaFactors[G];if(!re)throw new Error("invalid final units");return N/ie*re}o.convertArea=ue;function me(N){return!isNaN(N)&&N!==null&&!Array.isArray(N)}o.isNumber=me;function B(N){return!!N&&N.constructor===Object}o.isObject=B;function j(N){if(!N)throw new Error("bbox is required");if(!Array.isArray(N))throw new Error("bbox must be an Array");if(N.length!==4&&N.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");N.forEach(function(H){if(!me(H))throw new Error("bbox must only contain numbers")})}o.validateBBox=j;function z(N){if(!N)throw new Error("id is required");if(["string","number"].indexOf(typeof N)===-1)throw new Error("id must be a number or a string")}o.validateId=z}),Xi=u(o=>{Object.defineProperty(o,"__esModule",{value:!0});var l=tn();function d(ne,le,ve){if(ne!==null)for(var ue,me,B,j,z,N,H,G=0,ie=0,re,se=ne.type,he=se==="FeatureCollection",de=se==="Feature",De=he?ne.features.length:1,nt=0;nt<De;nt++){H=he?ne.features[nt].geometry:de?ne.geometry:ne,re=H?H.type==="GeometryCollection":!1,z=re?H.geometries.length:1;for(var at=0;at<z;at++){var ft=0,qt=0;if(j=re?H.geometries[at]:H,j!==null){N=j.coordinates;var Jt=j.type;switch(G=ve&&(Jt==="Polygon"||Jt==="MultiPolygon")?1:0,Jt){case null:break;case"Point":if(le(N,ie,nt,ft,qt)===!1)return!1;ie++,ft++;break;case"LineString":case"MultiPoint":for(ue=0;ue<N.length;ue++){if(le(N[ue],ie,nt,ft,qt)===!1)return!1;ie++,Jt==="MultiPoint"&&ft++}Jt==="LineString"&&ft++;break;case"Polygon":case"MultiLineString":for(ue=0;ue<N.length;ue++){for(me=0;me<N[ue].length-G;me++){if(le(N[ue][me],ie,nt,ft,qt)===!1)return!1;ie++}Jt==="MultiLineString"&&ft++,Jt==="Polygon"&&qt++}Jt==="Polygon"&&ft++;break;case"MultiPolygon":for(ue=0;ue<N.length;ue++){for(qt=0,me=0;me<N[ue].length;me++){for(B=0;B<N[ue][me].length-G;B++){if(le(N[ue][me][B],ie,nt,ft,qt)===!1)return!1;ie++}qt++}ft++}break;case"GeometryCollection":for(ue=0;ue<j.geometries.length;ue++)if(d(j.geometries[ue],le,ve)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(ne,le,ve,ue){var me=ve;return d(ne,function(B,j,z,N,H){j===0&&ve===void 0?me=B:me=le(me,B,j,z,N,H)},ue),me}function _(ne,le){var ve;switch(ne.type){case"FeatureCollection":for(ve=0;ve<ne.features.length&&le(ne.features[ve].properties,ve)!==!1;ve++);break;case"Feature":le(ne.properties,0);break}}function b(ne,le,ve){var ue=ve;return _(ne,function(me,B){B===0&&ve===void 0?ue=me:ue=le(ue,me,B)}),ue}function w(ne,le){if(ne.type==="Feature")le(ne,0);else if(ne.type==="FeatureCollection")for(var ve=0;ve<ne.features.length&&le(ne.features[ve],ve)!==!1;ve++);}function k(ne,le,ve){var ue=ve;return w(ne,function(me,B){B===0&&ve===void 0?ue=me:ue=le(ue,me,B)}),ue}function A(ne){var le=[];return d(ne,function(ve){le.push(ve)}),le}function R(ne,le){var ve,ue,me,B,j,z,N,H,G,ie,re=0,se=ne.type==="FeatureCollection",he=ne.type==="Feature",de=se?ne.features.length:1;for(ve=0;ve<de;ve++){for(z=se?ne.features[ve].geometry:he?ne.geometry:ne,H=se?ne.features[ve].properties:he?ne.properties:{},G=se?ne.features[ve].bbox:he?ne.bbox:void 0,ie=se?ne.features[ve].id:he?ne.id:void 0,N=z?z.type==="GeometryCollection":!1,j=N?z.geometries.length:1,me=0;me<j;me++){if(B=N?z.geometries[me]:z,B===null){if(le(null,re,H,G,ie)===!1)return!1;continue}switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(le(B,re,H,G,ie)===!1)return!1;break}case"GeometryCollection":{for(ue=0;ue<B.geometries.length;ue++)if(le(B.geometries[ue],re,H,G,ie)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}re++}}function Y(ne,le,ve){var ue=ve;return R(ne,function(me,B,j,z,N){B===0&&ve===void 0?ue=me:ue=le(ue,me,B,j,z,N)}),ue}function q(ne,le){R(ne,function(ve,ue,me,B,j){var z=ve===null?null:ve.type;switch(z){case null:case"Point":case"LineString":case"Polygon":return le(l.feature(ve,me,{bbox:B,id:j}),ue,0)===!1?!1:void 0}var N;switch(z){case"MultiPoint":N="Point";break;case"MultiLineString":N="LineString";break;case"MultiPolygon":N="Polygon";break}for(var H=0;H<ve.coordinates.length;H++){var G=ve.coordinates[H],ie={type:N,coordinates:G};if(le(l.feature(ie,me),ue,H)===!1)return!1}})}function pe(ne,le,ve){var ue=ve;return q(ne,function(me,B,j){B===0&&j===0&&ve===void 0?ue=me:ue=le(ue,me,B,j)}),ue}function ge(ne,le){q(ne,function(ve,ue,me){var B=0;if(ve.geometry){var j=ve.geometry.type;if(!(j==="Point"||j==="MultiPoint")){var z,N=0,H=0,G=0;if(d(ve,function(ie,re,se,he,de){if(z===void 0||ue>N||he>H||de>G){z=ie,N=ue,H=he,G=de,B=0;return}var De=l.lineString([z,ie],ve.properties);if(le(De,ue,me,de,B)===!1)return!1;B++,z=ie})===!1)return!1}}})}function Ve(ne,le,ve){var ue=ve,me=!1;return ge(ne,function(B,j,z,N,H){me===!1&&ve===void 0?ue=B:ue=le(ue,B,j,z,N,H),me=!0}),ue}function Je(ne,le){if(!ne)throw new Error("geojson is required");q(ne,function(ve,ue,me){if(ve.geometry!==null){var B=ve.geometry.type,j=ve.geometry.coordinates;switch(B){case"LineString":if(le(ve,ue,me,0,0)===!1)return!1;break;case"Polygon":for(var z=0;z<j.length;z++)if(le(l.lineString(j[z],ve.properties),ue,me,z)===!1)return!1;break}}})}function it(ne,le,ve){var ue=ve;return Je(ne,function(me,B,j,z){B===0&&ve===void 0?ue=me:ue=le(ue,me,B,j,z)}),ue}function It(ne,le){if(le=le||{},!l.isObject(le))throw new Error("options is invalid");var ve=le.featureIndex||0,ue=le.multiFeatureIndex||0,me=le.geometryIndex||0,B=le.segmentIndex||0,j=le.properties,z;switch(ne.type){case"FeatureCollection":ve<0&&(ve=ne.features.length+ve),j=j||ne.features[ve].properties,z=ne.features[ve].geometry;break;case"Feature":j=j||ne.properties,z=ne.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":z=ne;break;default:throw new Error("geojson is invalid")}if(z===null)return null;var N=z.coordinates;switch(z.type){case"Point":case"MultiPoint":return null;case"LineString":return B<0&&(B=N.length+B-1),l.lineString([N[B],N[B+1]],j,le);case"Polygon":return me<0&&(me=N.length+me),B<0&&(B=N[me].length+B-1),l.lineString([N[me][B],N[me][B+1]],j,le);case"MultiLineString":return ue<0&&(ue=N.length+ue),B<0&&(B=N[ue].length+B-1),l.lineString([N[ue][B],N[ue][B+1]],j,le);case"MultiPolygon":return ue<0&&(ue=N.length+ue),me<0&&(me=N[ue].length+me),B<0&&(B=N[ue][me].length-B-1),l.lineString([N[ue][me][B],N[ue][me][B+1]],j,le)}throw new Error("geojson is invalid")}function J(ne,le){if(le=le||{},!l.isObject(le))throw new Error("options is invalid");var ve=le.featureIndex||0,ue=le.multiFeatureIndex||0,me=le.geometryIndex||0,B=le.coordIndex||0,j=le.properties,z;switch(ne.type){case"FeatureCollection":ve<0&&(ve=ne.features.length+ve),j=j||ne.features[ve].properties,z=ne.features[ve].geometry;break;case"Feature":j=j||ne.properties,z=ne.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":z=ne;break;default:throw new Error("geojson is invalid")}if(z===null)return null;var N=z.coordinates;switch(z.type){case"Point":return l.point(N,j,le);case"MultiPoint":return ue<0&&(ue=N.length+ue),l.point(N[ue],j,le);case"LineString":return B<0&&(B=N.length+B),l.point(N[B],j,le);case"Polygon":return me<0&&(me=N.length+me),B<0&&(B=N[me].length+B),l.point(N[me][B],j,le);case"MultiLineString":return ue<0&&(ue=N.length+ue),B<0&&(B=N[ue].length+B),l.point(N[ue][B],j,le);case"MultiPolygon":return ue<0&&(ue=N.length+ue),me<0&&(me=N[ue].length+me),B<0&&(B=N[ue][me].length-B),l.point(N[ue][me][B],j,le)}throw new Error("geojson is invalid")}o.coordAll=A,o.coordEach=d,o.coordReduce=f,o.featureEach=w,o.featureReduce=k,o.findPoint=J,o.findSegment=It,o.flattenEach=q,o.flattenReduce=pe,o.geomEach=R,o.geomReduce=Y,o.lineEach=Je,o.lineReduce=it,o.propEach=_,o.propReduce=b,o.segmentEach=ge,o.segmentReduce=Ve}),Si=u(o=>{Object.defineProperty(o,"__esModule",{value:!0});var l=Xi();function d(f){var _=[1/0,1/0,-1/0,-1/0];return l.coordEach(f,function(b){_[0]>b[0]&&(_[0]=b[0]),_[1]>b[1]&&(_[1]=b[1]),_[2]<b[0]&&(_[2]=b[0]),_[3]<b[1]&&(_[3]=b[1])}),_}d.default=d,o.default=d}),ri=u((o,l)=>{var d=Nt(),f=tn(),_=Xi(),b=Si().default,w=_.featureEach;_.coordEach,f.polygon;var k=f.featureCollection;function A(R){var Y=new d(R);return Y.insert=function(q){if(q.type!=="Feature")throw new Error("invalid feature");return q.bbox=q.bbox?q.bbox:b(q),d.prototype.insert.call(this,q)},Y.load=function(q){var pe=[];return Array.isArray(q)?q.forEach(function(ge){if(ge.type!=="Feature")throw new Error("invalid features");ge.bbox=ge.bbox?ge.bbox:b(ge),pe.push(ge)}):w(q,function(ge){if(ge.type!=="Feature")throw new Error("invalid features");ge.bbox=ge.bbox?ge.bbox:b(ge),pe.push(ge)}),d.prototype.load.call(this,pe)},Y.remove=function(q,pe){if(q.type!=="Feature")throw new Error("invalid feature");return q.bbox=q.bbox?q.bbox:b(q),d.prototype.remove.call(this,q,pe)},Y.clear=function(){return d.prototype.clear.call(this)},Y.search=function(q){var pe=d.prototype.search.call(this,this.toBBox(q));return k(pe)},Y.collides=function(q){return d.prototype.collides.call(this,this.toBBox(q))},Y.all=function(){var q=d.prototype.all.call(this);return k(q)},Y.toJSON=function(){return d.prototype.toJSON.call(this)},Y.fromJSON=function(q){return d.prototype.fromJSON.call(this,q)},Y.toBBox=function(q){var pe;if(q.bbox)pe=q.bbox;else if(Array.isArray(q)&&q.length===4)pe=q;else if(Array.isArray(q)&&q.length===6)pe=[q[0],q[1],q[3],q[4]];else if(q.type==="Feature")pe=b(q);else if(q.type==="FeatureCollection")pe=b(q);else throw new Error("invalid geojson");return{minX:pe[0],minY:pe[1],maxX:pe[2],maxY:pe[3]}},Y}l.exports=A,l.exports.default=A});Array.prototype.findIndex=Array.prototype.findIndex||function(o){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var l=Object(this),d=l.length>>>0,f=arguments[1],_=0;_<d;_++)if(o.call(f,l[_],_,l))return _;return-1},Array.prototype.find=Array.prototype.find||function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var l=Object(this),d=l.length>>>0,f=arguments[1],_=0;_<d;_++){var b=l[_];if(o.call(f,b,_,l))return b}},typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");o=Object(o);for(var l=1;l<arguments.length;l++){var d=arguments[l];if(d!=null)for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}return o}),function(o){o.forEach(function(l){l.hasOwnProperty("remove")||Object.defineProperty(l,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,l){if(this==null)throw new TypeError('"this" is null or not defined');var d=Object(this),f=d.length>>>0;if(f===0)return!1;var _=l|0,b=Math.max(_>=0?_:f-Math.abs(_),0);function w(k,A){return k===A||typeof k=="number"&&typeof A=="number"&&isNaN(k)&&isNaN(A)}for(;b<f;){if(w(d[b],o))return!0;b++}return!1}});var Us={version:"2.18.3"},kt=m(Do()),ln={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Gs={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},jo={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},rr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Oc={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Fo={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},ii={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},dn={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},oi={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Qi={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},eo={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},qs={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Pi={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Zs={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},Ks={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},No={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},Ws={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},Js={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Vo={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Tl={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Ys={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Rc={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},Ct={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},yr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Wt={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},Sl={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Xs={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Qs=Pi,Ur={en:ln,de:Gs,it:jo,id:rr,ro:Oc,ru:Fo,es:ii,nl:dn,fr:oi,pt:Qs,pt_br:qs,pt_pt:Pi,zh:Qi,zh_tw:eo,pl:Zs,sv:Ks,el:No,hu:Ws,da:Js,no:Vo,fa:Tl,ua:Ys,tr:Rc,cz:Ct,ja:yr,fi:Wt,ko:Sl,ky:Xs},si={_globalEditModeEnabled:!1,enableGlobalEditMode(o){let l={...o};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(d=>{this._isRelevantForEdit(d)&&d.pm.enable(l)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(o=>{o.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(o=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(o)},handleLayerAdditionInGlobalEditMode(){let o=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let l in o){let d=o[l];this._isRelevantForEdit(d)&&d.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:o}){this._addedLayersEdit[L.stamp(o)]=o},_isRelevantForEdit(o){return o.pm&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.allowEditing}},ea=si,to={_globalDragModeEnabled:!1,enableGlobalDragMode(){let o=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},o.forEach(l=>{this._isRelevantForDrag(l)&&l.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let o=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,o.forEach(l=>{l.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let o=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let l in o){let d=o[l];this._isRelevantForDrag(d)&&d.pm.enableLayerDrag()}},_layerAddedDrag({layer:o}){this._addedLayersDrag[L.stamp(o)]=o},_isRelevantForDrag(o){return o.pm&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.draggable}},wn=to,ai={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(o=>{this._isRelevantForRemoval(o)&&(o.pm.enabled()&&o.pm.disable(),o.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(o=>{o.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(o){let l=o.target;this._isRelevantForRemoval(l)&&!l.pm.dragging()&&(l.removeFrom(this.map.pm._getContainingLayer()),l.remove(),l instanceof L.LayerGroup?(this._fireRemoveLayerGroup(l),this._fireRemoveLayerGroup(this.map,l)):(l.pm._fireRemove(l),l.pm._fireRemove(this.map,l)))},_isRelevantForRemoval(o){return o.pm&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let o=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let l in o){let d=o[l];this._isRelevantForRemoval(d)&&(d.pm.enabled()&&d.pm.disable(),d.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:o}){this._addedLayersRemoval[L.stamp(o)]=o}},Pl=ai,Bl={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(o=>o instanceof L.Polyline).forEach(o=>{this._isRelevantForRotate(o)&&o.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(o=>o instanceof L.Polyline).forEach(o=>{o.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(o){return o.pm&&o instanceof L.Polyline&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let o=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let l in o){let d=o[l];this._isRelevantForRemoval(d)&&d.pm.enableRotate()}},_layerAddedRotate({layer:o}){this._addedLayersRotate[L.stamp(o)]=o}},Dc=Bl,Al=m(Do()),ta={_fireDrawStart(o="Draw",l={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},o,l)},_fireDrawEnd(o="Draw",l={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},o,l)},_fireCreate(o,l="Draw",d={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:o,layer:o},l,d)},_fireCenterPlaced(o="Draw",l={}){let d=o==="Draw"?this._layer:void 0,f=o!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:d,layer:f,latlng:this._layer.getLatLng()},o,l)},_fireCut(o,l,d,f="Draw",_={}){this.__fire(o,"pm:cut",{shape:this._shape,layer:l,originalLayer:d},f,_)},_fireEdit(o=this._layer,l="Edit",d={}){this.__fire(o,"pm:edit",{layer:this._layer,shape:this.getShape()},l,d)},_fireEnable(o="Edit",l={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},o,l)},_fireDisable(o="Edit",l={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},o,l)},_fireUpdate(o="Edit",l={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},o,l)},_fireMarkerDragStart(o,l=void 0,d="Edit",f={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:o,shape:this.getShape(),indexPath:l},d,f)},_fireMarkerDrag(o,l=void 0,d="Edit",f={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:o,shape:this.getShape(),indexPath:l},d,f)},_fireMarkerDragEnd(o,l=void 0,d=void 0,f="Edit",_={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:o,shape:this.getShape(),indexPath:l,intersectionReset:d},f,_)},_fireDragStart(o="Edit",l={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},o,l)},_fireDrag(o,l="Edit",d={}){this.__fire(this._layer,"pm:drag",{...o,shape:this.getShape()},l,d)},_fireDragEnd(o="Edit",l={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},o,l)},_fireDragEnable(o="Edit",l={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},o,l)},_fireDragDisable(o="Edit",l={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},o,l)},_fireRemove(o,l=o,d="Edit",f={}){this.__fire(o,"pm:remove",{layer:l,shape:this.getShape()},d,f)},_fireVertexAdded(o,l,d,f="Edit",_={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:o,indexPath:l,latlng:d,shape:this.getShape()},f,_)},_fireVertexRemoved(o,l,d="Edit",f={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:o,indexPath:l,shape:this.getShape()},d,f)},_fireVertexClick(o,l,d="Edit",f={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:o,indexPath:l,shape:this.getShape()},d,f)},_fireIntersect(o,l=this._layer,d="Edit",f={}){this.__fire(l,"pm:intersect",{layer:this._layer,intersection:o,shape:this.getShape()},d,f)},_fireLayerReset(o,l,d="Edit",f={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:o,indexPath:l,shape:this.getShape()},d,f)},_fireChange(o,l="Edit",d={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:o,shape:this.getShape()},l,d)},_fireTextChange(o,l="Edit",d={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:o,shape:this.getShape()},l,d)},_fireTextFocus(o="Edit",l={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},o,l)},_fireTextBlur(o="Edit",l={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},o,l)},_fireSnapDrag(o,l,d="Snapping",f={}){this.__fire(o,"pm:snapdrag",l,d,f)},_fireSnap(o,l,d="Snapping",f={}){this.__fire(o,"pm:snap",l,d,f)},_fireUnsnap(o,l,d="Snapping",f={}){this.__fire(o,"pm:unsnap",l,d,f)},_fireRotationEnable(o,l,d="Rotation",f={}){this.__fire(o,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},d,f)},_fireRotationDisable(o,l="Rotation",d={}){this.__fire(o,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},l,d)},_fireRotationStart(o,l,d="Rotation",f={}){this.__fire(o,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:l},d,f)},_fireRotation(o,l,d,f=this._rotationLayer,_="Rotation",b={}){this.__fire(o,"pm:rotate",{layer:f,helpLayer:this._layer,startAngle:this._startAngle,angle:f.pm.getAngle(),angleDiff:l,oldLatLngs:d,newLatLngs:f.getLatLngs()},_,b)},_fireRotationEnd(o,l,d,f="Rotation",_={}){this.__fire(o,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:l,angle:this._rotationLayer.pm.getAngle(),originLatLngs:d,newLatLngs:this._rotationLayer.getLatLngs()},f,_)},_fireActionClick(o,l,d,f="Toolbar",_={}){this.__fire(this._map,"pm:actionclick",{text:o.text,action:o,btnName:l,button:d},f,_)},_fireButtonClick(o,l,d="Toolbar",f={}){this.__fire(this._map,"pm:buttonclick",{btnName:o,button:l},d,f)},_fireLangChange(o,l,d,f,_="Global",b={}){this.__fire(this.map,"pm:langchange",{oldLang:o,activeLang:l,fallback:d,translations:f},_,b)},_fireGlobalDragModeToggled(o,l="Global",d={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:o,map:this.map},l,d)},_fireGlobalEditModeToggled(o,l="Global",d={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:o,map:this.map},l,d)},_fireGlobalRemovalModeToggled(o,l="Global",d={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:o,map:this.map},l,d)},_fireGlobalCutModeToggled(o="Global",l={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},o,l)},_fireGlobalDrawModeToggled(o="Global",l={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},o,l)},_fireGlobalRotateModeToggled(o="Global",l={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},o,l)},_fireRemoveLayerGroup(o,l=o,d="Edit",f={}){this.__fire(o,"pm:remove",{layer:l,shape:void 0},d,f)},_fireKeyeventEvent(o,l,d,f="Global",_={}){this.__fire(this.map,"pm:keyevent",{event:o,eventType:l,focusOn:d},f,_)},__fire(o,l,d,f,_={}){d=(0,Al.default)(d,_,{source:f}),L.PM.Utils._fireEvent(o,l,d)}},$o=ta,Ol=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(o){this.map=o,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),o.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(o){let l="document";this.map.getContainer().contains(o.target)&&(l="map");let d={event:o,eventType:o.type,focusOn:l};this._lastEvents[o.type]=d,this._lastEvents.current=d,this.map.pm._fireKeyeventEvent(o,o.type,l)},_onBlur(o){o.altKey=!1;let l={event:o,eventType:o.type,focusOn:"document"};this._lastEvents[o.type]=l,this._lastEvents.current=l},getLastKeyEvent(o="current"){return this._lastEvents[o]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),Dt=Ol,Rl=m(Hr());function Lt(o){let l=L.PM.activeLang;return(0,Rl.default)(Ur[l],o)||(0,Rl.default)(Ur.en,o)||o}function li(o){for(let l=0;l<o.length;l+=1){let d=o[l];if(Array.isArray(d)){if(li(d))return!0}else if(d!=null&&d!=="")return!0}return!1}function no(o){return o.reduce((l,d)=>{if(d.length!==0){let f=Array.isArray(d)?no(d):d;Array.isArray(f)?f.length!==0&&l.push(f):l.push(f)}return l},[])}function Ic(o,l,d){let f={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:_,b,f:w}=f,k=o.lng,A=o.lat,R=d,Y=Math.PI,q=l*Y/180,pe=Math.sin(q),ge=Math.cos(q),Ve=(1-w)*Math.tan(A*Y/180),Je=1/Math.sqrt(1+Ve*Ve),it=Ve*Je,It=Math.atan2(Ve,ge),J=Je*pe,ne=1-J*J,le=ne*(_*_-b*b)/(b*b),ve=1+le/16384*(4096+le*(-768+le*(320-175*le))),ue=le/1024*(256+le*(-128+le*(74-47*le))),me=R/(b*ve),B=2*Math.PI,j,z,N;for(;Math.abs(me-B)>1e-12;){j=Math.cos(2*It+me),z=Math.sin(me),N=Math.cos(me);let De=ue*z*(j+ue/4*(N*(-1+2*j*j)-ue/6*j*(-3+4*z*z)*(-3+4*j*j)));B=me,me=R/(b*ve)+De}let H=it*z-Je*N*ge,G=Math.atan2(it*N+Je*z*ge,(1-w)*Math.sqrt(J*J+H*H)),ie=Math.atan2(z*pe,Je*N-it*z*ge),re=w/16*ne*(4+w*(4-3*ne)),se=ie-(1-re)*w*J*(me+re*z*(j+re*N*(-1+2*j*j))),he=k+se*180/Y,de=G*180/Y;return L.latLng(he,de)}function zo(o,l,d,f,_=!0){let b,w,k,A=[];for(let R=0;R<d;R+=1){if(_)b=R*360/d+f,w=Ic(o,b,l),k=L.latLng(w.lng,w.lat);else{let Y=o.lat+Math.cos(2*R*Math.PI/d)*l,q=o.lng+Math.sin(2*R*Math.PI/d)*l;k=L.latLng(Y,q)}A.push(k)}return A}function jc(o,l,d){l=(l+360)%360;let f=Math.PI/180,_=180/Math.PI,{R:b}=L.CRS.Earth,w=o.lng*f,k=o.lat*f,A=l*f,R=Math.sin(k),Y=Math.cos(k),q=Math.cos(d/b),pe=Math.sin(d/b),ge=Math.asin(R*q+Y*pe*Math.cos(A)),Ve=w+Math.atan2(Math.sin(A)*pe*Y,q-R*Math.sin(ge));Ve*=_;let Je=Ve-360,it=Ve<-180?Ve+360:Ve;return Ve=Ve>180?Je:it,L.latLng([ge*_,Ve])}function Ho(o,l,d){let f=o.latLngToContainerPoint(l),_=o.latLngToContainerPoint(d),b=Math.atan2(_.y-f.y,_.x-f.x)*180/Math.PI+90;return b+=b<0?360:0,b}function Uo(o,l,d,f){let _=Ho(o,l,d);return jc(l,_,f)}function Fc(o,l,d="asc"){if(!l||Object.keys(l).length===0)return(A,R)=>A-R;let f=Object.keys(l),_,b=f.length-1,w={};for(;b>=0;)_=f[b],w[_.toLowerCase()]=l[_],b-=1;function k(A){if(A instanceof L.Marker)return"Marker";if(A instanceof L.Circle)return"Circle";if(A instanceof L.CircleMarker)return"CircleMarker";if(A instanceof L.Rectangle)return"Rectangle";if(A instanceof L.Polygon)return"Polygon";if(A instanceof L.Polyline)return"Line"}return(A,R)=>{let Y,q;if(Y=k(A.layer).toLowerCase(),q=k(R.layer).toLowerCase(),!Y||!q)return 0;let pe=Y in w?w[Y]:Number.MAX_SAFE_INTEGER,ge=q in w?w[q]:Number.MAX_SAFE_INTEGER,Ve=0;return pe<ge?Ve=-1:pe>ge&&(Ve=1),d==="desc"?Ve*-1:Ve}}function vr(o,l=o.getLatLngs()){return o instanceof L.Polygon?L.polygon(l).getLatLngs():L.polyline(l).getLatLngs()}function Dl(o,l){if(l.options.crs?.projection?.MAX_LATITUDE){let d=l.options.crs?.projection?.MAX_LATITUDE;o.lat=Math.max(Math.min(d,o.lat),-d)}return o}function An(o){return o.options.renderer||o._map&&(o._map._getPaneRenderer(o.options.pane)||o._map.options.renderer||o._map._renderer)||o._renderer}var Nc=L.Class.extend({includes:[ea,wn,Pl,Dc,$o],initialize(o){this.map=o,this.Draw=new L.PM.Draw(o),this.Toolbar=new L.PM.Toolbar(o),this.Keyboard=Dt(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(o)},setLang(o="en",l,d="en"){if(o=o.trim().toLowerCase(),!/^[a-z]{2}$/.test(o)){let _=o.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(_){let b=[`${_[1]}_${_[2]}`,`${_[1]}`];for(let w of b)if(Ur[w]){o=w;break}}}let f=L.PM.activeLang;l&&(Ur[o]=(0,kt.default)(Ur[d],l)),L.PM.activeLang=o,this.map.pm.Toolbar.reinit(),this._fireLangChange(f,o,d,Ur[o])},addControls(o){this.Toolbar.addControls(o)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(o="Polygon",l){o==="Poly"&&(o="Polygon"),this.Draw.enable(o,l)},disableDraw(o="Polygon"){o==="Poly"&&(o="Polygon"),this.Draw.disable(o)},setPathOptions(o,l={}){let d=l.ignoreShapes||[],f=l.merge||!1;this.map.pm.Draw.shapes.forEach(_=>{d.indexOf(_)===-1&&this.map.pm.Draw[_].setPathOptions(o,f)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(o){let l=(0,kt.default)(this.globalOptions,o);l.editable&&(l.resizeableCircleMarker=l.editable,delete l.editable);let d=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!l.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),d=!0);let f=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!l.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),f=!0),this.map.pm.Draw.shapes.forEach(_=>{this.map.pm.Draw[_].setOptions(l)}),d&&this.map.pm.Draw.CircleMarker.enable(),f&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(_=>{_.pm.setOptions(l)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=l,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(o=>{o.pm.enabled()&&o.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(o){return this.Draw.Cut.enable(o)},toggleGlobalCutMode(o){return this.Draw.Cut.toggle(o)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(o=!1){let l=L.PM.Utils.findLayers(this.map);if(!o)return l;let d=L.featureGroup();return d._pmTempLayer=!0,l.forEach(f=>{d.addLayer(f)}),d},getGeomanDrawLayers(o=!1){let l=L.PM.Utils.findLayers(this.map).filter(f=>f._drawnByGeoman===!0);if(!o)return l;let d=L.featureGroup();return d._pmTempLayer=!0,l.forEach(f=>{d.addLayer(f)}),d},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(o){this._touchEventCounter===0&&(L.DomEvent.on(o,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(o,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(o){this._touchEventCounter===1&&(L.DomEvent.off(o,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(o,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(o){An(this.map)._onMouseMove(this._createMouseEvent("mousemove",o))},_canvasTouchClick(o){let l="";o.type==="touchstart"||o.type==="pointerdown"?l="mousedown":(o.type==="touchend"||o.type==="pointerup"||o.type==="touchcancel"||o.type==="pointercancel")&&(l="mouseup"),l&&An(this.map)._onClick(this._createMouseEvent(l,o))},_createMouseEvent(o,l){let d,f=l.touches[0]||l.changedTouches[0];try{d=new MouseEvent(o,{bubbles:l.bubbles,cancelable:l.cancelable,view:l.view,detail:f.detail,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY,ctrlKey:l.ctrlKey,altKey:l.altKey,shiftKey:l.shiftKey,metaKey:l.metaKey,button:l.button,relatedTarget:l.relatedTarget})}catch{d=document.createEvent("MouseEvents"),d.initMouseEvent(o,l.bubbles,l.cancelable,l.view,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget)}return d}}),Il=Nc,Gr=L.Control.extend({includes:[$o],options:{position:"topleft",disableByOtherButtons:!0},initialize(o){this._button=L.Util.extend({},this.options,o)},onAdd(o){return this._map=o,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let o=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),o?o.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(o){return typeof o=="boolean"?this._button.toggleStatus=o:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(o){o&&o.preventDefault(),!this._button.disabled&&(this._button.onClick(o,{button:this,event:o}),this._clicked(o),this._button.afterClick(o,{button:this,event:o}))},_makeButton(o){let l=this.options.position.indexOf("right")>-1?"pos-right":"",d=L.DomUtil.create("div",`button-container  ${l}`,this._container);o.title&&d.setAttribute("title",o.title);let f=L.DomUtil.create("a","leaflet-buttons-control-button",d);f.setAttribute("role","button"),f.setAttribute("tabindex","0"),f.href="#";let _=L.DomUtil.create("div",`leaflet-pm-actions-container ${l}`,d),b=o.actions,w={cancel:{text:Lt("actions.cancel"),title:Lt("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Lt("actions.finish"),title:Lt("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Lt("actions.removeLastVertex"),title:Lt("actions.removeLastVertex"),onClick(){this._map.pm.Draw[o.jsClass]._removeLastVertex()}},finish:{text:Lt("actions.finish"),title:Lt("actions.finish"),onClick(A){this._map.pm.Draw[o.jsClass]._finishShape(A)}}};o._preparedActions=b.map(A=>{let R=typeof A=="string"?A:A.name,Y;if(w[R])Y=w[R];else if(A.text)Y=A;else return Y;let q=L.DomUtil.create("a",`leaflet-pm-action ${l} action-${R}`,_);if(q.setAttribute("role","button"),q.setAttribute("tabindex","0"),q.href="#",Y.title&&(q.title=Y.title),q.innerHTML=Y.text,L.DomEvent.disableClickPropagation(q),L.DomEvent.on(q,"click",L.DomEvent.stop),Y._node=q,!o.disabled&&Y.onClick){let pe=ge=>{ge.preventDefault();let Ve="",{buttons:Je}=this._map.pm.Toolbar;for(let it in Je)if(Je[it]._button===o){Ve=it;break}this._fireActionClick(Y,Ve,o)};L.DomEvent.addListener(q,"click",pe,this),L.DomEvent.addListener(q,"click",Y.onClick,this),L.DomEvent.addListener(q,"click",()=>this._updateActiveAction(o))}return Y}),this._updateActiveAction(o),o.toggleStatus&&L.DomUtil.addClass(d,"active");let k=L.DomUtil.create("div","control-icon",f);return o.iconUrl&&k.setAttribute("src",o.iconUrl),o.className&&L.DomUtil.addClass(k,o.className),L.DomEvent.disableClickPropagation(f),L.DomEvent.on(f,"click",L.DomEvent.stop),o.disabled||(L.DomEvent.addListener(f,"click",this._onBtnClick,this),L.DomEvent.addListener(f,"click",this._triggerClick,this)),o.disabled&&(L.DomUtil.addClass(f,"pm-disabled"),f.setAttribute("aria-disabled","true")),d},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let o="",{buttons:l}=this._map.pm.Toolbar;for(let d in l)if(l[d]._button===this._button){o=d;break}this._fireButtonClick(o,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let o="pm-disabled",l=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(l,o),l.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(l,o),l.setAttribute("aria-disabled","false"))},_updateActiveAction(o){o._preparedActions?.forEach(l=>{l?._node&&(l.isActive&&l.isActive.call(this)?L.DomUtil.addClass(l._node,"active-action"):L.DomUtil.removeClass(l._node,"active-action"))})}}),jl=Gr;L.Control.PMButton=jl;var Fl=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(o){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(o)},reinit(){let o=this.isVisible;this.removeControls(),this._defineButtons(),o&&this.addControls()},init(o){this.map=o,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(o){let l=`${o}Container`;return this[l]||(this[l]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${o} leaflet-bar leaflet-control`)),this[l]},getButtons(){return this.buttons},addControls(o=this.options){typeof o.editPolygon<"u"&&(o.editMode=o.editPolygon),typeof o.deleteLayer<"u"&&(o.removalMode=o.deleteLayer),L.Util.setOptions(this,o),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let o=this.getButtons(),l={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let d in o){let f=o[d];L.Util.setOptions(f,{className:l.geomanIcons[d]})}},removeControls(){let o=this.getButtons();for(let l in o)o[l].remove();this.isVisible=!1},toggleControls(o=this.options){this.isVisible?this.removeControls():this.addControls(o)},_addButton(o,l){return this.buttons[o]=l,this.options[o]=!!this.options[o]||!1,this.buttons[o]},triggerClickOnToggledButtons(o){for(let l in this.buttons){let d=this.buttons[l];d._button.disableByOtherButtons&&d!==o&&d.toggled()&&d._triggerClick()}},toggleButton(o,l,d=!0){o==="editPolygon"&&(o="editMode"),o==="deleteLayer"&&(o="removalMode");let f=o;return d&&this.triggerClickOnToggledButtons(this.buttons[f]),this.buttons[f]?this.buttons[f].toggle(l):!1},_defineButtons(){let o={className:"control-icon leaflet-pm-icon-marker",title:Lt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},l={title:Lt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},d={className:"control-icon leaflet-pm-icon-polyline",title:Lt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},f={title:Lt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},_={title:Lt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},b={title:Lt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},w={title:Lt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},k={title:Lt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},A={title:Lt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},R={title:Lt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Y={title:Lt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},q={className:"control-icon leaflet-pm-icon-text",title:Lt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(pe,ge)=>{this.map.pm.Draw[ge.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(o)),this._addButton("drawPolyline",new L.Control.PMButton(d)),this._addButton("drawRectangle",new L.Control.PMButton(b)),this._addButton("drawPolygon",new L.Control.PMButton(l)),this._addButton("drawCircle",new L.Control.PMButton(f)),this._addButton("drawCircleMarker",new L.Control.PMButton(_)),this._addButton("drawText",new L.Control.PMButton(q)),this._addButton("editMode",new L.Control.PMButton(w)),this._addButton("dragMode",new L.Control.PMButton(k)),this._addButton("cutPolygon",new L.Control.PMButton(A)),this._addButton("removalMode",new L.Control.PMButton(R)),this._addButton("rotateMode",new L.Control.PMButton(Y))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let o=this.getButtons(),l=[];this.options.drawControls===!1&&(l=l.concat(Object.keys(o).filter(d=>!o[d]._button.tool))),this.options.editControls===!1&&(l=l.concat(Object.keys(o).filter(d=>o[d]._button.tool==="edit"))),this.options.optionsControls===!1&&(l=l.concat(Object.keys(o).filter(d=>o[d]._button.tool==="options"))),this.options.customControls===!1&&(l=l.concat(Object.keys(o).filter(d=>o[d]._button.tool==="custom")));for(let d in o)if(this.options[d]&&l.indexOf(d)===-1){let f=o[d]._button.tool;f||(f="draw"),o[d].setPosition(this._getBtnPosition(f)),o[d].addTo(this.map)}},_getBtnPosition(o){return this.options.positions&&this.options.positions[o]?this.options.positions[o]:this.options.position},setBlockPosition(o,l){this.options.positions[o]=l,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(o,l){if(l)typeof l!="object"&&(l={name:l});else throw new TypeError("Button has no name");let d=this._btnNameMapping(o);if(!l.name)throw new TypeError("Button has no name");if(this.buttons[l.name])throw new TypeError("Button with this name already exists");let f=this.map.pm.Draw.createNewDrawInstance(l.name,d);l={...this.buttons[d]._button,...l};let _=this.createCustomControl(l);return{drawInstance:f,control:_}},createCustomControl(o){if(!o.name)throw new TypeError("Button has no name");if(this.buttons[o.name])throw new TypeError("Button with this name already exists");o.onClick||(o.onClick=()=>{}),o.afterClick||(o.afterClick=()=>{}),o.toggle!==!1&&(o.toggle=!0),o.block&&(o.block=o.block.toLowerCase()),(!o.block||o.block==="draw")&&(o.block=""),o.className?o.className.indexOf("control-icon")===-1&&(o.className=`control-icon ${o.className}`):o.className="control-icon";let l={tool:o.block,className:o.className,title:o.title||"",jsClass:o.name,onClick:o.onClick,afterClick:o.afterClick,doToggle:o.toggle,toggleStatus:!1,disableOtherButtons:o.disableOtherButtons??!0,disableByOtherButtons:o.disableByOtherButtons??!0,cssToggle:o.toggle,position:this.options.position,actions:o.actions||[],disabled:!!o.disabled};this.options[o.name]!==!1&&(this.options[o.name]=!0);let d=this._addButton(o.name,new L.Control.PMButton(l));return this.changeControlOrder(),d},controlExists(o){return!!this.getButton(o)},getButton(o){return this.getButtons()[o]},getButtonsInBlock(o){let l={};if(o)for(let d in this.getButtons()){let f=this.getButtons()[d];(f._button.tool===o||o==="draw"&&!f._button.tool)&&(l[d]=f)}return l},changeControlOrder(o=[]){let l=this._shapeMapping(),d=[];o.forEach(b=>{l[b]?d.push(l[b]):d.push(b)});let f=this.getButtons(),_={};d.forEach(b=>{f[b]&&(_[b]=f[b])}),Object.keys(f).filter(b=>!f[b]._button.tool||f[b]._button.tool==="draw").forEach(b=>{d.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).filter(b=>f[b]._button.tool==="edit").forEach(b=>{d.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).filter(b=>f[b]._button.tool==="options").forEach(b=>{d.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).filter(b=>f[b]._button.tool==="custom").forEach(b=>{d.indexOf(b)===-1&&(_[b]=f[b])}),Object.keys(f).forEach(b=>{d.indexOf(b)===-1&&(_[b]=f[b])}),this.map.pm.Toolbar.buttons=_,this._showHideButtons()},getControlOrder(){let o=this.getButtons(),l=[];for(let d in o)l.push(d);return l},changeActionsOfControl(o,l){let d=this._btnNameMapping(o);if(!d)throw new TypeError("No name passed");if(!l)throw new TypeError("No actions passed");if(!this.buttons[d])throw new TypeError("Button with this name not exists");this.buttons[d]._button.actions=l,this.changeControlOrder()},setButtonDisabled(o,l){let d=this._btnNameMapping(o);l?this.buttons[d].disable():this.buttons[d].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(o){let l=this._shapeMapping();return l[o]?l[o]:o}}),na=Fl,Vc=m(Do()),Nl={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(o){o.forEach(l=>{if(Array.isArray(l)){this._assignEvents(l);return}l.off("drag",this._handleSnapping,this),l.on("drag",this._handleSnapping,this),l.off("dragend",this._cleanupSnapping,this),l.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(o){if(o){let l=o.target;l._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(l=>{l.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(o){let l=o.target;if(l._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),o?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let d=this._calcClosestLayer(l.getLatLng(),this._snapList);if(Object.keys(d).length===0)return!1;let f=d.layer instanceof L.Marker||d.layer instanceof L.CircleMarker||!this.options.snapSegment,_;f?_=d.latlng:_=this._checkPrioritiySnapping(d);let b=this.options.snapDistance,w={marker:l,shape:this._shape,snapLatLng:_,segment:d.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:d.layer,distance:d.distance};if(this._fireSnapDrag(w.marker,w),this._fireSnapDrag(this._layer,w),d.distance<b){l._orgLatLng=l.getLatLng(),l.setLatLng(_),l._snapped=!0,l._snapInfo=w;let k=()=>{this._snapLatLng=_,this._fireSnap(l,w),this._fireSnap(this._layer,w)},A=this._snapLatLng||{},R=_||{};(A.lat!==R.lat||A.lng!==R.lng)&&k()}else this._snapLatLng&&(this._unsnap(w),l._snapped=!1,l._snapInfo=void 0,this._fireUnsnap(w.marker,w),this._fireUnsnap(this._layer,w));return!0},_createSnapList(){let o=[],l=[],d=this._map;d.off("layerremove",this._handleSnapLayerRemoval,this),d.on("layerremove",this._handleSnapLayerRemoval,this),d.eachLayer(f=>{if((f instanceof L.Polyline||f instanceof L.Marker||f instanceof L.CircleMarker||f instanceof L.ImageOverlay)&&f.options.snapIgnore!==!0){if(f.options.snapIgnore===void 0&&(!L.PM.optIn&&f.options.pmIgnore===!0||L.PM.optIn&&f.options.pmIgnore!==!1))return;(f instanceof L.Circle||f instanceof L.CircleMarker)&&f.pm&&f.pm._hiddenPolyCircle?o.push(f.pm._hiddenPolyCircle):f instanceof L.ImageOverlay&&(f=L.rectangle(f.getBounds())),o.push(f);let _=L.polyline([],{color:"red",pmIgnore:!0});_._pmTempLayer=!0,l.push(_),(f instanceof L.Circle||f instanceof L.CircleMarker)&&l.push(_)}}),o=o.filter(f=>this._layer!==f),o=o.filter(f=>f._latlng||f._latlngs&&li(f._latlngs)),o=o.filter(f=>!f._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let f=L.polyline([],{color:"red",pmIgnore:!0});f._pmTempLayer=!0,l.push(f)}),this._snapList=o.concat(this._otherSnapLayers)):this._snapList=o,this.debugIndicatorLines=l},_handleSnapLayerRemoval({layer:o}){if(!o._leaflet_id)return;let l=this._snapList.findIndex(d=>d._leaflet_id===o._leaflet_id);l>-1&&this._snapList.splice(l,1)},_calcClosestLayer(o,l){return this._calcClosestLayers(o,l,1)[0]},_calcClosestLayers(o,l,d=1){let f=[],_={};l.forEach((w,k)=>{if(w._parentCopy&&w._parentCopy===this._layer||w.getLatLngs?.().flat(5).length<2)return;let A=this._calcLayerDistances(o,w);if(A.distance=Math.floor(A.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[k]){let R=L.polyline([],{color:"red",pmIgnore:!0});R._pmTempLayer=!0,this.debugIndicatorLines[k]=R}this.debugIndicatorLines[k].setLatLngs([o,A.latlng])}d===1&&(_.distance===void 0||A.distance-5<=_.distance)?(A.distance+5<_.distance&&(f=[]),_=A,_.layer=w,f.push(_)):d!==1&&(_={},_=A,_.layer=w,f.push(_))}),d!==1&&(f=f.sort((w,k)=>w.distance-k.distance)),d===-1&&(d=f.length);let b=this._getClosestLayerByPriority(f,d);return L.Util.isArray(b)?b:[b]},_calcLayerDistances(o,l){let d=this._map,f=l instanceof L.Marker||l instanceof L.CircleMarker,_=l instanceof L.Polygon,b=o;if(f){let w=l.getLatLng();return{latlng:{...w},distance:this._getDistance(d,w,b)}}return this._calcLatLngDistances(b,l.getLatLngs(),d,_)},_calcLatLngDistances(o,l,d,f=!1){let _,b,w,k=A=>{A.forEach((R,Y)=>{if(Array.isArray(R)){k(R);return}if(this.options.snapSegment){let q=R,pe;f?pe=Y+1===A.length?0:Y+1:pe=Y+1===A.length?void 0:Y+1;let ge=A[pe];if(ge){let Ve=this._getDistanceToSegment(d,o,q,ge);(b===void 0||Ve<b)&&(b=Ve,w=[q,ge])}}else{let q=this._getDistance(d,o,R);(b===void 0||q<b)&&(b=q,_=R)}})};return k(l),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(d,o,w[0],w[1])},segment:w,distance:b}:{latlng:_,distance:b}},_getClosestLayerByPriority(o,l=1){o=o.sort((w,k)=>w._leaflet_id-k._leaflet_id);let d=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],f=this._map.pm.globalOptions.snappingOrder||[],_=0,b={};return f.concat(d).forEach(w=>{b[w]||(_+=1,b[w]=_)}),o.sort(Fc("instanceofShape",b)),l===1?o[0]||{}:o.slice(0,l)},_checkPrioritiySnapping(o){let l=this._map,d=o.segment[0],f=o.segment[1],_=o.latlng,b=_;if(this.options.snapVertex){let w=this._getDistance(l,d,_),k=this._getDistance(l,f,_),A=w<k?d:f,R=w<k?w:k;if(this.options.snapMiddle){let q=L.PM.Utils.calcMiddleLatLng(l,d,f),pe=this._getDistance(l,q,_);pe<w&&pe<k&&(A=q,R=pe)}let Y=this.options.snapDistance;R<Y&&(b=A)}return{...b}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(o,l,d,f){let _=o.getMaxZoom();_===1/0&&(_=o.getZoom());let b=o.project(l,_),w=o.project(d,_),k=o.project(f,_),A=L.LineUtil.closestPointOnSegment(b,w,k);return o.unproject(A,_)},_getDistanceToSegment(o,l,d,f){let _=o.latLngToContainerPoint(l),b=o.latLngToContainerPoint(d),w=o.latLngToContainerPoint(f);return L.LineUtil.pointToSegmentDistance(_,b,w)},_getDistance(o,l,d){return o.latLngToContainerPoint(l).distanceTo(o.latLngToContainerPoint(d))}},ra=Nl,$c=L.Class.extend({includes:[ra,$o],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(o){L.Util.setOptions(this,o),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(o){let l=new L.Icon.Default;l.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=l,this._map=o,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(d=>{this[d]=new L.PM.Draw[d](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(o,l=!1){l?this.options.pathOptions=(0,Vc.default)(this.options.pathOptions,o):this.options.pathOptions=o},getShapes(){return this.shapes},getShape(){return this._shape},enable(o,l){if(!o)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[o].enable(l)},disable(){this.shapes.forEach(o=>{this[o].disable()})},addControls(){this.shapes.forEach(o=>{this[o].addButton()})},getActiveShape(){let o;return this.shapes.forEach(l=>{this[l]._enabled&&(o=l)}),o},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let o=[];this._map.eachLayer(l=>{(l instanceof L.Polyline||l instanceof L.Marker||l instanceof L.Circle||l instanceof L.CircleMarker||l instanceof L.ImageOverlay)&&(l._pmTempLayer||o.push(l))}),this._enabled?o.forEach(l=>{L.PM.Utils.disablePopup(l)}):o.forEach(l=>{L.PM.Utils.enablePopup(l)})},createNewDrawInstance(o,l){let d=this._getShapeFromBtnName(l);if(this[o])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[d])throw new TypeError(`There is no class L.PM.Draw.${d}`);return this[o]=new L.PM.Draw[d](this._map),this[o].toolbarButtonName=o,this[o]._shape=o,this.shapes.push(o),this[l]&&this[o].setOptions(this[l].options),this[o].setOptions(this[o].options),this[o]},_getShapeFromBtnName(o){let l={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return l[o]?l[o]:this[o]?this[o]._shape:o},_finishLayer(o){o.pm&&(o.pm.setOptions(this.options),o.pm._shape=this._shape,o.pm._map=this._map),this._addDrawnLayerProp(o)},_addDrawnLayerProp(o){o._drawnByGeoman=!0},_setPane(o,l){l==="layerPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Ln=$c;Ln.Marker=Ln.extend({initialize(o){this._map=o,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(o){L.Util.setOptions(this,o),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Lt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(o=>{this.isRelevantMarker(o)&&o.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},isRelevantMarker(o){return o instanceof L.Marker&&o.pm&&!o._pmTempLayer&&!o.pm._initTextMarker},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let l=o;l.target=this._hintMarker,this._handleSnapping(l)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(o){if(!o.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let l=this._hintMarker.getLatLng(),d=new L.Marker(l,this.options.markerStyle);this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm&&this.options.markerEditable?d.pm.enable():d.dragging&&d.dragging.disable(),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var Tn=63710088e-1,Vl={centimeters:Tn*100,centimetres:Tn*100,degrees:Tn/111325,feet:Tn*3.28084,inches:Tn*39.37,kilometers:Tn/1e3,kilometres:Tn/1e3,meters:Tn,metres:Tn,miles:Tn/1609.344,millimeters:Tn*1e3,millimetres:Tn*1e3,nauticalmiles:Tn/1852,radians:1,yards:Tn*1.0936};function ui(o,l,d){d===void 0&&(d={});var f={type:"Feature"};return(d.id===0||d.id)&&(f.id=d.id),d.bbox&&(f.bbox=d.bbox),f.properties=l||{},f.geometry=o,f}function ci(o,l,d){if(d===void 0&&(d={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ia(o[0])||!ia(o[1]))throw new Error("coordinates must contain numbers");var f={type:"Point",coordinates:o};return ui(f,l,d)}function qr(o,l,d){if(d===void 0&&(d={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");var f={type:"LineString",coordinates:o};return ui(f,l,d)}function zn(o,l){l===void 0&&(l={});var d={type:"FeatureCollection"};return l.id&&(d.id=l.id),l.bbox&&(d.bbox=l.bbox),d.features=o,d}function zc(o,l){l===void 0&&(l="kilometers");var d=Vl[l];if(!d)throw new Error(l+" units is invalid");return o*d}function ro(o,l){l===void 0&&(l="kilometers");var d=Vl[l];if(!d)throw new Error(l+" units is invalid");return o/d}function Hn(o){var l=o%(2*Math.PI);return l*180/Math.PI}function ir(o){var l=o%360;return l*Math.PI/180}function ia(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)}function Go(o){var l,d,f={type:"FeatureCollection",features:[]};if(o.type==="Feature"?d=o.geometry:d=o,d.type==="LineString")l=[d.coordinates];else if(d.type==="MultiLineString")l=d.coordinates;else if(d.type==="MultiPolygon")l=[].concat.apply([],d.coordinates);else if(d.type==="Polygon")l=d.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return l.forEach(function(_){l.forEach(function(b){for(var w=0;w<_.length-1;w++)for(var k=w;k<b.length-1;k++)if(!(_===b&&(Math.abs(w-k)===1||w===0&&k===_.length-2&&_[w][0]===_[_.length-1][0]&&_[w][1]===_[_.length-1][1]))){var A=oa(_[w][0],_[w][1],_[w+1][0],_[w+1][1],b[k][0],b[k][1],b[k+1][0],b[k+1][1]);A&&f.features.push(ci([A[0],A[1]]))}})}),f}function oa(o,l,d,f,_,b,w,k){var A,R,Y,q,pe,ge={x:null,y:null,onLine1:!1,onLine2:!1};return A=(k-b)*(d-o)-(w-_)*(f-l),A===0?ge.x!==null&&ge.y!==null?ge:!1:(R=l-b,Y=o-_,q=(w-_)*R-(k-b)*Y,pe=(d-o)*R-(f-l)*Y,R=q/A,Y=pe/A,ge.x=o+R*(d-o),ge.y=l+R*(f-l),R>=0&&R<=1&&(ge.onLine1=!0),Y>=0&&Y<=1&&(ge.onLine2=!0),ge.onLine1&&ge.onLine2?[ge.x,ge.y]:!1)}Ln.Line=Ln.extend({initialize(o){this._map=o,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(o){L.Util.setOptions(this,o),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Lt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_syncHintLine(){let o=this._layer.getLatLngs();if(o.length>0){let l=o[o.length-1];this._hintline.setLatLngs([l,this._hintMarker.getLatLng()])}},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let d=o;d.target=this._hintMarker,this._handleSnapping(d)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let l=this._layer._defaultShape().slice();l.push(this._hintMarker.getLatLng()),this._change(l)},hasSelfIntersection(){return Go(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(o,l){let d=L.polyline(this._layer.getLatLngs());o&&(l||(l=this._hintMarker.getLatLng()),d.addLatLng(l));let f=Go(d.toGeoJSON(15));this._doesSelfIntersect=f.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(f,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(o){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,o.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let l=this._hintMarker.getLatLng(),d=this._layer.getLatLngs(),f=d[d.length-1];if(l.equals(d[0])||d.length>0&&l.equals(f)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:l,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(l);let _=this._createMarker(l);this._setTooltipText(),this._setHintLineAfterNewVertex(l),this._fireVertexAdded(_,void 0,l,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(o)},_setHintLineAfterNewVertex(o){this._hintline.setLatLngs([o,o])},_removeLastVertex(){let o=this._markers;if(o.length<=1){this.disable();return}let l=this._layer.getLatLngs(),d=o[o.length-1],{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(o,d);o.pop(),this._layerGroup.removeLayer(d);let _=o[o.length-1],b=l.indexOf(_.getLatLng());l=l.slice(0,b+1),this._layer.setLatLngs(l),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(d,f,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let o=this._layer.getLatLngs();if(o.length<=1)return;let l=L.polyline(o,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this.options.snappable&&this._cleanupSnapping();let d=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(d))},_createMarker(o){let l=new L.Marker(o,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),l.on("click",this._finishShape,this),l},_setTooltipText(){let{length:o}=this._layer.getLatLngs().flat(),l="";o<=1?l=Lt("tooltips.continueLine"):l=Lt("tooltips.finishLine"),this._hintMarker.setTooltipContent(l)},_change(o){this._fireChange(o,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Ln.Polygon=Ln.Line.extend({initialize(o){this._map=o,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(o){L.PM.Draw.Line.prototype.enable.call(this,o),this._layer.pm._shape="Polygon"},_createMarker(o){let l=new L.Marker(o,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),this._layer.getLatLngs().flat().length===1?(l.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(l)-1,this.options.snappable&&this._cleanupSnapping()):l.on("click",()=>1),l},_setTooltipText(){let{length:o}=this._layer.getLatLngs().flat(),l="";o<=2?l=Lt("tooltips.continueLine"):l=Lt("tooltips.finishPoly"),this._hintMarker.setTooltipContent(l)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let o=this._layer.getLatLngs();if(o.length<=2)return;let l=L.polygon(o,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let d=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(d))}}),Ln.Rectangle=Ln.extend({initialize(o){this._map=o,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(o){if(L.Util.setOptions(this,o),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Lt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let l=0;l<2;l+=1){let d=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._styleMarkers.push(d)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_placeStartingMarkers(o){this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let l=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(l),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(d=>{L.DomUtil.addClass(d._icon,"visible"),d.setLatLng(l)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Lt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let o=this._startMarker.getLatLng();o&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([o,o]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let d=o;d.target=this._hintMarker,this._handleSnapping(d)}let l=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(l,"Draw")},_syncRectangleSize(){let o=Dl(this._startMarker.getLatLng(),this._map),l=Dl(this._hintMarker.getLatLng(),this._map),d=L.PM.Utils._getRotatedRectangle(o,l,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(d),this.options.cursorMarker&&this._styleMarkers){let f=[];d.forEach(_=>{!_.equals(o,1e-8)&&!_.equals(l,1e-8)&&f.push(_)}),f.forEach((_,b)=>{try{this._styleMarkers[b].setLatLng(_)}catch{}})}},_findCorners(){let o=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(o[0],o[2],this.options.rectangleAngle||0,this._map)},_finishShape(o){this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let l=this._hintMarker.getLatLng(),d=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||d.equals(l))return;let f=L.rectangle([d,l],this.options.pathOptions);if(this.options.rectangleAngle){let b=L.PM.Utils._getRotatedRectangle(d,l,this.options.rectangleAngle||0,this._map);f.setLatLngs(b),f.pm&&f.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),this._fireCreate(f);let _=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(_))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Ln.CircleMarker=Ln.extend({initialize(o){this._map=o,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(o){if(L.Util.setOptions(this,o),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let l={};L.extend(l,this.options.templineStyle),l.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),l),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Lt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Lt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(o=>{this.isRelevantMarker(o)&&o.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(o=>{this.isRelevantMarker(o)&&o.pm.disable()})},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_placeCenterMarker(o){this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let l=this._hintMarker.getLatLng();this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let o=this._centerMarker.getLatLng();o&&(this._layer.setLatLng(o),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Lt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let o=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([o,l])},_syncCircleRadius(){let o=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),d=this._distanceCalculation(o,l);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(d)},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let d=o;d.target=this._hintMarker,this._handleSnapping(d)}this._handleHintMarkerSnapping();let l=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(l,"Draw")},isRelevantMarker(o){return o instanceof L.CircleMarker&&!(o instanceof L.Circle)&&o.pm&&!o._pmTempLayer},_createMarker(o){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!o.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let l=this._hintMarker.getLatLng(),d=new this._BaseCircleClass(l,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(d),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(o){o.pm&&this.options.markerEditable&&o.pm.enable()},_finishShape(o){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let l=this._centerMarker.getLatLng(),d=this._defaultRadius;if(this.options[this._editableOption]){let w=this._hintMarker.getLatLng();d=this._distanceCalculation(l,w),this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?d=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&(d=this.options[this._maxRadiusOption])}let f={...this.options.pathOptions,radius:d},_=new this._BaseCircleClass(l,f);this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),_.pm&&_.pm._updateHiddenPolyCircle(),this._fireCreate(_);let b=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(b))},_getNewDestinationOfHintMarker(){let o=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return o;let l=this._centerMarker.getLatLng(),d=this._distanceCalculation(l,o);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?o=Uo(this._map,l,o,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&(o=Uo(this._map,l,o,this._getMaxDistanceInMeter()))}return o},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let o=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),d=this._distanceCalculation(o,l);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let o={};L.extend(o,this.options.templineStyle),this.options[this._editableOption]&&(o.radius=0),this._layer?.setStyle(o),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(o,l){return this._map.project(o).distanceTo(this._map.project(l))}}),Ln.Circle=Ln.CircleMarker.extend({initialize(o){this._map=o,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(o,l){return this._map.distance(o,l)}});function or(o){if(!o)throw new Error("coord is required");if(!Array.isArray(o)){if(o.type==="Feature"&&o.geometry!==null&&o.geometry.type==="Point")return o.geometry.coordinates;if(o.type==="Point")return o.coordinates}if(Array.isArray(o)&&o.length>=2&&!Array.isArray(o[0])&&!Array.isArray(o[1]))return o;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function br(o){if(Array.isArray(o))return o;if(o.type==="Feature"){if(o.geometry!==null)return o.geometry.coordinates}else if(o.coordinates)return o.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function qo(o){return o.type==="Feature"?o.geometry:o}function sa(o,l){return o.type==="FeatureCollection"?"FeatureCollection":o.type==="GeometryCollection"?"GeometryCollection":o.type==="Feature"&&o.geometry!==null?o.geometry.type:o.type}function aa(o,l,d){if(o!==null)for(var f,_,b,w,k,A,R,Y=0,q=0,pe,ge=o.type,Ve=ge==="FeatureCollection",Je=ge==="Feature",it=Ve?o.features.length:1,It=0;It<it;It++){R=Ve?o.features[It].geometry:Je?o.geometry:o,pe=R?R.type==="GeometryCollection":!1,k=pe?R.geometries.length:1;for(var J=0;J<k;J++){var ne=0,le=0;if(w=pe?R.geometries[J]:R,w!==null){A=w.coordinates;var ve=w.type;switch(Y=0,ve){case null:break;case"Point":if(l(A,q,It,ne,le)===!1)return!1;q++,ne++;break;case"LineString":case"MultiPoint":for(f=0;f<A.length;f++){if(l(A[f],q,It,ne,le)===!1)return!1;q++,ve==="MultiPoint"&&ne++}ve==="LineString"&&ne++;break;case"Polygon":case"MultiLineString":for(f=0;f<A.length;f++){for(_=0;_<A[f].length-Y;_++){if(l(A[f][_],q,It,ne,le)===!1)return!1;q++}ve==="MultiLineString"&&ne++,ve==="Polygon"&&le++}ve==="Polygon"&&ne++;break;case"MultiPolygon":for(f=0;f<A.length;f++){for(le=0,_=0;_<A[f].length;_++){for(b=0;b<A[f][_].length-Y;b++){if(l(A[f][_][b],q,It,ne,le)===!1)return!1;q++}le++}ne++}break;case"GeometryCollection":for(f=0;f<w.geometries.length;f++)if(aa(w.geometries[f],l)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function On(o,l){if(o.type==="Feature")l(o,0);else if(o.type==="FeatureCollection")for(var d=0;d<o.features.length&&l(o.features[d],d)!==!1;d++);}function Bi(o,l,d){var f=d;return On(o,function(_,b){b===0&&d===void 0?f=_:f=l(f,_,b)}),f}function Hc(o,l){var d,f,_,b,w,k,A,R,Y,q,pe=0,ge=o.type==="FeatureCollection",Ve=o.type==="Feature",Je=ge?o.features.length:1;for(d=0;d<Je;d++){for(k=ge?o.features[d].geometry:Ve?o.geometry:o,R=ge?o.features[d].properties:Ve?o.properties:{},Y=ge?o.features[d].bbox:Ve?o.bbox:void 0,q=ge?o.features[d].id:Ve?o.id:void 0,A=k?k.type==="GeometryCollection":!1,w=A?k.geometries.length:1,_=0;_<w;_++){if(b=A?k.geometries[_]:k,b===null){if(l(null,pe,R,Y,q)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(l(b,pe,R,Y,q)===!1)return!1;break}case"GeometryCollection":{for(f=0;f<b.geometries.length;f++)if(l(b.geometries[f],pe,R,Y,q)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}pe++}}function hr(o,l){Hc(o,function(d,f,_,b,w){var k=d===null?null:d.type;switch(k){case null:case"Point":case"LineString":case"Polygon":return l(ui(d,_,{bbox:b,id:w}),f,0)===!1?!1:void 0}var A;switch(k){case"MultiPoint":A="Point";break;case"MultiLineString":A="LineString";break;case"MultiPolygon":A="Polygon";break}for(var R=0;R<d.coordinates.length;R++){var Y=d.coordinates[R],q={type:A,coordinates:Y};if(l(ui(q,_),f,R)===!1)return!1}})}function Uc(o){if(!o)throw new Error("geojson is required");var l=[];return hr(o,function(d){Ai(d,l)}),zn(l)}function Ai(o,l){var d=[],f=o.geometry;if(f!==null){switch(f.type){case"Polygon":d=br(f);break;case"LineString":d=[br(f)]}d.forEach(function(_){var b=Gc(_,o.properties);b.forEach(function(w){w.id=l.length,l.push(w)})})}}function Gc(o,l){var d=[];return o.reduce(function(f,_){var b=qr([f,_],l);return b.bbox=io(f,_),d.push(b),_}),d}function io(o,l){var d=o[0],f=o[1],_=l[0],b=l[1],w=d<_?d:_,k=f<b?f:b,A=d>_?d:_,R=f>b?f:b;return[w,k,A,R]}var Zo=Uc,Ko=m(ri(),1);function qc(o,l){var d={},f=[];if(o.type==="LineString"&&(o=ui(o)),l.type==="LineString"&&(l=ui(l)),o.type==="Feature"&&l.type==="Feature"&&o.geometry!==null&&l.geometry!==null&&o.geometry.type==="LineString"&&l.geometry.type==="LineString"&&o.geometry.coordinates.length===2&&l.geometry.coordinates.length===2){var _=Ar(o,l);return _&&f.push(_),zn(f)}var b=(0,Ko.default)();return b.load(Zo(l)),On(Zo(o),function(w){On(b.search(w),function(k){var A=Ar(w,k);if(A){var R=br(A).join(",");d[R]||(d[R]=!0,f.push(A))}})}),zn(f)}function Ar(o,l){var d=br(o),f=br(l);if(d.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(f.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var _=d[0][0],b=d[0][1],w=d[1][0],k=d[1][1],A=f[0][0],R=f[0][1],Y=f[1][0],q=f[1][1],pe=(q-R)*(w-_)-(Y-A)*(k-b),ge=(Y-A)*(b-R)-(q-R)*(_-A),Ve=(w-_)*(b-R)-(k-b)*(_-A);if(pe===0)return null;var Je=ge/pe,it=Ve/pe;if(Je>=0&&Je<=1&&it>=0&&it<=1){var It=_+Je*(w-_),J=b+Je*(k-b);return ci([It,J])}return null}var xr=qc,$l=m(ri(),1);function la(o,l,d){d===void 0&&(d={});var f=or(o),_=or(l),b=ir(_[1]-f[1]),w=ir(_[0]-f[0]),k=ir(f[1]),A=ir(_[1]),R=Math.pow(Math.sin(b/2),2)+Math.pow(Math.sin(w/2),2)*Math.cos(k)*Math.cos(A);return zc(2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)),d.units)}var di=la;function Or(o){var l=o[0],d=o[1],f=o[2],_=o[3],b=di(o.slice(0,2),[f,d]),w=di(o.slice(0,2),[l,_]);if(b>=w){var k=(d+_)/2;return[l,k-(f-l)/2,f,k+(f-l)/2]}else{var A=(l+f)/2;return[A-(_-d)/2,d,A+(_-d)/2,_]}}var Zc=Or;function Zr(o){var l=[1/0,1/0,-1/0,-1/0];return aa(o,function(d){l[0]>d[0]&&(l[0]=d[0]),l[1]>d[1]&&(l[1]=d[1]),l[2]<d[0]&&(l[2]=d[0]),l[3]<d[1]&&(l[3]=d[1])}),l}Zr.default=Zr;var oo=Zr;function Rr(o,l){l===void 0&&(l={});var d=l.precision,f=l.coordinates,_=l.mutate;if(d=d==null||isNaN(d)?6:d,f=f==null||isNaN(f)?3:f,!o)throw new Error("<geojson> is required");if(typeof d!="number")throw new Error("<precision> must be a number");if(typeof f!="number")throw new Error("<coordinates> must be a number");(_===!1||_===void 0)&&(o=JSON.parse(JSON.stringify(o)));var b=Math.pow(10,d);return aa(o,function(w){Wo(w,b,f)}),o}function Wo(o,l,d){o.length>d&&o.splice(d,o.length);for(var f=0;f<o.length;f++)o[f]=Math.round(o[f]*l)/l;return o}var zl=Rr;function Jo(o,l,d){if(d===void 0&&(d={}),d.final===!0)return Yo(o,l);var f=or(o),_=or(l),b=ir(f[0]),w=ir(_[0]),k=ir(f[1]),A=ir(_[1]),R=Math.sin(w-b)*Math.cos(A),Y=Math.cos(k)*Math.sin(A)-Math.sin(k)*Math.cos(A)*Math.cos(w-b);return Hn(Math.atan2(R,Y))}function Yo(o,l){var d=Jo(l,o);return d=(d+180)%360,d}function Xo(o,l,d,f){f===void 0&&(f={});var _=or(o),b=ir(_[0]),w=ir(_[1]),k=ir(d),A=ro(l,f.units),R=Math.asin(Math.sin(w)*Math.cos(A)+Math.cos(w)*Math.sin(A)*Math.cos(k)),Y=b+Math.atan2(Math.sin(k)*Math.sin(A)*Math.cos(w),Math.cos(A)-Math.sin(w)*Math.sin(R)),q=Hn(Y),pe=Hn(R);return ci([q,pe],f.properties)}function Qo(o,l,d){d===void 0&&(d={});var f=ci([1/0,1/0],{dist:1/0}),_=0;return hr(o,function(b){for(var w=br(b),k=0;k<w.length-1;k++){var A=ci(w[k]);A.properties.dist=di(l,A,d);var R=ci(w[k+1]);R.properties.dist=di(l,R,d);var Y=di(A,R,d),q=Math.max(A.properties.dist,R.properties.dist),pe=Jo(A,R),ge=Xo(l,q,pe+90,d),Ve=Xo(l,q,pe-90,d),Je=xr(qr([ge.geometry.coordinates,Ve.geometry.coordinates]),qr([A.geometry.coordinates,R.geometry.coordinates])),it=null;Je.features.length>0&&(it=Je.features[0],it.properties.dist=di(l,it,d),it.properties.location=_+di(A,it,d)),A.properties.dist<f.properties.dist&&(f=A,f.properties.index=k,f.properties.location=_),R.properties.dist<f.properties.dist&&(f=R,f.properties.index=k+1,f.properties.location=_+Y),it&&it.properties.dist<f.properties.dist&&(f=it,f.properties.index=k),_+=Y}}),f}var Oi=Qo;function es(o,l){if(!o)throw new Error("line is required");if(!l)throw new Error("splitter is required");var d=sa(o),f=sa(l);if(d!=="LineString")throw new Error("line must be LineString");if(f==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(f==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var _=zl(l,{precision:7});switch(f){case"Point":return ns(o,_);case"MultiPoint":return ts(o,_);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ts(o,xr(o,_))}}function ts(o,l){var d=[],f=(0,$l.default)();return hr(l,function(_){if(d.forEach(function(k,A){k.id=A}),!d.length)d=ns(o,_).features,d.forEach(function(k){k.bbox||(k.bbox=Zc(oo(k)))}),f.load(zn(d));else{var b=f.search(_);if(b.features.length){var w=Hl(_,b);d=d.filter(function(k){return k.id!==w.id}),f.remove(w),On(ns(w,_),function(k){d.push(k),f.insert(k)})}}}),zn(d)}function ns(o,l){var d=[],f=br(o)[0],_=br(o)[o.geometry.coordinates.length-1];if(Ri(f,or(l))||Ri(_,or(l)))return zn([o]);var b=(0,$l.default)(),w=Zo(o);b.load(w);var k=b.search(l);if(!k.features.length)return zn([o]);var A=Hl(l,k),R=[f],Y=Bi(w,function(q,pe,ge){var Ve=br(pe)[1],Je=or(l);return ge===A.id?(q.push(Je),d.push(qr(q)),Ri(Je,Ve)?[Je]:[Je,Ve]):(q.push(Ve),q)},R);return Y.length>1&&d.push(qr(Y)),zn(d)}function Hl(o,l){if(!l.features.length)throw new Error("lines must contain features");if(l.features.length===1)return l.features[0];var d,f=1/0;return On(l,function(_){var b=Oi(_,o),w=b.properties.dist;w<f&&(d=_,f=w)}),d}function Ri(o,l){return o[0]===l[0]&&o[1]===l[1]}var Kc=es;function so(o,l,d){if(d===void 0&&(d={}),!o)throw new Error("point is required");if(!l)throw new Error("polygon is required");var f=or(o),_=qo(l),b=_.type,w=l.bbox,k=_.coordinates;if(w&&Gl(f,w)===!1)return!1;b==="Polygon"&&(k=[k]);for(var A=!1,R=0;R<k.length&&!A;R++)if(Ul(f,k[R][0],d.ignoreBoundary)){for(var Y=!1,q=1;q<k[R].length&&!Y;)Ul(f,k[R][q],!d.ignoreBoundary)&&(Y=!0),q++;Y||(A=!0)}return A}function Ul(o,l,d){var f=!1;l[0][0]===l[l.length-1][0]&&l[0][1]===l[l.length-1][1]&&(l=l.slice(0,l.length-1));for(var _=0,b=l.length-1;_<l.length;b=_++){var w=l[_][0],k=l[_][1],A=l[b][0],R=l[b][1],Y=o[1]*(w-A)+k*(A-o[0])+R*(o[0]-w)===0&&(w-o[0])*(A-o[0])<=0&&(k-o[1])*(R-o[1])<=0;if(Y)return!d;var q=k>o[1]!=R>o[1]&&o[0]<(A-w)*(o[1]-k)/(R-k)+w;q&&(f=!f)}return f}function Gl(o,l){return l[0]<=o[0]&&l[1]<=o[1]&&l[2]>=o[0]&&l[3]>=o[1]}function Wc(o,l,d){d===void 0&&(d={});for(var f=or(o),_=br(l),b=0;b<_.length-1;b++){var w=!1;if(d.ignoreEndVertices&&(b===0&&(w="start"),b===_.length-2&&(w="end"),b===0&&b+1===_.length-1&&(w="both")),wr(_[b],_[b+1],f,w,typeof d.epsilon>"u"?null:d.epsilon))return!0}return!1}function wr(o,l,d,f,_){var b=d[0],w=d[1],k=o[0],A=o[1],R=l[0],Y=l[1],q=d[0]-k,pe=d[1]-A,ge=R-k,Ve=Y-A,Je=q*Ve-pe*ge;if(_!==null){if(Math.abs(Je)>_)return!1}else if(Je!==0)return!1;if(f){if(f==="start")return Math.abs(ge)>=Math.abs(Ve)?ge>0?k<b&&b<=R:R<=b&&b<k:Ve>0?A<w&&w<=Y:Y<=w&&w<A;if(f==="end")return Math.abs(ge)>=Math.abs(Ve)?ge>0?k<=b&&b<R:R<b&&b<=k:Ve>0?A<=w&&w<Y:Y<w&&w<=A;if(f==="both")return Math.abs(ge)>=Math.abs(Ve)?ge>0?k<b&&b<R:R<b&&b<k:Ve>0?A<w&&w<Y:Y<w&&w<A}else return Math.abs(ge)>=Math.abs(Ve)?ge>0?k<=b&&b<=R:R<=b&&b<=k:Ve>0?A<=w&&w<=Y:Y<=w&&w<=A;return!1}var Kr=Wc;function Jc(o,l){var d=qo(o),f=qo(l),_=d.type,b=f.type,w=d.coordinates,k=f.coordinates;switch(_){case"Point":switch(b){case"Point":return is(w,k);default:throw new Error("feature2 "+b+" geometry not supported")}case"MultiPoint":switch(b){case"Point":return rs(d,f);case"MultiPoint":return Yc(d,f);default:throw new Error("feature2 "+b+" geometry not supported")}case"LineString":switch(b){case"Point":return Kr(f,d,{ignoreEndVertices:!0});case"LineString":return ao(d,f);case"MultiPoint":return ql(d,f);default:throw new Error("feature2 "+b+" geometry not supported")}case"Polygon":switch(b){case"Point":return so(f,d,{ignoreBoundary:!0});case"LineString":return Qc(d,f);case"Polygon":return Di(d,f);case"MultiPoint":return Xc(d,f);default:throw new Error("feature2 "+b+" geometry not supported")}default:throw new Error("feature1 "+_+" geometry not supported")}}function rs(o,l){var d,f=!1;for(d=0;d<o.coordinates.length;d++)if(is(o.coordinates[d],l.coordinates)){f=!0;break}return f}function Yc(o,l){for(var d=0,f=l.coordinates;d<f.length;d++){for(var _=f[d],b=!1,w=0,k=o.coordinates;w<k.length;w++){var A=k[w];if(is(_,A)){b=!0;break}}if(!b)return!1}return!0}function ql(o,l){for(var d=!1,f=0,_=l.coordinates;f<_.length;f++){var b=_[f];if(Kr(b,o,{ignoreEndVertices:!0})&&(d=!0),!Kr(b,o))return!1}return!!d}function Xc(o,l){for(var d=0,f=l.coordinates;d<f.length;d++){var _=f[d];if(!so(_,o,{ignoreBoundary:!0}))return!1}return!0}function ao(o,l){for(var d=!1,f=0,_=l.coordinates;f<_.length;f++){var b=_[f];if(Kr({type:"Point",coordinates:b},o,{ignoreEndVertices:!0})&&(d=!0),!Kr({type:"Point",coordinates:b},o,{ignoreEndVertices:!1}))return!1}return d}function Qc(o,l){var d=!1,f=0,_=oo(o),b=oo(l);if(!ua(_,b))return!1;for(f;f<l.coordinates.length-1;f++){var w=ed(l.coordinates[f],l.coordinates[f+1]);if(so({type:"Point",coordinates:w},o,{ignoreBoundary:!0})){d=!0;break}}return d}function Di(o,l){if(o.type==="Feature"&&o.geometry===null||l.type==="Feature"&&l.geometry===null)return!1;var d=oo(o),f=oo(l);if(!ua(d,f))return!1;for(var _=qo(l).coordinates,b=0,w=_;b<w.length;b++)for(var k=w[b],A=0,R=k;A<R.length;A++){var Y=R[A];if(!so(Y,o))return!1}return!0}function ua(o,l){return!(o[0]>l[0]||o[2]<l[2]||o[1]>l[1]||o[3]<l[3])}function is(o,l){return o[0]===l[0]&&o[1]===l[1]}function ed(o,l){return[(o[0]+l[0])/2,(o[1]+l[1])/2]}var Dr=m(Hr()),ca=o=>()=>o,os=o=>{let l=o?(d,f)=>f.minus(d).abs().isLessThanOrEqualTo(o):ca(!1);return(d,f)=>l(d,f)?0:d.comparedTo(f)};function lo(o){let l=o?(d,f,_,b,w)=>d.exponentiatedBy(2).isLessThanOrEqualTo(b.minus(f).exponentiatedBy(2).plus(w.minus(_).exponentiatedBy(2)).times(o)):ca(!1);return(d,f,_)=>{let b=d.x,w=d.y,k=_.x,A=_.y,R=w.minus(A).times(f.x.minus(k)).minus(b.minus(k).times(f.y.minus(A)));return l(R,b,w,k,A)?0:R.comparedTo(0)}}var td=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ii=Math.ceil,Sn=Math.floor,Rn="[BigNumber Error] ",da=Rn+"Number primitive has more than 15 significant digits: ",fr=1e14,bt=14,ss=9007199254740991,as=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ir=1e7,mn=1e9;function Zl(o){var l,d,f,_=J.prototype={constructor:J,toString:null,valueOf:null},b=new J(1),w=20,k=4,A=-7,R=21,Y=-1e7,q=1e7,pe=!1,ge=1,Ve=0,Je={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},it="0123456789abcdefghijklmnopqrstuvwxyz",It=!0;function J(B,j){var z,N,H,G,ie,re,se,he,de=this;if(!(de instanceof J))return new J(B,j);if(j==null){if(B&&B._isBigNumber===!0){de.s=B.s,!B.c||B.e>q?de.c=de.e=null:B.e<Y?de.c=[de.e=0]:(de.e=B.e,de.c=B.c.slice());return}if((re=typeof B=="number")&&B*0==0){if(de.s=1/B<0?(B=-B,-1):1,B===~~B){for(G=0,ie=B;ie>=10;ie/=10,G++);G>q?de.c=de.e=null:(de.e=G,de.c=[B]);return}he=String(B)}else{if(!td.test(he=String(B)))return f(de,he,re);de.s=he.charCodeAt(0)==45?(he=he.slice(1),-1):1}(G=he.indexOf("."))>-1&&(he=he.replace(".","")),(ie=he.search(/e/i))>0?(G<0&&(G=ie),G+=+he.slice(ie+1),he=he.substring(0,ie)):G<0&&(G=he.length)}else{if(r(j,2,it.length,"Base"),j==10&&It)return de=new J(B),ue(de,w+de.e+1,k);if(he=String(B),re=typeof B=="number"){if(B*0!=0)return f(de,he,re,j);if(de.s=1/B<0?(he=he.slice(1),-1):1,J.DEBUG&&he.replace(/^0\.0*|\./,"").length>15)throw Error(da+B)}else de.s=he.charCodeAt(0)===45?(he=he.slice(1),-1):1;for(z=it.slice(0,j),G=ie=0,se=he.length;ie<se;ie++)if(z.indexOf(N=he.charAt(ie))<0){if(N=="."){if(ie>G){G=se;continue}}else if(!H&&(he==he.toUpperCase()&&(he=he.toLowerCase())||he==he.toLowerCase()&&(he=he.toUpperCase()))){H=!0,ie=-1,G=0;continue}return f(de,String(B),re,j)}re=!1,he=d(he,j,10,de.s),(G=he.indexOf("."))>-1?he=he.replace(".",""):G=he.length}for(ie=0;he.charCodeAt(ie)===48;ie++);for(se=he.length;he.charCodeAt(--se)===48;);if(he=he.slice(ie,++se)){if(se-=ie,re&&J.DEBUG&&se>15&&(B>ss||B!==Sn(B)))throw Error(da+de.s*B);if((G=G-ie-1)>q)de.c=de.e=null;else if(G<Y)de.c=[de.e=0];else{if(de.e=G,de.c=[],ie=(G+1)%bt,G<0&&(ie+=bt),ie<se){for(ie&&de.c.push(+he.slice(0,ie)),se-=bt;ie<se;)de.c.push(+he.slice(ie,ie+=bt));ie=bt-(he=he.slice(ie)).length}else ie-=se;for(;ie--;he+="0");de.c.push(+he)}}else de.c=[de.e=0]}J.clone=Zl,J.ROUND_UP=0,J.ROUND_DOWN=1,J.ROUND_CEIL=2,J.ROUND_FLOOR=3,J.ROUND_HALF_UP=4,J.ROUND_HALF_DOWN=5,J.ROUND_HALF_EVEN=6,J.ROUND_HALF_CEIL=7,J.ROUND_HALF_FLOOR=8,J.EUCLID=9,J.config=J.set=function(B){var j,z;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(j="DECIMAL_PLACES")&&(z=B[j],r(z,0,mn,j),w=z),B.hasOwnProperty(j="ROUNDING_MODE")&&(z=B[j],r(z,0,8,j),k=z),B.hasOwnProperty(j="EXPONENTIAL_AT")&&(z=B[j],z&&z.pop?(r(z[0],-mn,0,j),r(z[1],0,mn,j),A=z[0],R=z[1]):(r(z,-mn,mn,j),A=-(R=z<0?-z:z))),B.hasOwnProperty(j="RANGE"))if(z=B[j],z&&z.pop)r(z[0],-mn,-1,j),r(z[1],1,mn,j),Y=z[0],q=z[1];else if(r(z,-mn,mn,j),z)Y=-(q=z<0?-z:z);else throw Error(Rn+j+" cannot be zero: "+z);if(B.hasOwnProperty(j="CRYPTO"))if(z=B[j],z===!!z)if(z)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))pe=z;else throw pe=!z,Error(Rn+"crypto unavailable");else pe=z;else throw Error(Rn+j+" not true or false: "+z);if(B.hasOwnProperty(j="MODULO_MODE")&&(z=B[j],r(z,0,9,j),ge=z),B.hasOwnProperty(j="POW_PRECISION")&&(z=B[j],r(z,0,mn,j),Ve=z),B.hasOwnProperty(j="FORMAT"))if(z=B[j],typeof z=="object")Je=z;else throw Error(Rn+j+" not an object: "+z);if(B.hasOwnProperty(j="ALPHABET"))if(z=B[j],typeof z=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(z))It=z.slice(0,10)=="0123456789",it=z;else throw Error(Rn+j+" invalid: "+z)}else throw Error(Rn+"Object expected: "+B);return{DECIMAL_PLACES:w,ROUNDING_MODE:k,EXPONENTIAL_AT:[A,R],RANGE:[Y,q],CRYPTO:pe,MODULO_MODE:ge,POW_PRECISION:Ve,FORMAT:Je,ALPHABET:it}},J.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!J.DEBUG)return!0;var j,z,N=B.c,H=B.e,G=B.s;e:if({}.toString.call(N)=="[object Array]"){if((G===1||G===-1)&&H>=-mn&&H<=mn&&H===Sn(H)){if(N[0]===0){if(H===0&&N.length===1)return!0;break e}if(j=(H+1)%bt,j<1&&(j+=bt),String(N[0]).length==j){for(j=0;j<N.length;j++)if(z=N[j],z<0||z>=fr||z!==Sn(z))break e;if(z!==0)return!0}}}else if(N===null&&H===null&&(G===null||G===1||G===-1))return!0;throw Error(Rn+"Invalid BigNumber: "+B)},J.maximum=J.max=function(){return le(arguments,-1)},J.minimum=J.min=function(){return le(arguments,1)},J.random=function(){var B=9007199254740992,j=Math.random()*B&2097151?function(){return Sn(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(z){var N,H,G,ie,re,se=0,he=[],de=new J(b);if(z==null?z=w:r(z,0,mn),ie=Ii(z/bt),pe)if(crypto.getRandomValues){for(N=crypto.getRandomValues(new Uint32Array(ie*=2));se<ie;)re=N[se]*131072+(N[se+1]>>>11),re>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),N[se]=H[0],N[se+1]=H[1]):(he.push(re%1e14),se+=2);se=ie/2}else if(crypto.randomBytes){for(N=crypto.randomBytes(ie*=7);se<ie;)re=(N[se]&31)*281474976710656+N[se+1]*1099511627776+N[se+2]*4294967296+N[se+3]*16777216+(N[se+4]<<16)+(N[se+5]<<8)+N[se+6],re>=9e15?crypto.randomBytes(7).copy(N,se):(he.push(re%1e14),se+=7);se=ie/7}else throw pe=!1,Error(Rn+"crypto unavailable");if(!pe)for(;se<ie;)re=j(),re<9e15&&(he[se++]=re%1e14);for(ie=he[--se],z%=bt,ie&&z&&(re=as[bt-z],he[se]=Sn(ie/re)*re);he[se]===0;he.pop(),se--);if(se<0)he=[G=0];else{for(G=-1;he[0]===0;he.splice(0,1),G-=bt);for(se=1,re=he[0];re>=10;re/=10,se++);se<bt&&(G-=bt-se)}return de.e=G,de.c=he,de}}(),J.sum=function(){for(var B=1,j=arguments,z=new J(j[0]);B<j.length;)z=z.plus(j[B++]);return z},d=function(){var B="0123456789";function j(z,N,H,G){for(var ie,re=[0],se,he=0,de=z.length;he<de;){for(se=re.length;se--;re[se]*=N);for(re[0]+=G.indexOf(z.charAt(he++)),ie=0;ie<re.length;ie++)re[ie]>H-1&&(re[ie+1]==null&&(re[ie+1]=0),re[ie+1]+=re[ie]/H|0,re[ie]%=H)}return re.reverse()}return function(z,N,H,G,ie){var re,se,he,de,De,nt,at,ft,qt=z.indexOf("."),Jt=w,Vt=k;for(qt>=0&&(de=Ve,Ve=0,z=z.replace(".",""),ft=new J(N),nt=ft.pow(z.length-qt),Ve=de,ft.c=j(v(Yn(nt.c),nt.e,"0"),10,H,B),ft.e=ft.c.length),at=j(z,N,H,ie?(re=it,B):(re=B,it)),he=de=at.length;at[--de]==0;at.pop());if(!at[0])return re.charAt(0);if(qt<0?--he:(nt.c=at,nt.e=he,nt.s=G,nt=l(nt,ft,Jt,Vt,H),at=nt.c,De=nt.r,he=nt.e),se=he+Jt+1,qt=at[se],de=H/2,De=De||se<0||at[se+1]!=null,De=Vt<4?(qt!=null||De)&&(Vt==0||Vt==(nt.s<0?3:2)):qt>de||qt==de&&(Vt==4||De||Vt==6&&at[se-1]&1||Vt==(nt.s<0?8:7)),se<1||!at[0])z=De?v(re.charAt(1),-Jt,re.charAt(0)):re.charAt(0);else{if(at.length=se,De)for(--H;++at[--se]>H;)at[se]=0,se||(++he,at=[1].concat(at));for(de=at.length;!at[--de];);for(qt=0,z="";qt<=de;z+=re.charAt(at[qt++]));z=v(z,he,re.charAt(0))}return z}}(),l=function(){function B(N,H,G){var ie,re,se,he,de=0,De=N.length,nt=H%Ir,at=H/Ir|0;for(N=N.slice();De--;)se=N[De]%Ir,he=N[De]/Ir|0,ie=at*se+he*nt,re=nt*se+ie%Ir*Ir+de,de=(re/G|0)+(ie/Ir|0)+at*he,N[De]=re%G;return de&&(N=[de].concat(N)),N}function j(N,H,G,ie){var re,se;if(G!=ie)se=G>ie?1:-1;else for(re=se=0;re<G;re++)if(N[re]!=H[re]){se=N[re]>H[re]?1:-1;break}return se}function z(N,H,G,ie){for(var re=0;G--;)N[G]-=re,re=N[G]<H[G]?1:0,N[G]=re*ie+N[G]-H[G];for(;!N[0]&&N.length>1;N.splice(0,1));}return function(N,H,G,ie,re){var se,he,de,De,nt,at,ft,qt,Jt,Vt,Yt,Gn,eu,ad,ld,Wr,ma,kr=N.s==H.s?1:-1,Xn=N.c,hn=H.c;if(!Xn||!Xn[0]||!hn||!hn[0])return new J(!N.s||!H.s||(Xn?hn&&Xn[0]==hn[0]:!hn)?NaN:Xn&&Xn[0]==0||!hn?kr*0:kr/0);for(qt=new J(kr),Jt=qt.c=[],he=N.e-H.e,kr=G+he+1,re||(re=fr,he=Jn(N.e/bt)-Jn(H.e/bt),kr=kr/bt|0),de=0;hn[de]==(Xn[de]||0);de++);if(hn[de]>(Xn[de]||0)&&he--,kr<0)Jt.push(1),De=!0;else{for(ad=Xn.length,Wr=hn.length,de=0,kr+=2,nt=Sn(re/(hn[0]+1)),nt>1&&(hn=B(hn,nt,re),Xn=B(Xn,nt,re),Wr=hn.length,ad=Xn.length),eu=Wr,Vt=Xn.slice(0,Wr),Yt=Vt.length;Yt<Wr;Vt[Yt++]=0);ma=hn.slice(),ma=[0].concat(ma),ld=hn[0],hn[1]>=re/2&&ld++;do{if(nt=0,se=j(hn,Vt,Wr,Yt),se<0){if(Gn=Vt[0],Wr!=Yt&&(Gn=Gn*re+(Vt[1]||0)),nt=Sn(Gn/ld),nt>1)for(nt>=re&&(nt=re-1),at=B(hn,nt,re),ft=at.length,Yt=Vt.length;j(at,Vt,ft,Yt)==1;)nt--,z(at,Wr<ft?ma:hn,ft,re),ft=at.length,se=1;else nt==0&&(se=nt=1),at=hn.slice(),ft=at.length;if(ft<Yt&&(at=[0].concat(at)),z(Vt,at,Yt,re),Yt=Vt.length,se==-1)for(;j(hn,Vt,Wr,Yt)<1;)nt++,z(Vt,Wr<Yt?ma:hn,Yt,re),Yt=Vt.length}else se===0&&(nt++,Vt=[0]);Jt[de++]=nt,Vt[0]?Vt[Yt++]=Xn[eu]||0:(Vt=[Xn[eu]],Yt=1)}while((eu++<ad||Vt[0]!=null)&&kr--);De=Vt[0]!=null,Jt[0]||Jt.splice(0,1)}if(re==fr){for(de=1,kr=Jt[0];kr>=10;kr/=10,de++);ue(qt,G+(qt.e=de+he*bt-1)+1,ie,De)}else qt.e=he,qt.r=+De;return qt}}();function ne(B,j,z,N){var H,G,ie,re,se;if(z==null?z=k:r(z,0,8),!B.c)return B.toString();if(H=B.c[0],ie=B.e,j==null)se=Yn(B.c),se=N==1||N==2&&(ie<=A||ie>=R)?p(se,ie):v(se,ie,"0");else if(B=ue(new J(B),j,z),G=B.e,se=Yn(B.c),re=se.length,N==1||N==2&&(j<=G||G<=A)){for(;re<j;se+="0",re++);se=p(se,G)}else if(j-=ie,se=v(se,G,"0"),G+1>re){if(--j>0)for(se+=".";j--;se+="0");}else if(j+=G-re,j>0)for(G+1==re&&(se+=".");j--;se+="0");return B.s<0&&H?"-"+se:se}function le(B,j){for(var z,N,H=1,G=new J(B[0]);H<B.length;H++)N=new J(B[H]),(!N.s||(z=hi(G,N))===j||z===0&&G.s===j)&&(G=N);return G}function ve(B,j,z){for(var N=1,H=j.length;!j[--H];j.pop());for(H=j[0];H>=10;H/=10,N++);return(z=N+z*bt-1)>q?B.c=B.e=null:z<Y?B.c=[B.e=0]:(B.e=z,B.c=j),B}f=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,z=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(G,ie,re,se){var he,de=re?ie:ie.replace(H,"");if(N.test(de))G.s=isNaN(de)?null:de<0?-1:1;else{if(!re&&(de=de.replace(B,function(De,nt,at){return he=(at=at.toLowerCase())=="x"?16:at=="b"?2:8,!se||se==he?nt:De}),se&&(he=se,de=de.replace(j,"$1").replace(z,"0.$1")),ie!=de))return new J(de,he);if(J.DEBUG)throw Error(Rn+"Not a"+(se?" base "+se:"")+" number: "+ie);G.s=null}G.c=G.e=null}}();function ue(B,j,z,N){var H,G,ie,re,se,he,de,De=B.c,nt=as;if(De){e:{for(H=1,re=De[0];re>=10;re/=10,H++);if(G=j-H,G<0)G+=bt,ie=j,se=De[he=0],de=Sn(se/nt[H-ie-1]%10);else if(he=Ii((G+1)/bt),he>=De.length)if(N){for(;De.length<=he;De.push(0));se=de=0,H=1,G%=bt,ie=G-bt+1}else break e;else{for(se=re=De[he],H=1;re>=10;re/=10,H++);G%=bt,ie=G-bt+H,de=ie<0?0:Sn(se/nt[H-ie-1]%10)}if(N=N||j<0||De[he+1]!=null||(ie<0?se:se%nt[H-ie-1]),N=z<4?(de||N)&&(z==0||z==(B.s<0?3:2)):de>5||de==5&&(z==4||N||z==6&&(G>0?ie>0?se/nt[H-ie]:0:De[he-1])%10&1||z==(B.s<0?8:7)),j<1||!De[0])return De.length=0,N?(j-=B.e+1,De[0]=nt[(bt-j%bt)%bt],B.e=-j||0):De[0]=B.e=0,B;if(G==0?(De.length=he,re=1,he--):(De.length=he+1,re=nt[bt-G],De[he]=ie>0?Sn(se/nt[H-ie]%nt[ie])*re:0),N)for(;;)if(he==0){for(G=1,ie=De[0];ie>=10;ie/=10,G++);for(ie=De[0]+=re,re=1;ie>=10;ie/=10,re++);G!=re&&(B.e++,De[0]==fr&&(De[0]=1));break}else{if(De[he]+=re,De[he]!=fr)break;De[he--]=0,re=1}for(G=De.length;De[--G]===0;De.pop());}B.e>q?B.c=B.e=null:B.e<Y&&(B.c=[B.e=0])}return B}function me(B){var j,z=B.e;return z===null?B.toString():(j=Yn(B.c),j=z<=A||z>=R?p(j,z):v(j,z,"0"),B.s<0?"-"+j:j)}return _.absoluteValue=_.abs=function(){var B=new J(this);return B.s<0&&(B.s=1),B},_.comparedTo=function(B,j){return hi(this,new J(B,j))},_.decimalPlaces=_.dp=function(B,j){var z,N,H,G=this;if(B!=null)return r(B,0,mn),j==null?j=k:r(j,0,8),ue(new J(G),B+G.e+1,j);if(!(z=G.c))return null;if(N=((H=z.length-1)-Jn(this.e/bt))*bt,H=z[H])for(;H%10==0;H/=10,N--);return N<0&&(N=0),N},_.dividedBy=_.div=function(B,j){return l(this,new J(B,j),w,k)},_.dividedToIntegerBy=_.idiv=function(B,j){return l(this,new J(B,j),0,1)},_.exponentiatedBy=_.pow=function(B,j){var z,N,H,G,ie,re,se,he,de,De=this;if(B=new J(B),B.c&&!B.isInteger())throw Error(Rn+"Exponent not an integer: "+me(B));if(j!=null&&(j=new J(j)),re=B.e>14,!De.c||!De.c[0]||De.c[0]==1&&!De.e&&De.c.length==1||!B.c||!B.c[0])return de=new J(Math.pow(+me(De),re?B.s*(2-c(B)):+me(B))),j?de.mod(j):de;if(se=B.s<0,j){if(j.c?!j.c[0]:!j.s)return new J(NaN);N=!se&&De.isInteger()&&j.isInteger(),N&&(De=De.mod(j))}else{if(B.e>9&&(De.e>0||De.e<-1||(De.e==0?De.c[0]>1||re&&De.c[1]>=24e7:De.c[0]<8e13||re&&De.c[0]<=9999975e7)))return G=De.s<0&&c(B)?-0:0,De.e>-1&&(G=1/G),new J(se?1/G:G);Ve&&(G=Ii(Ve/bt+2))}for(re?(z=new J(.5),se&&(B.s=1),he=c(B)):(H=Math.abs(+me(B)),he=H%2),de=new J(b);;){if(he){if(de=de.times(De),!de.c)break;G?de.c.length>G&&(de.c.length=G):N&&(de=de.mod(j))}if(H){if(H=Sn(H/2),H===0)break;he=H%2}else if(B=B.times(z),ue(B,B.e+1,1),B.e>14)he=c(B);else{if(H=+me(B),H===0)break;he=H%2}De=De.times(De),G?De.c&&De.c.length>G&&(De.c.length=G):N&&(De=De.mod(j))}return N?de:(se&&(de=b.div(de)),j?de.mod(j):G?ue(de,Ve,k,ie):de)},_.integerValue=function(B){var j=new J(this);return B==null?B=k:r(B,0,8),ue(j,j.e+1,B)},_.isEqualTo=_.eq=function(B,j){return hi(this,new J(B,j))===0},_.isFinite=function(){return!!this.c},_.isGreaterThan=_.gt=function(B,j){return hi(this,new J(B,j))>0},_.isGreaterThanOrEqualTo=_.gte=function(B,j){return(j=hi(this,new J(B,j)))===1||j===0},_.isInteger=function(){return!!this.c&&Jn(this.e/bt)>this.c.length-2},_.isLessThan=_.lt=function(B,j){return hi(this,new J(B,j))<0},_.isLessThanOrEqualTo=_.lte=function(B,j){return(j=hi(this,new J(B,j)))===-1||j===0},_.isNaN=function(){return!this.s},_.isNegative=function(){return this.s<0},_.isPositive=function(){return this.s>0},_.isZero=function(){return!!this.c&&this.c[0]==0},_.minus=function(B,j){var z,N,H,G,ie=this,re=ie.s;if(B=new J(B,j),j=B.s,!re||!j)return new J(NaN);if(re!=j)return B.s=-j,ie.plus(B);var se=ie.e/bt,he=B.e/bt,de=ie.c,De=B.c;if(!se||!he){if(!de||!De)return de?(B.s=-j,B):new J(De?ie:NaN);if(!de[0]||!De[0])return De[0]?(B.s=-j,B):new J(de[0]?ie:k==3?-0:0)}if(se=Jn(se),he=Jn(he),de=de.slice(),re=se-he){for((G=re<0)?(re=-re,H=de):(he=se,H=De),H.reverse(),j=re;j--;H.push(0));H.reverse()}else for(N=(G=(re=de.length)<(j=De.length))?re:j,re=j=0;j<N;j++)if(de[j]!=De[j]){G=de[j]<De[j];break}if(G&&(H=de,de=De,De=H,B.s=-B.s),j=(N=De.length)-(z=de.length),j>0)for(;j--;de[z++]=0);for(j=fr-1;N>re;){if(de[--N]<De[N]){for(z=N;z&&!de[--z];de[z]=j);--de[z],de[N]+=fr}de[N]-=De[N]}for(;de[0]==0;de.splice(0,1),--he);return de[0]?ve(B,de,he):(B.s=k==3?-1:1,B.c=[B.e=0],B)},_.modulo=_.mod=function(B,j){var z,N,H=this;return B=new J(B,j),!H.c||!B.s||B.c&&!B.c[0]?new J(NaN):!B.c||H.c&&!H.c[0]?new J(H):(ge==9?(N=B.s,B.s=1,z=l(H,B,0,3),B.s=N,z.s*=N):z=l(H,B,0,ge),B=H.minus(z.times(B)),!B.c[0]&&ge==1&&(B.s=H.s),B)},_.multipliedBy=_.times=function(B,j){var z,N,H,G,ie,re,se,he,de,De,nt,at,ft,qt,Jt,Vt=this,Yt=Vt.c,Gn=(B=new J(B,j)).c;if(!Yt||!Gn||!Yt[0]||!Gn[0])return!Vt.s||!B.s||Yt&&!Yt[0]&&!Gn||Gn&&!Gn[0]&&!Yt?B.c=B.e=B.s=null:(B.s*=Vt.s,!Yt||!Gn?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(N=Jn(Vt.e/bt)+Jn(B.e/bt),B.s*=Vt.s,se=Yt.length,De=Gn.length,se<De&&(ft=Yt,Yt=Gn,Gn=ft,H=se,se=De,De=H),H=se+De,ft=[];H--;ft.push(0));for(qt=fr,Jt=Ir,H=De;--H>=0;){for(z=0,nt=Gn[H]%Jt,at=Gn[H]/Jt|0,ie=se,G=H+ie;G>H;)he=Yt[--ie]%Jt,de=Yt[ie]/Jt|0,re=at*he+de*nt,he=nt*he+re%Jt*Jt+ft[G]+z,z=(he/qt|0)+(re/Jt|0)+at*de,ft[G--]=he%qt;ft[G]=z}return z?++N:ft.splice(0,1),ve(B,ft,N)},_.negated=function(){var B=new J(this);return B.s=-B.s||null,B},_.plus=function(B,j){var z,N=this,H=N.s;if(B=new J(B,j),j=B.s,!H||!j)return new J(NaN);if(H!=j)return B.s=-j,N.minus(B);var G=N.e/bt,ie=B.e/bt,re=N.c,se=B.c;if(!G||!ie){if(!re||!se)return new J(H/0);if(!re[0]||!se[0])return se[0]?B:new J(re[0]?N:H*0)}if(G=Jn(G),ie=Jn(ie),re=re.slice(),H=G-ie){for(H>0?(ie=G,z=se):(H=-H,z=re),z.reverse();H--;z.push(0));z.reverse()}for(H=re.length,j=se.length,H-j<0&&(z=se,se=re,re=z,j=H),H=0;j;)H=(re[--j]=re[j]+se[j]+H)/fr|0,re[j]=fr===re[j]?0:re[j]%fr;return H&&(re=[H].concat(re),++ie),ve(B,re,ie)},_.precision=_.sd=function(B,j){var z,N,H,G=this;if(B!=null&&B!==!!B)return r(B,1,mn),j==null?j=k:r(j,0,8),ue(new J(G),B,j);if(!(z=G.c))return null;if(H=z.length-1,N=H*bt+1,H=z[H]){for(;H%10==0;H/=10,N--);for(H=z[0];H>=10;H/=10,N++);}return B&&G.e+1>N&&(N=G.e+1),N},_.shiftedBy=function(B){return r(B,-ss,ss),this.times("1e"+B)},_.squareRoot=_.sqrt=function(){var B,j,z,N,H,G=this,ie=G.c,re=G.s,se=G.e,he=w+4,de=new J("0.5");if(re!==1||!ie||!ie[0])return new J(!re||re<0&&(!ie||ie[0])?NaN:ie?G:1/0);if(re=Math.sqrt(+me(G)),re==0||re==1/0?(j=Yn(ie),(j.length+se)%2==0&&(j+="0"),re=Math.sqrt(+j),se=Jn((se+1)/2)-(se<0||se%2),re==1/0?j="5e"+se:(j=re.toExponential(),j=j.slice(0,j.indexOf("e")+1)+se),z=new J(j)):z=new J(re+""),z.c[0]){for(se=z.e,re=se+he,re<3&&(re=0);;)if(H=z,z=de.times(H.plus(l(G,H,he,1))),Yn(H.c).slice(0,re)===(j=Yn(z.c)).slice(0,re))if(z.e<se&&--re,j=j.slice(re-3,re+1),j=="9999"||!N&&j=="4999"){if(!N&&(ue(H,H.e+w+2,0),H.times(H).eq(G))){z=H;break}he+=4,re+=4,N=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&(ue(z,z.e+w+2,1),B=!z.times(z).eq(G));break}}return ue(z,z.e+w+1,k,B)},_.toExponential=function(B,j){return B!=null&&(r(B,0,mn),B++),ne(this,B,j,1)},_.toFixed=function(B,j){return B!=null&&(r(B,0,mn),B=B+this.e+1),ne(this,B,j)},_.toFormat=function(B,j,z){var N,H=this;if(z==null)B!=null&&j&&typeof j=="object"?(z=j,j=null):B&&typeof B=="object"?(z=B,B=j=null):z=Je;else if(typeof z!="object")throw Error(Rn+"Argument not an object: "+z);if(N=H.toFixed(B,j),H.c){var G,ie=N.split("."),re=+z.groupSize,se=+z.secondaryGroupSize,he=z.groupSeparator||"",de=ie[0],De=ie[1],nt=H.s<0,at=nt?de.slice(1):de,ft=at.length;if(se&&(G=re,re=se,se=G,ft-=G),re>0&&ft>0){for(G=ft%re||re,de=at.substr(0,G);G<ft;G+=re)de+=he+at.substr(G,re);se>0&&(de+=he+at.slice(G)),nt&&(de="-"+de)}N=De?de+(z.decimalSeparator||"")+((se=+z.fractionGroupSize)?De.replace(new RegExp("\\d{"+se+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):De):de}return(z.prefix||"")+N+(z.suffix||"")},_.toFraction=function(B){var j,z,N,H,G,ie,re,se,he,de,De,nt,at=this,ft=at.c;if(B!=null&&(re=new J(B),!re.isInteger()&&(re.c||re.s!==1)||re.lt(b)))throw Error(Rn+"Argument "+(re.isInteger()?"out of range: ":"not an integer: ")+me(re));if(!ft)return new J(at);for(j=new J(b),he=z=new J(b),N=se=new J(b),nt=Yn(ft),G=j.e=nt.length-at.e-1,j.c[0]=as[(ie=G%bt)<0?bt+ie:ie],B=!B||re.comparedTo(j)>0?G>0?j:he:re,ie=q,q=1/0,re=new J(nt),se.c[0]=0;de=l(re,j,0,1),H=z.plus(de.times(N)),H.comparedTo(B)!=1;)z=N,N=H,he=se.plus(de.times(H=he)),se=H,j=re.minus(de.times(H=j)),re=H;return H=l(B.minus(z),N,0,1),se=se.plus(H.times(he)),z=z.plus(H.times(N)),se.s=he.s=at.s,G=G*2,De=l(he,N,G,k).minus(at).abs().comparedTo(l(se,z,G,k).minus(at).abs())<1?[he,N]:[se,z],q=ie,De},_.toNumber=function(){return+me(this)},_.toPrecision=function(B,j){return B!=null&&r(B,1,mn),ne(this,B,j,2)},_.toString=function(B){var j,z=this,N=z.s,H=z.e;return H===null?N?(j="Infinity",N<0&&(j="-"+j)):j="NaN":(B==null?j=H<=A||H>=R?p(Yn(z.c),H):v(Yn(z.c),H,"0"):B===10&&It?(z=ue(new J(z),w+H+1,k),j=v(Yn(z.c),z.e,"0")):(r(B,2,it.length,"Base"),j=d(v(Yn(z.c),H,"0"),10,B,N,!0)),N<0&&z.c[0]&&(j="-"+j)),j},_.valueOf=_.toJSON=function(){return me(this)},_._isBigNumber=!0,_[Symbol.toStringTag]="BigNumber",_[Symbol.for("nodejs.util.inspect.custom")]=_.valueOf,o!=null&&J.set(o),J}function Jn(o){var l=o|0;return o>0||o===l?l:l-1}function Yn(o){for(var l,d,f=1,_=o.length,b=o[0]+"";f<_;){for(l=o[f++]+"",d=bt-l.length;d--;l="0"+l);b+=l}for(_=b.length;b.charCodeAt(--_)===48;);return b.slice(0,_+1||1)}function hi(o,l){var d,f,_=o.c,b=l.c,w=o.s,k=l.s,A=o.e,R=l.e;if(!w||!k)return null;if(d=_&&!_[0],f=b&&!b[0],d||f)return d?f?0:-k:w;if(w!=k)return w;if(d=w<0,f=A==R,!_||!b)return f?0:!_^d?1:-1;if(!f)return A>R^d?1:-1;for(k=(A=_.length)<(R=b.length)?A:R,w=0;w<k;w++)if(_[w]!=b[w])return _[w]>b[w]^d?1:-1;return A==R?0:A>R^d?1:-1}function r(o,l,d,f){if(o<l||o>d||o!==Sn(o))throw Error(Rn+(f||"Argument")+(typeof o=="number"?o<l||o>d?" out of range: ":" not an integer: ":" not a primitive number: ")+String(o))}function c(o){var l=o.c.length-1;return Jn(o.e/bt)==l&&o.c[l]%2!=0}function p(o,l){return(o.length>1?o.charAt(0)+"."+o.slice(1):o)+(l<0?"e":"e+")+l}function v(o,l,d){var f,_;if(l<0){for(_=d+".";++l;_+=d);o=_+o}else if(f=o.length,++l>f){for(_=d,l-=f;--l;_+=d);o+=_}else l<f&&(o=o.slice(0,l)+"."+o.slice(l));return o}var M=Zl(),D=M,ee=class{key;left=null;right=null;constructor(o){this.key=o}},ce=class extends ee{constructor(o){super(o)}},xe=class{size=0;modificationCount=0;splayCount=0;splay(o){let l=this.root;if(l==null)return this.compare(o,o),-1;let d=null,f=null,_=null,b=null,w=l,k=this.compare,A;for(;;)if(A=k(w.key,o),A>0){let R=w.left;if(R==null||(A=k(R.key,o),A>0&&(w.left=R.right,R.right=w,w=R,R=w.left,R==null)))break;d==null?f=w:d.left=w,d=w,w=R}else if(A<0){let R=w.right;if(R==null||(A=k(R.key,o),A<0&&(w.right=R.left,R.left=w,w=R,R=w.right,R==null)))break;_==null?b=w:_.right=w,_=w,w=R}else break;return _!=null&&(_.right=w.left,w.left=b),d!=null&&(d.left=w.right,w.right=f),this.root!==w&&(this.root=w,this.splayCount++),A}splayMin(o){let l=o,d=l.left;for(;d!=null;){let f=d;l.left=f.right,f.right=l,l=f,d=l.left}return l}splayMax(o){let l=o,d=l.right;for(;d!=null;){let f=d;l.right=f.left,f.left=l,l=f,d=l.right}return l}_delete(o){if(this.root==null||this.splay(o)!=0)return null;let l=this.root,d=l,f=l.left;if(this.size--,f==null)this.root=l.right;else{let _=l.right;l=this.splayMax(f),l.right=_,this.root=l}return this.modificationCount++,d}addNewRoot(o,l){this.size++,this.modificationCount++;let d=this.root;if(d==null){this.root=o;return}l<0?(o.left=d,o.right=d.right,d.right=null):(o.right=d,o.left=d.left,d.left=null),this.root=o}_first(){let o=this.root;return o==null?null:(this.root=this.splayMin(o),this.root)}_last(){let o=this.root;return o==null?null:(this.root=this.splayMax(o),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(o){return this.validKey(o)&&this.splay(o)==0}defaultCompare(){return(o,l)=>o<l?-1:o>l?1:0}wrap(){return{getRoot:()=>this.root,setRoot:o=>{this.root=o},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:o=>{this.splayCount=o},splay:o=>this.splay(o),has:o=>this.has(o)}}},Ie=class Ma extends xe{root=null;compare;validKey;constructor(l,d){super(),this.compare=l??this.defaultCompare(),this.validKey=d??(f=>f!=null&&f!=null)}delete(l){return this.validKey(l)?this._delete(l)!=null:!1}deleteAll(l){for(let d of l)this.delete(d)}forEach(l){let d=this[Symbol.iterator](),f;for(;f=d.next(),!f.done;)l(f.value,f.value,this)}add(l){let d=this.splay(l);return d!=0&&this.addNewRoot(new ce(l),d),this}addAndReturn(l){let d=this.splay(l);return d!=0&&this.addNewRoot(new ce(l),d),this.root.key}addAll(l){for(let d of l)this.add(d)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(l){if(l==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(l)<0)return this.root.key;let d=this.root.left;if(d==null)return null;let f=d.right;for(;f!=null;)d=f,f=d.right;return d.key}firstAfter(l){if(l==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(l)>0)return this.root.key;let d=this.root.right;if(d==null)return null;let f=d.left;for(;f!=null;)d=f,f=d.left;return d.key}retainAll(l){let d=new Ma(this.compare,this.validKey),f=this.modificationCount;for(let _ of l){if(f!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(_)&&this.splay(_)==0&&d.add(this.root.key)}d.size!=this.size&&(this.root=d.root,this.size=d.size,this.modificationCount++)}lookup(l){return!this.validKey(l)||this.splay(l)!=0?null:this.root.key}intersection(l){let d=new Ma(this.compare,this.validKey);for(let f of this)l.has(f)&&d.add(f);return d}difference(l){let d=new Ma(this.compare,this.validKey);for(let f of this)l.has(f)||d.add(f);return d}union(l){let d=this.clone();return d.addAll(l),d}clone(){let l=new Ma(this.compare,this.validKey);return l.size=this.size,l.root=this.copyNode(this.root),l}copyNode(l){if(l==null)return null;function d(_,b){let w,k;do{if(w=_.left,k=_.right,w!=null){let A=new ce(w.key);b.left=A,d(w,A)}if(k!=null){let A=new ce(k.key);b.right=A,_=k,b=A}}while(k!=null)}let f=new ce(l.key);return d(l,f),f}toSet(){return this.clone()}entries(){return new St(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new gt(this.wrap())}[Symbol.toStringTag]="[object Set]"},Qe=class{tree;path=new Array;modificationCount=null;splayCount;constructor(o){this.tree=o,this.splayCount=o.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let o=this.path[this.path.length-1];return this.getValue(o)}rebuildPath(o){this.path.splice(0,this.path.length),this.tree.splay(o),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(o){for(;o!=null;)this.path.push(o),o=o.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let d=this.tree.getRoot();for(;d!=null;)this.path.push(d),d=d.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let o=this.path[this.path.length-1],l=o.right;if(l!=null){for(;l!=null;)this.path.push(l),l=l.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===o;)o=this.path.pop();return this.path.length>0}},gt=class extends Qe{getValue(o){return o.key}},St=class extends Qe{getValue(o){return[o.key,o.key]}},Dn=o=>o,xn=o=>{if(o){let l=new Ie(os(o)),d=new Ie(os(o)),f=(b,w)=>w.addAndReturn(b),_=b=>({x:f(b.x,l),y:f(b.y,d)});return _({x:new D(0),y:new D(0)}),_}return Dn},Un=o=>({set:l=>{rn=Un(l)},reset:()=>Un(o),compare:os(o),snap:xn(o),orient:lo(o)}),rn=Un(),Lr=(o,l)=>o.ll.x.isLessThanOrEqualTo(l.x)&&l.x.isLessThanOrEqualTo(o.ur.x)&&o.ll.y.isLessThanOrEqualTo(l.y)&&l.y.isLessThanOrEqualTo(o.ur.y),ha=(o,l)=>{if(l.ur.x.isLessThan(o.ll.x)||o.ur.x.isLessThan(l.ll.x)||l.ur.y.isLessThan(o.ll.y)||o.ur.y.isLessThan(l.ll.y))return null;let d=o.ll.x.isLessThan(l.ll.x)?l.ll.x:o.ll.x,f=o.ur.x.isLessThan(l.ur.x)?o.ur.x:l.ur.x,_=o.ll.y.isLessThan(l.ll.y)?l.ll.y:o.ll.y,b=o.ur.y.isLessThan(l.ur.y)?o.ur.y:l.ur.y;return{ll:{x:d,y:_},ur:{x:f,y:b}}},ls=(o,l)=>o.x.times(l.y).minus(o.y.times(l.x)),Kl=(o,l)=>o.x.times(l.x).plus(o.y.times(l.y)),uo=o=>Kl(o,o).sqrt(),nd=(o,l,d)=>{let f={x:l.x.minus(o.x),y:l.y.minus(o.y)},_={x:d.x.minus(o.x),y:d.y.minus(o.y)};return ls(_,f).div(uo(_)).div(uo(f))},Wl=(o,l,d)=>{let f={x:l.x.minus(o.x),y:l.y.minus(o.y)},_={x:d.x.minus(o.x),y:d.y.minus(o.y)};return Kl(_,f).div(uo(_)).div(uo(f))},un=(o,l,d)=>l.y.isZero()?null:{x:o.x.plus(l.x.div(l.y).times(d.minus(o.y))),y:d},co=(o,l,d)=>l.x.isZero()?null:{x:d,y:o.y.plus(l.y.div(l.x).times(d.minus(o.x)))},rd=(o,l,d,f)=>{if(l.x.isZero())return co(d,f,o.x);if(f.x.isZero())return co(o,l,d.x);if(l.y.isZero())return un(d,f,o.y);if(f.y.isZero())return un(o,l,d.y);let _=ls(l,f);if(_.isZero())return null;let b={x:d.x.minus(o.x),y:d.y.minus(o.y)},w=ls(b,l).div(_),k=ls(b,f).div(_),A=o.x.plus(k.times(l.x)),R=d.x.plus(w.times(f.x)),Y=o.y.plus(k.times(l.y)),q=d.y.plus(w.times(f.y)),pe=A.plus(R).div(2),ge=Y.plus(q).div(2);return{x:pe,y:ge}},Cr=class N0{point;isLeft;segment;otherSE;consumedBy;static compare(l,d){let f=N0.comparePoints(l.point,d.point);return f!==0?f:(l.point!==d.point&&l.link(d),l.isLeft!==d.isLeft?l.isLeft?1:-1:ji.compare(l.segment,d.segment))}static comparePoints(l,d){return l.x.isLessThan(d.x)?-1:l.x.isGreaterThan(d.x)?1:l.y.isLessThan(d.y)?-1:l.y.isGreaterThan(d.y)?1:0}constructor(l,d){l.events===void 0?l.events=[this]:l.events.push(this),this.point=l,this.isLeft=d}link(l){if(l.point===this.point)throw new Error("Tried to link already linked events");let d=l.point.events;for(let f=0,_=d.length;f<_;f++){let b=d[f];this.point.events.push(b),b.point=this.point}this.checkForConsuming()}checkForConsuming(){let l=this.point.events.length;for(let d=0;d<l;d++){let f=this.point.events[d];if(f.segment.consumedBy===void 0)for(let _=d+1;_<l;_++){let b=this.point.events[_];b.consumedBy===void 0&&f.otherSE.point.events===b.otherSE.point.events&&f.segment.consume(b.segment)}}}getAvailableLinkedEvents(){let l=[];for(let d=0,f=this.point.events.length;d<f;d++){let _=this.point.events[d];_!==this&&!_.segment.ringOut&&_.segment.isInResult()&&l.push(_)}return l}getLeftmostComparator(l){let d=new Map,f=_=>{let b=_.otherSE;d.set(_,{sine:nd(this.point,l.point,b.point),cosine:Wl(this.point,l.point,b.point)})};return(_,b)=>{d.has(_)||f(_),d.has(b)||f(b);let{sine:w,cosine:k}=d.get(_),{sine:A,cosine:R}=d.get(b);return w.isGreaterThanOrEqualTo(0)&&A.isGreaterThanOrEqualTo(0)?k.isLessThan(R)?1:k.isGreaterThan(R)?-1:0:w.isLessThan(0)&&A.isLessThan(0)?k.isLessThan(R)?-1:k.isGreaterThan(R)?1:0:A.isLessThan(w)?-1:A.isGreaterThan(w)?1:0}}},id=0,ji=class bu{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(l,d){let f=l.leftSE.point.x,_=d.leftSE.point.x,b=l.rightSE.point.x,w=d.rightSE.point.x;if(w.isLessThan(f))return 1;if(b.isLessThan(_))return-1;let k=l.leftSE.point.y,A=d.leftSE.point.y,R=l.rightSE.point.y,Y=d.rightSE.point.y;if(f.isLessThan(_)){if(A.isLessThan(k)&&A.isLessThan(R))return 1;if(A.isGreaterThan(k)&&A.isGreaterThan(R))return-1;let q=l.comparePoint(d.leftSE.point);if(q<0)return 1;if(q>0)return-1;let pe=d.comparePoint(l.rightSE.point);return pe!==0?pe:-1}if(f.isGreaterThan(_)){if(k.isLessThan(A)&&k.isLessThan(Y))return-1;if(k.isGreaterThan(A)&&k.isGreaterThan(Y))return 1;let q=d.comparePoint(l.leftSE.point);if(q!==0)return q;let pe=l.comparePoint(d.rightSE.point);return pe<0?1:pe>0?-1:1}if(k.isLessThan(A))return-1;if(k.isGreaterThan(A))return 1;if(b.isLessThan(w)){let q=d.comparePoint(l.rightSE.point);if(q!==0)return q}if(b.isGreaterThan(w)){let q=l.comparePoint(d.rightSE.point);if(q<0)return 1;if(q>0)return-1}if(!b.eq(w)){let q=R.minus(k),pe=b.minus(f),ge=Y.minus(A),Ve=w.minus(_);if(q.isGreaterThan(pe)&&ge.isLessThan(Ve))return 1;if(q.isLessThan(pe)&&ge.isGreaterThan(Ve))return-1}return b.isGreaterThan(w)?1:b.isLessThan(w)||R.isLessThan(Y)?-1:R.isGreaterThan(Y)?1:l.id<d.id?-1:l.id>d.id?1:0}constructor(l,d,f,_){this.id=++id,this.leftSE=l,l.segment=this,l.otherSE=d,this.rightSE=d,d.segment=this,d.otherSE=l,this.rings=f,this.windings=_}static fromRing(l,d,f){let _,b,w,k=Cr.comparePoints(l,d);if(k<0)_=l,b=d,w=1;else if(k>0)_=d,b=l,w=-1;else throw new Error(`Tried to create degenerate segment at [${l.x}, ${l.y}]`);let A=new Cr(_,!0),R=new Cr(b,!1);return new bu(A,R,[f],[w])}replaceRightSE(l){this.rightSE=l,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let l=this.leftSE.point.y,d=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:l.isLessThan(d)?l:d},ur:{x:this.rightSE.point.x,y:l.isGreaterThan(d)?l:d}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(l){return l.x.eq(this.leftSE.point.x)&&l.y.eq(this.leftSE.point.y)||l.x.eq(this.rightSE.point.x)&&l.y.eq(this.rightSE.point.y)}comparePoint(l){return rn.orient(this.leftSE.point,l,this.rightSE.point)}getIntersection(l){let d=this.bbox(),f=l.bbox(),_=ha(d,f);if(_===null)return null;let b=this.leftSE.point,w=this.rightSE.point,k=l.leftSE.point,A=l.rightSE.point,R=Lr(d,k)&&this.comparePoint(k)===0,Y=Lr(f,b)&&l.comparePoint(b)===0,q=Lr(d,A)&&this.comparePoint(A)===0,pe=Lr(f,w)&&l.comparePoint(w)===0;if(Y&&R)return pe&&!q?w:!pe&&q?A:null;if(Y)return q&&b.x.eq(A.x)&&b.y.eq(A.y)?null:b;if(R)return pe&&w.x.eq(k.x)&&w.y.eq(k.y)?null:k;if(pe&&q)return null;if(pe)return w;if(q)return A;let ge=rd(b,this.vector(),k,l.vector());return ge===null||!Lr(_,ge)?null:rn.snap(ge)}split(l){let d=[],f=l.events!==void 0,_=new Cr(l,!0),b=new Cr(l,!1),w=this.rightSE;this.replaceRightSE(b),d.push(b),d.push(_);let k=new bu(_,w,this.rings.slice(),this.windings.slice());return Cr.comparePoints(k.leftSE.point,k.rightSE.point)>0&&k.swapEvents(),Cr.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),f&&(_.checkForConsuming(),b.checkForConsuming()),d}swapEvents(){let l=this.rightSE;this.rightSE=this.leftSE,this.leftSE=l,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let d=0,f=this.windings.length;d<f;d++)this.windings[d]*=-1}consume(l){let d=this,f=l;for(;d.consumedBy;)d=d.consumedBy;for(;f.consumedBy;)f=f.consumedBy;let _=bu.compare(d,f);if(_!==0){if(_>0){let b=d;d=f,f=b}if(d.prev===f){let b=d;d=f,f=b}for(let b=0,w=f.rings.length;b<w;b++){let k=f.rings[b],A=f.windings[b],R=d.rings.indexOf(k);R===-1?(d.rings.push(k),d.windings.push(A)):d.windings[R]+=A}f.rings=null,f.windings=null,f.consumedBy=d,f.leftSE.consumedBy=d.leftSE,f.rightSE.consumedBy=d.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let l=this.prev.consumedBy||this.prev;this._beforeState=l.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let l=this.beforeState();this._afterState={rings:l.rings.slice(0),windings:l.windings.slice(0),multiPolys:[]};let d=this._afterState.rings,f=this._afterState.windings,_=this._afterState.multiPolys;for(let k=0,A=this.rings.length;k<A;k++){let R=this.rings[k],Y=this.windings[k],q=d.indexOf(R);q===-1?(d.push(R),f.push(Y)):f[q]+=Y}let b=[],w=[];for(let k=0,A=d.length;k<A;k++){if(f[k]===0)continue;let R=d[k],Y=R.poly;if(w.indexOf(Y)===-1)if(R.isExterior)b.push(Y);else{w.indexOf(Y)===-1&&w.push(Y);let q=b.indexOf(R.poly);q!==-1&&b.splice(q,1)}}for(let k=0,A=b.length;k<A;k++){let R=b[k].multiPoly;_.indexOf(R)===-1&&_.push(R)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let l=this.beforeState().multiPolys,d=this.afterState().multiPolys;switch(Jl.type){case"union":{let f=l.length===0,_=d.length===0;this._isInResult=f!==_;break}case"intersection":{let f,_;l.length<d.length?(f=l.length,_=d.length):(f=d.length,_=l.length),this._isInResult=_===Jl.numMultiPolys&&f<_;break}case"xor":{let f=Math.abs(l.length-d.length);this._isInResult=f%2===1;break}case"difference":{let f=_=>_.length===1&&_[0].isSubject;this._isInResult=f(l)!==f(d);break}}return this._isInResult}},fa=class{poly;isExterior;segments;bbox;constructor(o,l,d){if(!Array.isArray(o)||o.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=l,this.isExterior=d,this.segments=[],typeof o[0][0]!="number"||typeof o[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let f=rn.snap({x:new D(o[0][0]),y:new D(o[0][1])});this.bbox={ll:{x:f.x,y:f.y},ur:{x:f.x,y:f.y}};let _=f;for(let b=1,w=o.length;b<w;b++){if(typeof o[b][0]!="number"||typeof o[b][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let k=rn.snap({x:new D(o[b][0]),y:new D(o[b][1])});k.x.eq(_.x)&&k.y.eq(_.y)||(this.segments.push(ji.fromRing(_,k,this)),k.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=k.x),k.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=k.y),k.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=k.x),k.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=k.y),_=k)}(!f.x.eq(_.x)||!f.y.eq(_.y))&&this.segments.push(ji.fromRing(_,f,this))}getSweepEvents(){let o=[];for(let l=0,d=this.segments.length;l<d;l++){let f=this.segments[l];o.push(f.leftSE),o.push(f.rightSE)}return o}},od=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(o,l){if(!Array.isArray(o))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new fa(o[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let d=1,f=o.length;d<f;d++){let _=new fa(o[d],this,!1);_.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=_.bbox.ll.x),_.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=_.bbox.ll.y),_.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=_.bbox.ur.x),_.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=_.bbox.ur.y),this.interiorRings.push(_)}this.multiPoly=l}getSweepEvents(){let o=this.exteriorRing.getSweepEvents();for(let l=0,d=this.interiorRings.length;l<d;l++){let f=this.interiorRings[l].getSweepEvents();for(let _=0,b=f.length;_<b;_++)o.push(f[_])}return o}},nf=class{isSubject;polys;bbox;constructor(o,l){if(!Array.isArray(o))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof o[0][0][0]=="number"&&(o=[o])}catch{}this.polys=[],this.bbox={ll:{x:new D(Number.POSITIVE_INFINITY),y:new D(Number.POSITIVE_INFINITY)},ur:{x:new D(Number.NEGATIVE_INFINITY),y:new D(Number.NEGATIVE_INFINITY)}};for(let d=0,f=o.length;d<f;d++){let _=new od(o[d],this);_.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=_.bbox.ll.x),_.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=_.bbox.ll.y),_.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=_.bbox.ur.x),_.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=_.bbox.ur.y),this.polys.push(_)}this.isSubject=l}getSweepEvents(){let o=[];for(let l=0,d=this.polys.length;l<d;l++){let f=this.polys[l].getSweepEvents();for(let _=0,b=f.length;_<b;_++)o.push(f[_])}return o}},z0=class yh{events;poly;_isExteriorRing;_enclosingRing;static factory(l){let d=[];for(let f=0,_=l.length;f<_;f++){let b=l[f];if(!b.isInResult()||b.ringOut)continue;let w=null,k=b.leftSE,A=b.rightSE,R=[k],Y=k.point,q=[];for(;w=k,k=A,R.push(k),k.point!==Y;)for(;;){let pe=k.getAvailableLinkedEvents();if(pe.length===0){let Je=R[0].point,it=R[R.length-1].point;throw new Error(`Unable to complete output ring starting at [${Je.x}, ${Je.y}]. Last matching segment found ends at [${it.x}, ${it.y}].`)}if(pe.length===1){A=pe[0].otherSE;break}let ge=null;for(let Je=0,it=q.length;Je<it;Je++)if(q[Je].point===k.point){ge=Je;break}if(ge!==null){let Je=q.splice(ge)[0],it=R.splice(Je.index);it.unshift(it[0].otherSE),d.push(new yh(it.reverse()));continue}q.push({index:R.length,point:k.point});let Ve=k.getLeftmostComparator(w);A=pe.sort(Ve)[0].otherSE;break}d.push(new yh(R))}return d}constructor(l){this.events=l;for(let d=0,f=l.length;d<f;d++)l[d].segment.ringOut=this;this.poly=null}getGeom(){let l=this.events[0].point,d=[l];for(let R=1,Y=this.events.length-1;R<Y;R++){let q=this.events[R].point,pe=this.events[R+1].point;rn.orient(q,l,pe)!==0&&(d.push(q),l=q)}if(d.length===1)return null;let f=d[0],_=d[1];rn.orient(f,l,_)===0&&d.shift(),d.push(d[0]);let b=this.isExteriorRing()?1:-1,w=this.isExteriorRing()?0:d.length-1,k=this.isExteriorRing()?d.length:-1,A=[];for(let R=w;R!=k;R+=b)A.push([d[R].x.toNumber(),d[R].y.toNumber()]);return A}isExteriorRing(){if(this._isExteriorRing===void 0){let l=this.enclosingRing();this._isExteriorRing=l?!l.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let l=this.events[0];for(let _=1,b=this.events.length;_<b;_++){let w=this.events[_];Cr.compare(l,w)>0&&(l=w)}let d=l.segment.prevInResult(),f=d?d.prevInResult():null;for(;;){if(!d)return null;if(!f)return d.ringOut;if(f.ringOut!==d.ringOut)return f.ringOut?.enclosingRing()!==d.ringOut?d.ringOut:d.ringOut?.enclosingRing();d=f.prevInResult(),f=d?d.prevInResult():null}}},rf=class{exteriorRing;interiorRings;constructor(o){this.exteriorRing=o,o.poly=this,this.interiorRings=[]}addInterior(o){this.interiorRings.push(o),o.poly=this}getGeom(){let o=this.exteriorRing.getGeom();if(o===null)return null;let l=[o];for(let d=0,f=this.interiorRings.length;d<f;d++){let _=this.interiorRings[d].getGeom();_!==null&&l.push(_)}return l}},H0=class{rings;polys;constructor(o){this.rings=o,this.polys=this._composePolys(o)}getGeom(){let o=[];for(let l=0,d=this.polys.length;l<d;l++){let f=this.polys[l].getGeom();f!==null&&o.push(f)}return o}_composePolys(o){let l=[];for(let d=0,f=o.length;d<f;d++){let _=o[d];if(!_.poly)if(_.isExteriorRing())l.push(new rf(_));else{let b=_.enclosingRing();b?.poly||l.push(new rf(b)),b?.poly?.addInterior(_)}}return l}},U0=class{queue;tree;segments;constructor(o,l=ji.compare){this.queue=o,this.tree=new Ie(l),this.segments=[]}process(o){let l=o.segment,d=[];if(o.consumedBy)return o.isLeft?this.queue.delete(o.otherSE):this.tree.delete(l),d;o.isLeft&&this.tree.add(l);let f=l,_=l;do f=this.tree.lastBefore(f);while(f!=null&&f.consumedBy!=null);do _=this.tree.firstAfter(_);while(_!=null&&_.consumedBy!=null);if(o.isLeft){let b=null;if(f){let k=f.getIntersection(l);if(k!==null&&(l.isAnEndpoint(k)||(b=k),!f.isAnEndpoint(k))){let A=this._splitSafely(f,k);for(let R=0,Y=A.length;R<Y;R++)d.push(A[R])}}let w=null;if(_){let k=_.getIntersection(l);if(k!==null&&(l.isAnEndpoint(k)||(w=k),!_.isAnEndpoint(k))){let A=this._splitSafely(_,k);for(let R=0,Y=A.length;R<Y;R++)d.push(A[R])}}if(b!==null||w!==null){let k=null;b===null?k=w:w===null?k=b:k=Cr.comparePoints(b,w)<=0?b:w,this.queue.delete(l.rightSE),d.push(l.rightSE);let A=l.split(k);for(let R=0,Y=A.length;R<Y;R++)d.push(A[R])}d.length>0?(this.tree.delete(l),d.push(o)):(this.segments.push(l),l.prev=f)}else{if(f&&_){let b=f.getIntersection(_);if(b!==null){if(!f.isAnEndpoint(b)){let w=this._splitSafely(f,b);for(let k=0,A=w.length;k<A;k++)d.push(w[k])}if(!_.isAnEndpoint(b)){let w=this._splitSafely(_,b);for(let k=0,A=w.length;k<A;k++)d.push(w[k])}}}this.tree.delete(l)}return d}_splitSafely(o,l){this.tree.delete(o);let d=o.rightSE;this.queue.delete(d);let f=o.split(l);return f.push(d),o.consumedBy===void 0&&this.tree.add(o),f}},G0=class{type;numMultiPolys;run(o,l,d){pa.type=o;let f=[new nf(l,!0)];for(let A=0,R=d.length;A<R;A++)f.push(new nf(d[A],!1));if(pa.numMultiPolys=f.length,pa.type==="difference"){let A=f[0],R=1;for(;R<f.length;)ha(f[R].bbox,A.bbox)!==null?R++:f.splice(R,1)}if(pa.type==="intersection")for(let A=0,R=f.length;A<R;A++){let Y=f[A];for(let q=A+1,pe=f.length;q<pe;q++)if(ha(Y.bbox,f[q].bbox)===null)return[]}let _=new Ie(Cr.compare);for(let A=0,R=f.length;A<R;A++){let Y=f[A].getSweepEvents();for(let q=0,pe=Y.length;q<pe;q++)_.add(Y[q])}let b=new U0(_),w=null;for(_.size!=0&&(w=_.first(),_.delete(w));w;){let A=b.process(w);for(let R=0,Y=A.length;R<Y;R++){let q=A[R];q.consumedBy===void 0&&_.add(q)}_.size!=0?(w=_.first(),_.delete(w)):w=null}rn.reset();let k=z0.factory(b.segments);return new H0(k).getGeom()}},pa=new G0,Jl=pa,q0=(o,...l)=>Jl.run("intersection",o,l),Z0=(o,...l)=>Jl.run("difference",o,l);rn.set;function Yl(o){let l={type:"Feature"};return l.geometry=o,l}function Xl(o){return o.type==="Feature"?o.geometry:o}function of(o){return o&&o.geometry&&o.geometry.coordinates?o.geometry.coordinates:o}function K0(o){return Yl({type:"LineString",coordinates:o})}function W0(o){return Yl({type:"MultiLineString",coordinates:o})}function sf(o){return Yl({type:"Polygon",coordinates:o})}function af(o){return Yl({type:"MultiPolygon",coordinates:o})}function J0(o,l){let d=Xl(o),f=Xl(l),_=q0(d.coordinates,f.coordinates);return _.length===0?null:_.length===1?sf(_[0]):af(_)}function Y0(o,l){let d=Xl(o),f=Xl(l),_=Z0(d.coordinates,f.coordinates);return _.length===0?null:_.length===1?sf(_[0]):af(_)}function lf(o){return Array.isArray(o)?1+lf(o[0]):-1}function X0(o){o instanceof L.Polyline&&(o=o.toGeoJSON(15));let l=of(o),d=lf(l),f=[];return d>1?l.forEach(_=>{f.push(K0(_))}):f.push(o),f}function Q0(o){let l=[];return o.eachLayer(d=>{l.push(of(d.toGeoJSON(15)))}),W0(l)}Ln.Cut=Ln.Polygon.extend({initialize(o){this._map=o,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let o=this._layer.getLatLngs();if(o.length<=2)return;let l=L.polygon(o,this.options.pathOptions);l._latlngInfos=this._layer._latlngInfo,this.cut(l),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:f,originalLayer:_})=>{this._fireCut(_,f,_),this._fireCut(this._map,f,_),_.pm._fireEdit()}),this._editedLayers=[];let d=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(d))},cut(o){let l=this._map._layers,d=o._latlngInfos||[];Object.keys(l).map(f=>l[f]).filter(f=>f.pm).filter(f=>!f._pmTempLayer).filter(f=>!L.PM.optIn&&!f.options.pmIgnore||L.PM.optIn&&f.options.pmIgnore===!1).filter(f=>f instanceof L.Polyline).filter(f=>f!==o).filter(f=>f.pm.options.allowCutting).filter(f=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(f)>-1:!0).filter(f=>!this._layerGroup.hasLayer(f)).filter(f=>{try{let _=!!xr(o.toGeoJSON(15),f.toGeoJSON(15)).features.length>0;return _||f instanceof L.Polyline&&!(f instanceof L.Polygon)?_:!!J0(o.toGeoJSON(15),f.toGeoJSON(15))}catch{return f instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(f=>{let _;if(f instanceof L.Polygon){_=L.polygon(f.getLatLngs());let A=_.getLatLngs();d.forEach(R=>{if(R&&R.snapInfo){let{latlng:Y}=R,q=this._calcClosestLayer(Y,[_]);if(q&&q.segment&&q.distance<this.options.snapDistance){let{segment:pe}=q;if(pe&&pe.length===2){let{indexPath:ge,parentPath:Ve,newIndex:Je}=L.PM.Utils._getIndexFromSegment(A,pe);(ge.length>1?(0,Dr.default)(A,Ve):A).splice(Je,0,Y)}}}})}else _=f;let b=this._cutLayer(o,_),w=L.geoJSON(b,f.options);w.getLayers().length===1&&([w]=w.getLayers()),this._setPane(w,"layerPane");let k=w.addTo(this._map.pm._getContainingLayer());if(k.pm.enable(f.pm.options),k.pm.disable(),f._pmTempLayer=!0,o._pmTempLayer=!0,f.remove(),f.removeFrom(this._map.pm._getContainingLayer()),o.remove(),o.removeFrom(this._map.pm._getContainingLayer()),k.getLayers&&k.getLayers().length===0&&this._map.pm.removeLayer({target:k}),k instanceof L.LayerGroup?(k.eachLayer(A=>{this._addDrawnLayerProp(A)}),this._addDrawnLayerProp(k)):this._addDrawnLayerProp(k),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let A=this.options.layersToCut.indexOf(f);A>-1&&this.options.layersToCut.splice(A,1)}this._editedLayers.push({layer:k,originalLayer:f})})},_cutLayer(o,l){let d=L.geoJSON(),f;if(l instanceof L.Polygon)f=Y0(l.toGeoJSON(15),o.toGeoJSON(15));else{let _=X0(l);_.forEach(b=>{let w=Kc(b,o.toGeoJSON(15)),k;w&&w.features.length>0?k=L.geoJSON(w):k=L.geoJSON(b),k.getLayers().forEach(A=>{Jc(o.toGeoJSON(15),A.toGeoJSON(15))||A.addTo(d)})}),_.length>1?f=Q0(d):f=d.toGeoJSON(15)}return f},_change:L.Util.falseFn}),Ln.Text=Ln.extend({initialize(o){this._map=o,this._shape="Text",this.toolbarButtonName="drawText"},enable(o){L.Util.setOptions(this,o),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Lt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let l=o;l.target=this._hintMarker,this._handleSnapping(l)}},_createMarker(o){if(!o.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let l=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let _=this.options.textOptions.className.split(" ");this.textArea.classList.add(..._)}let d=this._createTextIcon(this.textArea),f=new L.Marker(l,{textMarker:!0,_textMarkerOverPM:!0,icon:d});if(this._setPane(f,"markerPane"),this._finishLayer(f),f.pm||(f.options.draggable=!1),f.addTo(this._map.pm._getContainingLayer()),f.pm){f.pm.textArea=this.textArea,L.setOptions(f.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let _=this.options.textOptions?.focusAfterDraw??!0;f.pm._createTextMarker(_),this.options.textOptions?.text&&f.pm.setText(this.options.textOptions.text)}this._fireCreate(f),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(o){this.enable(),this._hintMarker.setLatLng(o.latlng)},_createTextArea(){let o=document.createElement("textarea");return o.readOnly=!0,o.classList.add("pm-textarea","pm-disabled"),o},_createTextIcon(o){return L.divIcon({className:"pm-text-marker",html:o})}});var ey={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,An(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let o=this._getDOMElem();o&&(An(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(o)):L.DomEvent.on(o,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,An(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let o=this._getDOMElem();o&&(An(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(o)):L.DomEvent.off(o,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(o){let l=o.touches?o.touches[0]:o,d={originalEvent:l,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(l),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseDown(d),!1},_simulateMouseMoveEvent(o){let l=o.touches?o.touches[0]:o,d={originalEvent:l,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(l),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseMove(d),!1},_simulateMouseUpEvent(o){let l={originalEvent:o.touches?o.touches[0]:o,target:this._layer};return o.type.indexOf("touch")===-1&&(l.containerPoint=this._map.mouseEventToContainerPoint(o),l.latlng=this._map.containerPointToLatLng(l.containerPoint)),this._dragMixinOnMouseUp(l),!1},_dragMixinOnMouseDown(o){if(o.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(o);let l=o._fromLayerSync,d=this._syncLayers("_dragMixinOnMouseDown",o);if(this._layer instanceof L.Marker&&(this.options.snappable&&!l&&!d?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let f="resizeableCircleMarker";this._layer instanceof L.Circle&&(f="resizeableCircle"),this.options.snappable&&!l&&!d?this._layer.pm.options[f]||this._initSnappableMarkersDrag():this._layer.pm.options[f]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=o.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(o){this._overwriteEventIfItComesFromMarker(o);let l=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",o),this._dragging||(this._dragging=!0,L.DomUtil.addClass(l,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=o.latlng),this._onLayerDrag(o),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(o){let l=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",o),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,l&&L.DomUtil.removeClass(l,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(o){let{latlng:l}=o,d={lat:l.lat-this._tempDragCoord.lat,lng:l.lng-this._tempDragCoord.lng},f=_=>_.map(b=>{if(Array.isArray(b))return f(b);let w={lat:b.lat+d.lat,lng:b.lng+d.lng};return(b.alt||b.alt===0)&&(w.alt=b.alt),w});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let _=f([this._layer.getLatLng()]);this._layer.setLatLng(_[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let _=this._layer.getLatLng();this._layer._snapped&&(_=this._layer._orgLatLng);let b=f([_]);this._layer.setLatLng(b[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let _=f([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(_),this._fireChange(this._layer.getBounds(),"Edit")}else{let _=f(this._layer.getLatLngs());this._layer.setLatLngs(_),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=l,o.layer=this._layer,this._fireDrag(o)},addDraggingClass(){let o=this._getDOMElem();o&&L.DomUtil.addClass(o,"leaflet-pm-draggable")},removeDraggingClass(){let o=this._getDOMElem();o&&L.DomUtil.removeClass(o,"leaflet-pm-draggable")},_getDOMElem(){let o=null;return this._layer._path?o=this._layer._path:this._layer._renderer&&this._layer._renderer._container?o=this._layer._renderer._container:this._layer._image?o=this._layer._image:this._layer._icon&&(o=this._layer._icon),o},_overwriteEventIfItComesFromMarker(o){o.target.getLatLng&&(!o.target._radius||o.target._radius<=10)&&(o.containerPoint=this._map.mouseEventToContainerPoint(o.originalEvent),o.latlng=this._map.containerPointToLatLng(o.containerPoint))},_syncLayers(o,l){if(this.enabled())return!1;if(!l._fromLayerSync&&this._layer===l.target&&this.options.syncLayersOnDrag){l._fromLayerSync=!0;let d=[];if(L.Util.isArray(this.options.syncLayersOnDrag))d=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(f=>{f instanceof L.LayerGroup&&(d=d.concat(f.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let f in this._parentLayerGroup){let _=this._parentLayerGroup[f];_.pm&&(d=_.pm.getLayers(!0))}return L.Util.isArray(d)&&d.length>0&&(d=d.filter(f=>!!f.pm).filter(f=>!!f.pm.options.draggable),d.forEach(f=>{f!==this._layer&&f.pm[o]&&(f._snapped=!1,f.pm[o](l))})),d.length>0}return!1},_stopDOMImageDrag(o){return o.preventDefault(),!1}},ty=ey,ny=m(Hr());function ry(o,l,d,f){return d.unproject(l.transform(d.project(o,f)),f)}function uf(o,l,d){let f=d.getMaxZoom();if(f===1/0&&(f=d.getZoom()),L.Util.isArray(o)){let _=[];return o.forEach(b=>{_.push(uf(b,l,d))}),_}return o instanceof L.LatLng?ry(o,l,d,f):null}function us(o,l){l instanceof L.Layer&&(l=l.getLatLng());let d=o.getMaxZoom();return d===1/0&&(d=o.getZoom()),o.project(l,d)}function Ql(o,l){let d=o.getMaxZoom();return d===1/0&&(d=o.getZoom()),o.unproject(l,d)}var iy={_onRotateStart(o){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=us(this._map,this._rotationOriginLatLng),this._rotationStartPoint=us(this._map,o.target.getLatLng()),this._initialRotateLatLng=vr(this._layer),this._startAngle=this.getAngle();let l=vr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,l),this._fireRotationStart(this._map,l)},_onRotate(o){let l=us(this._map,o.target.getLatLng()),d=this._rotationStartPoint,f=this._rotationOriginPoint,_=Math.atan2(l.y-f.y,l.x-f.x)-Math.atan2(d.y-f.y,d.x-f.x);this._layer.setLatLngs(this._rotateLayer(_,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let b=this;function w(Y,q=[],pe=-1){if(pe>-1&&q.push(pe),L.Util.isArray(Y[0]))Y.forEach((ge,Ve)=>w(ge,q.slice(),Ve));else{let ge=q.length>0?(0,ny.default)(b._markers,q):b._markers[0];Y.forEach((Ve,Je)=>{ge[Je].setLatLng(Ve)})}}w(this._layer.getLatLngs());let k=vr(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(_,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let A=_*180/Math.PI;A=A<0?A+360:A;let R=A+this._startAngle;this._setAngle(R),this._rotationLayer.pm._setAngle(R),this._fireRotation(this._rotationLayer,A,k),this._fireRotation(this._map,A,k),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let o=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let l=vr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=vr(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,o,l),this._fireRotationEnd(this._map,o,l),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(o,l,d,f,_){let b=us(_,d);return this._matrix=f.clone().rotate(o,b).flip(),uf(l,this._matrix,_)},_setAngle(o){o=o<0?o+360:o,this._angle=o%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let o=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),l=o.getCenter();return o.removeFrom(this._layer._map),l},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Ho(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let o={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),o),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=vr(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(o){let l=this.getAngle(),d=this._layer.getLatLngs(),f=o*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(f,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+o),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(f,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let _=this.getAngle()-l;_=_<0?_+360:_,this._startAngle=l,this._fireRotation(this._layer,_,d,this._layer),this._fireRotation(this._map||this._layer._map,_,d,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(o){let l=o-this.getAngle();this.rotateLayer(l)},getAngle(){return this._angle||0},setInitAngle(o){this._setAngle(o)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(o){this._rotationCenter=o,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(o)}},oy=iy,sy=L.Class.extend({includes:[ty,ra,oy,$o],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(o){L.Util.setOptions(this,o)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(o,l){l==="layerPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(o,l){let d=l.target,f={layer:this._layer,marker:d,event:l},_="";return o==="move"?_="moveVertexValidation":o==="add"?_="addVertexValidation":o==="remove"&&(_="removeVertexValidation"),this.options[_]&&typeof this.options[_]=="function"&&!this.options[_](f)?(o==="move"&&(d._cancelDragEventChain=d.getLatLng()),!1):(d._cancelDragEventChain=null,!0)},_vertexValidationDrag(o){return o._cancelDragEventChain?(o._latlng=o._cancelDragEventChain,o.update(),!1):!0},_vertexValidationDragEnd(o){return o._cancelDragEventChain?(o._cancelDragEventChain=null,!1):!0}}),Pn=sy;Pn.LayerGroup=L.Class.extend({initialize(o){this._layerGroup=o,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(f=>this._initLayer(f));let l=f=>{if(f.layer._pmTempLayer)return;this._layers=this.getLayers();let _=this._layers.filter(b=>!b.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in b.pm._parentLayerGroup));_.forEach(b=>{this._initLayer(b)}),_.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(l,100,this),this),this._layerGroup.on("layerremove",f=>{this._removeLayerFromGroup(f.target)},this);let d=f=>{f.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(d,100,this),this)},enable(o,l=[]){l.length===0&&(this._layers=this.getLayers()),this._options=o,this._layers.forEach(d=>{d instanceof L.LayerGroup?l.indexOf(d._leaflet_id)===-1&&(l.push(d._leaflet_id),d.pm.enable(o,l)):d.pm.enable(o)})},disable(o=[]){o.length===0&&(this._layers=this.getLayers()),this._layers.forEach(l=>{l instanceof L.LayerGroup?o.indexOf(l._leaflet_id)===-1&&(o.push(l._leaflet_id),l.pm.disable(o)):l.pm.disable()})},enabled(o=[]){return o.length===0&&(this._layers=this.getLayers()),!!this._layers.find(l=>l instanceof L.LayerGroup?o.indexOf(l._leaflet_id)===-1?(o.push(l._leaflet_id),l.pm.enabled(o)):!1:l.pm.enabled())},toggleEdit(o,l=[]){l.length===0&&(this._layers=this.getLayers()),this._options=o,this._layers.forEach(d=>{d instanceof L.LayerGroup?l.indexOf(d._leaflet_id)===-1&&(l.push(d._leaflet_id),d.pm.toggleEdit(o,l)):d.pm.toggleEdit(o)})},_initLayer(o){let l=L.Util.stamp(this._layerGroup);o.pm._parentLayerGroup||(o.pm._parentLayerGroup={}),o.pm._parentLayerGroup[l]=this._layerGroup},_removeLayerFromGroup(o){if(o.pm&&o.pm._layerGroup){let l=L.Util.stamp(this._layerGroup);delete o.pm._layerGroup[l]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(o=>o.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(o=>!!o._map)?._map||null},getLayers(o=!1,l=!0,d=!0,f=[]){let _=[];return o?this._layerGroup.getLayers().forEach(b=>{_.push(b),b instanceof L.LayerGroup&&f.indexOf(b._leaflet_id)===-1&&(f.push(b._leaflet_id),_=_.concat(b.pm.getLayers(!0,!0,!0,f)))}):_=this._layerGroup.getLayers(),d&&(_=_.filter(b=>!(b instanceof L.LayerGroup))),l&&(_=_.filter(b=>!!b.pm),_=_.filter(b=>!b._pmTempLayer),_=_.filter(b=>!L.PM.optIn&&!b.options.pmIgnore||L.PM.optIn&&b.options.pmIgnore===!1)),_},setOptions(o,l=[]){l.length===0&&(this._layers=this.getLayers()),this.options=o,this._layers.forEach(d=>{d.pm&&(d instanceof L.LayerGroup?l.indexOf(d._leaflet_id)===-1&&(l.push(d._leaflet_id),d.pm.setOptions(o,l)):d.pm.setOptions(o))})}}),Pn.Marker=Pn.extend({_shape:"Marker",initialize(o){this._layer=o,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(o={draggable:!0}){if(L.Util.setOptions(this,o),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(o){let l=o.target;l.remove(),this._fireRemove(l),this._fireRemove(this._map,l)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let o=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,o.off("pm:drag",this._handleSnapping,this),o.on("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.on("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this),o.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let o=this._layer;o.off("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this)}});var Fi=m(Hr()),ay={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let o=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=o.filter((l,d,f)=>f.indexOf(l)===d)},_removeFromCache(o){let l=this.markerCache.indexOf(o);l>-1&&this.markerCache.splice(l,1)},renderLimits(o){this.markerCache.forEach(l=>{o.includes(l)?this._markerGroup.addLayer(l):this._markerGroup.removeLayer(l)})},applyLimitFilters({latlng:o={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let l=[...this._filterClosestMarkers(o)];this.renderLimits(l)},_filterClosestMarkers(o){let l=[...this.markerCache],d=this.options.limitMarkersToCount;return d===-1?l:(l.sort((f,_)=>{let b=f._latlng.distanceTo(o),w=_._latlng.distanceTo(o);return b-w}),l.filter((f,_)=>d>-1?_<d:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(o){this._preventRenderMarkers=!!o}},ly=ay;Pn.Line=Pn.extend({includes:[ly],_shape:"Line",initialize(o){this._layer=o,this._enabled=!1},enable(o){if(L.Util.setOptions(this,o),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let o=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(o,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(o){return this.enabled()?this.disable():this.enable(o),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let o=this._map,l=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(o),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let d=f=>{if(Array.isArray(f[0]))return f.map(d,this);let _=f.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&f.map((b,w)=>{let k=this.isPolygon()?(w+1)%f.length:w+1;return this._createMiddleMarker(_[w],_[k])}),_};this._markers=d(l),this.filterMarkerGroup(),o.addLayer(this._markerGroup)},_createMarker(o){let l=new L.Marker(o,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this.options.rotate?(l.on("dragstart",this._onRotateStart,this),l.on("drag",this._onRotate,this),l.on("dragend",this._onRotateEnd,this)):(l.on("click",this._onVertexClick,this),l.on("dragstart",this._onMarkerDragStart,this),l.on("move",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||l.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(l),l},_createMiddleMarker(o,l){if(!o||!l)return!1;let d=L.PM.Utils.calcMiddleLatLng(this._map,o.getLatLng(),l.getLatLng()),f=this._createMarker(d),_=L.divIcon({className:"marker-icon marker-icon-middle"});return f.setIcon(_),f.leftM=o,f.rightM=l,o._middleMarkerNext=f,l._middleMarkerPrev=f,f.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),f.on("movestart",this._onMiddleMarkerMoveStart,this),f},_onMiddleMarkerClick(o){let l=o.target;if(!this._vertexValidation("add",o))return;let d=L.divIcon({className:"marker-icon"});l.setIcon(d),this._addMarker(l,l.leftM,l.rightM)},_onMiddleMarkerMoveStart(o){let l=o.target;if(l.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",o)){l.on("move",this._onMiddleMarkerMovePrevent,this);return}l._dragging=!0,this._addMarker(l,l.leftM,l.rightM)},_onMiddleMarkerMovePrevent(o){let l=o.target;this._vertexValidationDrag(l)},_onMiddleMarkerMoveEnd(o){let l=o.target;if(l.off("move",this._onMiddleMarkerMovePrevent,this),l.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(l))return;let d=L.divIcon({className:"marker-icon"});l.setIcon(d),setTimeout(()=>{delete l._dragging},100)},_addMarker(o,l,d){o.off("movestart",this._onMiddleMarkerMoveStart,this),o.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let f=o.getLatLng(),_=this._layer._latlngs;delete o.leftM,delete o.rightM;let{indexPath:b,index:w,parentPath:k}=L.PM.Utils.findDeepMarkerIndex(this._markers,l),A=b.length>1?(0,Fi.default)(_,k):_,R=b.length>1?(0,Fi.default)(this._markers,k):this._markers;A.splice(w+1,0,f),R.splice(w+1,0,o),this._layer.setLatLngs(_),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(l,o),this._createMiddleMarker(o,d)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(o,L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath,f),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Go(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(o){let l=this._layer,d,f;if(this.options.allowSelfIntersection?d=!1:(f=Go(this._layer.toGeoJSON(15)),d=f.features.length>0),d){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return d;o?this._flashLayer():(l.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(f)}else l.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return d},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(o,l){o.forEach(d=>{Array.isArray(d)?this._updateDisabledMarkerStyle(d,l):d._icon&&(l&&!this._checkMarkerAllowedToDrag(d)?L.DomUtil.addClass(d._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(d._icon,"vertexmarker-disabled"))})},_removeMarker(o){let l=o.target;if(!this._vertexValidation("remove",o))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=vr(this._layer,this._layer.getLatLngs()));let d=this._layer.getLatLngs(),{indexPath:f,index:_,parentPath:b}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);if(!f)return;let w=f.length>1?(0,Fi.default)(d,b):d,k=f.length>1?(0,Fi.default)(this._markers,b):this._markers,A=b[b.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!A&&(w.length<=2||this.isPolygon()&&w.length<=3)){this._flashLayer();return}w.splice(_,1),this._layer.setLatLngs(d),this.isPolygon()&&w.length<=2&&w.splice(0,w.length);let R=!1;if(w.length<=1&&(w.splice(0,w.length),b.length>1&&f.length>1&&(d=no(d)),this._layer.setLatLngs(d),this._initMarkers(),R=!0),li(d)||this._layer.remove(),d=no(d),this._layer.setLatLngs(d),this._markers=no(this._markers),!R&&(k=f.length>1?(0,Fi.default)(this._markers,b):this._markers,l._middleMarkerPrev&&(this._markerGroup.removeLayer(l._middleMarkerPrev),this._removeFromCache(l._middleMarkerPrev)),l._middleMarkerNext&&(this._markerGroup.removeLayer(l._middleMarkerNext),this._removeFromCache(l._middleMarkerNext)),this._markerGroup.removeLayer(l),this._removeFromCache(l),k)){let Y,q;if(this.isPolygon()?(Y=(_+1)%k.length,q=(_+(k.length-1))%k.length):(q=_-1<0?void 0:_-1,Y=_+1>=k.length?void 0:_+1),Y!==q){let pe=k[q],ge=k[Y];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(pe,ge)}k.splice(_,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(l,f),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(o){let l=this._layer.getLatLngs(),d=o.getLatLng(),{indexPath:f,index:_,parentPath:b}=L.PM.Utils.findDeepMarkerIndex(this._markers,o);(f.length>1?(0,Fi.default)(l,b):l).splice(_,1,d),this._layer.setLatLngs(l)},_getNeighborMarkers(o){let{indexPath:l,index:d,parentPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,o),_=l.length>1?(0,Fi.default)(this._markers,f):this._markers,b=(d+1)%_.length,w=(d+(_.length-1))%_.length,k=_[w],A=_[b];return{prevMarker:k,nextMarker:A}},_checkMarkerAllowedToDrag(o){let{prevMarker:l,nextMarker:d}=this._getNeighborMarkers(o),f=L.polyline([l.getLatLng(),o.getLatLng()]),_=L.polyline([o.getLatLng(),d.getLatLng()]),b=xr(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length,w=xr(this._layer.toGeoJSON(15),_.toGeoJSON(15)).features.length;return o.getLatLng()===this._markers[0][0].getLatLng()?w+=1:o.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(b+=1),!(b<=2&&w<=2)},_onMarkerDragStart(o){let l=o.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",o))return;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDragStart(o,d),this.options.allowSelfIntersection||(this._coordsBeforeEdit=vr(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(l):this._markerAllowedToDrag=null},_onMarkerDrag(o){let l=o.target;if(!this._vertexValidationDrag(l))return;let{indexPath:d,index:f,parentPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);if(!d)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(l);let b=d.length>1?(0,Fi.default)(this._markers,_):this._markers,w=(f+1)%b.length,k=(f+(b.length-1))%b.length,A=l.getLatLng(),R=b[k].getLatLng(),Y=b[w].getLatLng();if(l._middleMarkerNext){let q=L.PM.Utils.calcMiddleLatLng(this._map,A,Y);l._middleMarkerNext.setLatLng(q)}if(l._middleMarkerPrev){let q=L.PM.Utils.calcMiddleLatLng(this._map,A,R);l._middleMarkerPrev.setLatLng(q)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(o,d),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(o){let l=o.target;if(!this._vertexValidationDragEnd(l))return;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,l),f=!this.options.allowSelfIntersection&&this.hasSelfIntersection();f&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(f=!1);let _=!this.options.allowSelfIntersection&&f;if(this._fireMarkerDragEnd(o,d,_),_){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(o,d);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(o){let l=o.target;if(l._dragging)return;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireVertexClick(o,d)}}),Pn.Polygon=Pn.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(o){let{prevMarker:l,nextMarker:d}=this._getNeighborMarkers(o),f=L.polyline([l.getLatLng(),o.getLatLng()]),_=L.polyline([o.getLatLng(),d.getLatLng()]),b=xr(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length,w=xr(this._layer.toGeoJSON(15),_.toGeoJSON(15)).features.length;return!(b<=2&&w<=2)}}),Pn.Rectangle=Pn.Polygon.extend({_shape:"Rectangle",_initMarkers(){let o=this._map,l=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,o.addLayer(this._markerGroup),this._markers=[],this._markers[0]=l.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((d,f)=>{let _=this._cornerMarkers.find(b=>b._index===f);_&&_.setLatLng(d)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(o,l){let d=new L.Marker(o,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=o,d._index=l,d._pmTempLayer=!0,d.on("click",this._onVertexClick,this),this._markerGroup.addLayer(d),d},_addMarkerEvents(){this._markers[0].forEach(o=>{o.on("dragstart",this._onMarkerDragStart,this),o.on("drag",this._onMarkerDrag,this),o.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||o.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(o){if(!this._vertexValidation("move",o))return;let l=o.target,d=this._cornerMarkers;l._oppositeCornerLatLng=d.find(_=>_._index===(l._index+2)%4).getLatLng(),l._snapped=!1;let{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDragStart(o,f)},_onMarkerDrag(o){let l=o.target;if(!this._vertexValidationDrag(l)||l._index===void 0)return;this._adjustRectangleForMarkerMove(l);let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDrag(o,d),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(o){let l=o.target;if(!this._vertexValidationDragEnd(l))return;this._cornerMarkers.forEach(f=>{delete f._oppositeCornerLatLng});let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);this._fireMarkerDragEnd(o,d),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(o){L.extend(o._origLatLng,o._latlng);let l=L.PM.Utils._getRotatedRectangle(o.getLatLng(),o._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(l),this._adjustAllMarkers(o),this._layer.redraw()},_adjustAllMarkers(o){let l=this._layer.getLatLngs()[0];if(l&&l.length!==4&&l.length>0)l.forEach((d,f)=>{this._cornerMarkers[f].setLatLng(d)}),this._cornerMarkers.slice(l.length).forEach(d=>{d.setLatLng(l[0])});else if(!l||!l.length)console.error("The layer has no LatLngs");else{let d=l.findIndex(f=>o.getLatLng().equals(f));d>-1?(this._cornerMarkers[(o._index+1)%4].setLatLng(l[(d+1)%4]),this._cornerMarkers[(o._index+2)%4].setLatLng(l[(d+2)%4]),this._cornerMarkers[(o._index+3)%4].setLatLng(l[(d+3)%4])):this._cornerMarkers.forEach(f=>{f.setLatLng(l[f._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Ho(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let o=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(o[0],o[2],this.getAngle(),this._map||this)}}),Pn.CircleMarker=Pn.extend({_shape:"CircleMarker",initialize(o){this._layer=o,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(o={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,o),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let o=this._map;this._helperLayers&&(this._helperLayers.removeFrom(o),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(o);let l=this._layer.getLatLng(),d=this._layer._radius,f=this._getLatLngOnCircle(l,d);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(f),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(o,l){let d=this._map.project(o),f=L.point(d.x+l,d.y);return this._map.unproject(f)},_createHintLine(o,l){let d=o.getLatLng(),f=l.getLatLng();this._hintline=L.polyline([d,f],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(o){let l=this._createMarker(o);return this.options.draggable?(L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"),l.on("move",this._moveCircle,this)):l.dragging.disable(),l},_createOuterMarker(o){let l=this._createMarker(o);return l.on("drag",this._resizeCircle,this),l},_createMarker(o){let l=new L.Marker(o,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=o,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),l.on("click",this._onVertexClick,this),this._helperLayers.addLayer(l),l},_moveCircle(o){if(o.target._cancelDragEventChain)return;let l=this._centerMarker.getLatLng();this._layer.setLatLng(l);let d=this._layer._radius,f=this._getLatLngOnCircle(l,d);this._outerMarker._latlng=f,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let o=this._layer.getLatLng(),l=this._layer._radius,d=this._getLatLngOnCircle(o,l);this._outerMarker.setLatLng(d),this._centerMarker.setLatLng(o),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let o=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._distanceCalculation(o,l);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(d),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let o=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([o,l])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(o){this._vertexValidation("move",o)&&this._fireMarkerDragStart(o)},_onMarkerDrag(o){let l=o.target;l instanceof L.Marker&&!this._vertexValidationDrag(l)||this._fireMarkerDrag(o)},_onMarkerDragEnd(o){this._extedingMarkerDragEnd();let l=o.target;this._vertexValidationDragEnd(l)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(o))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let o=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,o.off("pm:drag",this._handleSnapping,this),o.on("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.on("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this),o.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let o=this._layer;o.off("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let o=this._layer._map||this._map;if(o){let l=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),o,this._layer.getLatLng()),d=L.circle(this._layer.getLatLng(),this._layer.options);d.setRadius(l);let f=o&&o.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(d,200,!f).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(d,200,!f),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let o=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._distanceCalculation(o,l);return this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?l=Uo(this._map,o,l,this._getMinDistanceInMeter(o)):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&(l=Uo(this._map,o,l,this._getMaxDistanceInMeter(o))),l},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let o=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._distanceCalculation(o,l);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(o,l){return this._map.project(o).distanceTo(this._map.project(l))},_getMinDistanceInMeter(o){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,o)},_getMaxDistanceInMeter(o){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,o)},_onVertexClick(o){o.target._dragging||this._fireVertexClick(o,void 0)}}),Pn.Circle=Pn.CircleMarker.extend({_shape:"Circle",initialize(o){this._layer=o,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(o){L.PM.Edit.CircleMarker.prototype.enable.call(this,o||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let o=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(o,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let o=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!o).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!o),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(o,l){return this._map.distance(o,l)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(o){o.target._dragging||this._fireVertexClick(o,void 0)}}),Pn.ImageOverlay=Pn.extend({_shape:"ImageOverlay",initialize(o){this._layer=o,this._enabled=!1},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},enabled(){return this._enabled},enable(o={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,o),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let o=this._layer.getBounds(),l=o.getNorthWest(),d=o.getNorthEast(),f=o.getSouthEast(),_=o.getSouthWest();return[l,d,f,_]}}),Pn.Text=Pn.extend({_shape:"Text",initialize(o){this._layer=o,this._enabled=!1},enable(o){if(L.Util.setOptions(this,o),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let o=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),o.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let o=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,o.off("pm:drag",this._handleSnapping,this),o.on("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.on("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this),o.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let o=this._layer;o.off("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let o=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,l=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${o}px`,this.textArea.style.width=`${l}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(o){o.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(o={}){let l=this._hasFocus;this._hasFocus=o.type==="focus",!l!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(o){o&&(this.textArea.value=o),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let l=this.options.className.split(" ");this.textArea.classList.add(...l)}let o=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(o),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(o=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),o===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(o){o.preventDefault()}});var sd=function(o,l,d,f,_,b){this._matrix=[o,l,d,f,_,b]};sd.init=()=>new L.PM.Matrix(1,0,0,1,0,0),sd.prototype={transform(o){return this._transform(o.clone())},_transform(o){let l=this._matrix,{x:d,y:f}=o;return o.x=l[0]*d+l[1]*f+l[4],o.y=l[2]*d+l[3]*f+l[5],o},untransform(o){let l=this._matrix;return new L.Point((o.x/l[0]-l[4])/l[0],(o.y/l[2]-l[5])/l[2])},clone(){let o=this._matrix;return new L.PM.Matrix(o[0],o[1],o[2],o[3],o[4],o[5])},translate(o){if(o===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let l,d;return typeof o=="number"?(l=o,d=o):(l=o.x,d=o.y),this._add(1,0,0,1,l,d)},scale(o,l){if(o===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let d,f;return l=l||L.point(0,0),typeof o=="number"?(d=o,f=o):(d=o.x,f=o.y),this._add(d,0,0,f,l.x,l.y)._add(1,0,0,1,-l.x,-l.y)},rotate(o,l){let d=Math.cos(o),f=Math.sin(o);return l=l||new L.Point(0,0),this._add(d,f,-f,d,l.x,l.y)._add(1,0,0,1,-l.x,-l.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(o,l,d,f,_,b){let w=[[],[],[]],k=this._matrix,A=[[k[0],k[2],k[4]],[k[1],k[3],k[5]],[0,0,1]],R=[[o,d,_],[l,f,b],[0,0,1]],Y;o&&o instanceof L.PM.Matrix&&(k=o._matrix,R=[[k[0],k[2],k[4]],[k[1],k[3],k[5]],[0,0,1]]);for(let q=0;q<3;q+=1)for(let pe=0;pe<3;pe+=1){Y=0;for(let ge=0;ge<3;ge+=1)Y+=A[q][ge]*R[ge][pe];w[q][pe]=Y}return this._matrix=[w[0][0],w[1][0],w[0][1],w[1][1],w[0][2],w[1][2]],this}};var uy=sd,cy={calcMiddleLatLng(o,l,d){let f=o.project(l),_=o.project(d);return o.unproject(f._add(_)._divideBy(2))},findLayers(o){let l=[];return o.eachLayer(d=>{(d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.Circle||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&l.push(d)}),l=l.filter(d=>!!d.pm),l=l.filter(d=>!d._pmTempLayer),l=l.filter(d=>!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1),l},circleToPolygon(o,l=60,d=!0){let f=o.getLatLng(),_=o.getRadius(),b=zo(f,_,l,0,d),w=[];for(let k=0;k<b.length;k+=1){let A=[b[k].lat,b[k].lng];w.push(A)}return L.polygon(w,o.options)},disablePopup(o){o.getPopup()&&(o._tempPopupCopy=o.getPopup(),o.unbindPopup())},enablePopup(o){o._tempPopupCopy&&(o.bindPopup(o._tempPopupCopy),delete o._tempPopupCopy)},_fireEvent(o,l,d,f=!1){o.fire(l,d,f);let{groups:_}=this.getAllParentGroups(o);_.forEach(b=>{b.fire(l,d,f)})},getAllParentGroups(o){let l=[],d=[],f=_=>{for(let b in _._eventParents)if(l.indexOf(b)===-1){l.push(b);let w=_._eventParents[b];d.push(w),f(w)}};return!o._pmLastGroupFetch||!o._pmLastGroupFetch.time||new Date().getTime()-o._pmLastGroupFetch.time>1e3?(f(o),o._pmLastGroupFetch={time:new Date().getTime(),groups:d,groupIds:l},{groupIds:l,groups:d}):{groups:o._pmLastGroupFetch.groups,groupIds:o._pmLastGroupFetch.groupIds}},createGeodesicPolygon:zo,getTranslation:Lt,findDeepCoordIndex(o,l,d=!0){let f,_=w=>(k,A)=>{let R=w.concat(A);if(d){if(k.lat&&k.lat===l.lat&&k.lng===l.lng)return f=R,!0}else if(k.lat&&L.latLng(k).equals(l))return f=R,!0;return Array.isArray(k)&&k.some(_(R))};o.some(_([]));let b={};return f&&(b={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),b},findDeepMarkerIndex(o,l){let d,f=b=>(w,k)=>{let A=b.concat(k);return w._leaflet_id===l._leaflet_id?(d=A,!0):Array.isArray(w)&&w.some(f(A))};o.some(f([]));let _={};return d&&(_={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),_},_getIndexFromSegment(o,l){if(l&&l.length===2){let d=this.findDeepCoordIndex(o,l[0]),f=this.findDeepCoordIndex(o,l[1]),_=Math.max(d.index,f.index);return(d.index===0||f.index===0)&&_!==1&&(_+=1),{indexA:d,indexB:f,newIndex:_,indexPath:d.indexPath,parentPath:d.parentPath}}return null},_getRotatedRectangle(o,l,d,f){let _=us(f,o),b=us(f,l),w=d*Math.PI/180,k=Math.cos(w),A=Math.sin(w),R=(b.x-_.x)*k+(b.y-_.y)*A,Y=(b.y-_.y)*k-(b.x-_.x)*A,q=R*k+_.x,pe=R*A+_.y,ge=-Y*A+_.x,Ve=Y*k+_.y,Je=Ql(f,_),it=Ql(f,{x:q,y:pe}),It=Ql(f,b),J=Ql(f,{x:ge,y:Ve});return[Je,it,It,J]},pxRadiusToMeterRadius(o,l,d){let f=l.project(d),_=L.point(f.x+o,f.y);return l.distance(l.unproject(_),d)}},dy=cy;L.PM=L.PM||{version:Us.version,Map:Il,Toolbar:na,Draw:Ln,Edit:Pn,Utils:dy,Matrix:uy,activeLang:"en",optIn:!1,initialize(o){this.addInitHooks(o)},setOptIn(o){this.optIn=!!o},addInitHooks(){function o(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(o);function l(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(l);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(d);function f(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(f);function _(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(_);function b(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(b);function w(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(w);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(k);function A(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(A)},reInitLayer(o){o instanceof L.LayerGroup&&o.eachLayer(l=>{this.reInitLayer(l)}),o.pm||L.PM.optIn&&o.options.pmIgnore!==!1||o.options.pmIgnore||(o instanceof L.Map?o.pm=new L.PM.Map(o):o instanceof L.Marker?o.options.textMarker?(o.pm=new L.PM.Edit.Text(o),o.pm._initTextMarker(),o.pm._createTextMarker(!1)):o.pm=new L.PM.Edit.Marker(o):o instanceof L.Circle?o.pm=new L.PM.Edit.Circle(o):o instanceof L.CircleMarker?o.pm=new L.PM.Edit.CircleMarker(o):o instanceof L.Rectangle?o.pm=new L.PM.Edit.Rectangle(o):o instanceof L.Polygon?o.pm=new L.PM.Edit.Polygon(o):o instanceof L.Polyline?o.pm=new L.PM.Edit.Line(o):o instanceof L.LayerGroup?o.pm=new L.PM.Edit.LayerGroup(o):o instanceof L.ImageOverlay&&(o.pm=new L.PM.Edit.ImageOverlay(o)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(o){let l=this._map.mouseEventToLayerPoint(o),d,f;for(let _=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(d))&&(f=d);f&&(L.DomEvent.fakeStop(o),this._fireEvent([f],o))}}),L.PM.initialize()})()),wm}y2();var Ta={exports:{}},v2=Ta.exports,Cm;function b2(){return Cm||(Cm=1,function(e,t){(function(n,i){i(t)})(v2,function(n){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=s,h=this._zoom;if(s.__parent)for(;u.__parent._zoom>=h;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,u):this._animationAddLayerNonAnimated(s,u)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):(s.getLatLng?this._map?s.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow())):(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s})),this)},addLayers:function(s,u){if(!L.Util.isArray(s))return this.addLayer(s);var h,m=this._featureGroup,g=this._nonPointGroup,y=this.options.chunkedLoading,x=this.options.chunkInterval,T=this.options.chunkProgress,E=s.length,S=0,P=!0;if(this._map){var U=new Date().getTime(),X=L.bind(function(){var $=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();S<E;S++){if(y&&S%200==0){var W=new Date().getTime()-$;if(x<W)break}if((h=s[S])instanceof L.LayerGroup)P&&(s=s.slice(),P=!1),this._extractNonGroupLayers(h,s),E=s.length;else if(h.getLatLng){if(!this.hasLayer(h)&&(this._addLayer(h,this._maxZoom),u||this.fire("layeradd",{layer:h}),h.__parent&&h.__parent.getChildCount()===2)){var oe=h.__parent.getAllChildMarkers(),Ce=oe[0]===h?oe[1]:oe[0];m.removeLayer(Ce)}}else g.addLayer(h),u||this.fire("layeradd",{layer:h})}T&&T(S,E,new Date().getTime()-U),S===E?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(X,this.options.chunkDelay)},this);X()}else for(var Q=this._needsClustering;S<E;S++)(h=s[S])instanceof L.LayerGroup?(P&&(s=s.slice(),P=!1),this._extractNonGroupLayers(h,s),E=s.length):h.getLatLng?this.hasLayer(h)||Q.push(h):g.addLayer(h);return this},removeLayers:function(s){var u,h,m=s.length,g=this._featureGroup,y=this._nonPointGroup,x=!0;if(!this._map){for(u=0;u<m;u++)(h=s[u])instanceof L.LayerGroup?(x&&(s=s.slice(),x=!1),this._extractNonGroupLayers(h,s),m=s.length):(this._arraySplice(this._needsClustering,h),y.removeLayer(h),this.hasLayer(h)&&this._needsRemoving.push({layer:h,latlng:h._latlng}),this.fire("layerremove",{layer:h}));return this}if(this._unspiderfy){this._unspiderfy();var T=s.slice(),E=m;for(u=0;u<E;u++)(h=T[u])instanceof L.LayerGroup?(this._extractNonGroupLayers(h,T),E=T.length):this._unspiderfyLayer(h)}for(u=0;u<m;u++)(h=s[u])instanceof L.LayerGroup?(x&&(s=s.slice(),x=!1),this._extractNonGroupLayers(h,s),m=s.length):h.__parent?(this._removeLayer(h,!0,!0),this.fire("layerremove",{layer:h}),g.hasLayer(h)&&(g.removeLayer(h),h.clusterShow&&h.clusterShow())):(y.removeLayer(h),this.fire("layerremove",{layer:h}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;0<=u;u--)s.extend(this._needsClustering[u].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,u){var h,m,g,y=this._needsClustering.slice(),x=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(y),m=y.length-1;0<=m;m--){for(h=!0,g=x.length-1;0<=g;g--)if(x[g].layer===y[m]){h=!1;break}h&&s.call(u,y[m])}this._nonPointGroup.eachLayer(s,u)},getLayers:function(){var s=[];return this.eachLayer(function(u){s.push(u)}),s},getLayer:function(s){var u=null;return s=parseInt(s,10),this.eachLayer(function(h){L.stamp(h)===s&&(u=h)}),u},hasLayer:function(s){if(!s)return!1;var u,h=this._needsClustering;for(u=h.length-1;0<=u;u--)if(h[u]===s)return!0;for(u=(h=this._needsRemoving).length-1;0<=u;u--)if(h[u].layer===s)return!1;return!(!s.__parent||s.__parent._group!==this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,u){var h=this._map;typeof u!="function"&&(u=function(){});var m=function(){!h.hasLayer(s)&&!h.hasLayer(s.__parent)||this._inZoomAnimation||(this._map.off("moveend",m,this),this.off("animationend",m,this),h.hasLayer(s)?u():s.__parent._icon&&(this.once("spiderfied",u,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?u():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",m,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",m,this),this.on("animationend",m,this),s.__parent.zoomToBounds())},onAdd:function(s){var u,h,m;if(this._map=s,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,u=0,h=this._needsRemoving.length;u<h;u++)(m=this._needsRemoving[u]).newlatlng=m.layer._latlng,m.layer._latlng=m.latlng;for(u=0,h=this._needsRemoving.length;u<h;u++)m=this._needsRemoving[u],this._removeLayer(m.layer,!0),m.layer._latlng=m.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),h=this._needsClustering,this._needsClustering=[],this.addLayers(h,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var u=s;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(s,u){for(var h=s.length-1;0<=h;h--)if(s[h]===u)return s.splice(h,1),!0},_removeFromGridUnclustered:function(s,u){for(var h=this._map,m=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());g<=u&&m[u].removeObject(s,h.project(s.getLatLng(),u));u--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var u=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),u&&s.target.openPopup()}},_moveChild:function(s,u,h){s._latlng=u,this.removeLayer(s),s._latlng=h,this.addLayer(s)},_childMarkerDragEnd:function(s){var u=s.target.__dragStart;delete s.target.__dragStart,u&&this._moveChild(s.target,u,s.target._latlng)},_removeLayer:function(s,u,h){var m=this._gridClusters,g=this._gridUnclustered,y=this._featureGroup,x=this._map,T=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(s,this._maxZoom);var E,S=s.__parent,P=S._markers;for(this._arraySplice(P,s);S&&(S._childCount--,S._boundsNeedUpdate=!0,!(S._zoom<T));)u&&S._childCount<=1?(E=S._markers[0]===s?S._markers[1]:S._markers[0],m[S._zoom].removeObject(S,x.project(S._cLatLng,S._zoom)),g[S._zoom].addObject(E,x.project(E.getLatLng(),S._zoom)),this._arraySplice(S.__parent._childClusters,S),S.__parent._markers.push(E),E.__parent=S.__parent,S._icon&&(y.removeLayer(S),h||y.addLayer(E))):S._iconNeedsUpdate=!0,S=S.__parent;delete s.__parent},_isOrIsParent:function(s,u){for(;u;){if(s===u)return!0;u=u.parentNode}return!1},fire:function(s,u,h){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,u,h)},listens:function(s,u){return L.FeatureGroup.prototype.listens.call(this,s,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,u)},_defaultIconCreateFunction:function(s){var u=s.getChildCount(),h=" marker-cluster-";return h+=u<10?"small":u<100?"medium":"large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+h,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,u=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(u||m||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var u=s.layer,h=u;if(s.type!=="clusterkeypress"||!s.originalEvent||s.originalEvent.keyCode===13){for(;h._childClusters.length===1;)h=h._childClusters[0];h._zoom===this._maxZoom&&h._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),2<s.layer.getChildCount()&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom,g=this._map;(s||h||m)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),h=this.options.maxClusterRadius,m=h;typeof h!="function"&&(m=function(){return h}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var g=s;u<=g;g--)this._gridClusters[g]=new L.DistanceGrid(m(g)),this._gridUnclustered[g]=new L.DistanceGrid(m(g));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(s,u){var h,m,g=this._gridClusters,y=this._gridUnclustered,x=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);x<=u;u--){h=this._map.project(s.getLatLng(),u);var T=g[u].getNearObject(h);if(T)return T._addChild(s),void(s.__parent=T);if(T=y[u].getNearObject(h)){var E=T.__parent;E&&this._removeLayer(T,!1);var S=new this._markerCluster(this,u,T,s);g[u].addObject(S,this._map.project(S._cLatLng,u)),T.__parent=S;var P=s.__parent=S;for(m=u-1;m>E._zoom;m--)P=new this._markerCluster(this,m,P),g[m].addObject(P,this._map.project(T.getLatLng(),m));return E._addChild(P),void this._removeFromGridUnclustered(T,u)}y[u].addObject(s,h)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(s){var u=this._maxLat;return u!==void 0&&(s.getNorth()>=u&&(s._northEast.lat=1/0),s.getSouth()<=-u&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,u){if(u===s)this._featureGroup.addLayer(s);else if(u._childCount===2){u._addToMap();var h=u.getAllChildMarkers();this._featureGroup.removeLayer(h[0]),this._featureGroup.removeLayer(h[1])}else u._updateIcon()},_extractNonGroupLayers:function(s,u){var h,m=s.getLayers(),g=0;for(u=u||[];g<m.length;g++)(h=m[g])instanceof L.LayerGroup?this._extractNonGroupLayers(h,u):u.push(h);return u},_overrideMarkerIcon:function(s){return s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,u){this._animationAddLayerNonAnimated(s,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,u){var h,m=this._getExpandedVisibleBounds(),g=this._featureGroup,y=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(m,s,y,function(x){var T,E=x._latlng,S=x._markers;for(m.contains(E)||(E=null),x._isSingleParent()&&s+1===u?(g.removeLayer(x),x._recursivelyAddChildrenToMap(null,u,m)):(x.clusterHide(),x._recursivelyAddChildrenToMap(E,u,m)),h=S.length-1;0<=h;h--)T=S[h],m.contains(T._latlng)||g.removeLayer(T)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(m,u),g.eachLayer(function(x){x instanceof L.MarkerCluster||!x._icon||x.clusterShow()}),this._topClusterLevel._recursively(m,s,u,function(x){x._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(m,s,y,function(x){g.removeLayer(x),x.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,u){this._animationZoomOutSingle(this._topClusterLevel,s-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,u){var h=this,m=this._featureGroup;m.addLayer(s),u!==s&&(2<u._childCount?(u._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(u.getLatLng())),s.clusterHide(),this._enqueue(function(){m.removeLayer(s),s.clusterShow(),h._animationEnd()})):(this._forceLayout(),h._animationStart(),h._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,u,h){var m=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(m,g,u+1,h);var y=this;this._forceLayout(),s._recursivelyBecomeVisible(m,h),this._enqueue(function(){if(s._childCount===1){var x=s._markers[0];this._ignoreMove=!0,x.setLatLng(x.getLatLng()),this._ignoreMove=!1,x.clusterShow&&x.clusterShow()}else s._recursively(m,h,g,function(T){T._recursivelyRemoveChildrenFromMap(m,g,u+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,u,h,m){L.Marker.prototype.initialize.call(this,h?h._cLatLng||h.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,h&&this._addChild(h),m&&this._addChild(m)},getAllChildMarkers:function(s,u){s=s||[];for(var h=this._childClusters.length-1;0<=h;h--)this._childClusters[h].getAllChildMarkers(s,u);for(var m=this._markers.length-1;0<=m;m--)u&&this._markers[m].__dragStart||s.push(this._markers[m]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var u,h=this._childClusters.slice(),m=this._group._map,g=m.getBoundsZoom(this._bounds),y=this._zoom+1,x=m.getZoom();0<h.length&&y<g;){y++;var T=[];for(u=0;u<h.length;u++)T=T.concat(h[u]._childClusters);h=T}y<g?this._group._map.setView(this._latlng,y):g<=x?this._group._map.setView(this._latlng,x+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(u||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(u||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s,u,h,m,g=this._markers,y=this._childClusters,x=0,T=0,E=this._childCount;if(E!==0){for(this._resetBounds(),s=0;s<g.length;s++)h=g[s]._latlng,this._bounds.extend(h),x+=h.lat,T+=h.lng;for(s=0;s<y.length;s++)(u=y[s])._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),h=u._wLatLng,m=u._childCount,x+=h.lat*m,T+=h.lng*m;this._latlng=this._wLatLng=new L.LatLng(x/E,T/E),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,u,h){this._recursively(s,this._group._map.getMinZoom(),h-1,function(m){var g,y,x=m._markers;for(g=x.length-1;0<=g;g--)(y=x[g])._icon&&(y._setPos(u),y.clusterHide())},function(m){var g,y,x=m._childClusters;for(g=x.length-1;0<=g;g--)(y=x[g])._icon&&(y._setPos(u),y.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,u,h,m){this._recursively(s,m,u,function(g){g._recursivelyAnimateChildrenIn(s,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),h),g._isSingleParent()&&h-1===m?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(s,u,h)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(s,u){this._recursively(s,this._group._map.getMinZoom(),u,null,function(h){h.clusterShow()})},_recursivelyAddChildrenToMap:function(s,u,h){this._recursively(h,this._group._map.getMinZoom()-1,u,function(m){if(u!==m._zoom)for(var g=m._markers.length-1;0<=g;g--){var y=m._markers[g];h.contains(y._latlng)&&(s&&(y._backupLatlng=y.getLatLng(),y.setLatLng(s),y.clusterHide&&y.clusterHide()),m._group._featureGroup.addLayer(y))}},function(m){m._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var u=this._markers.length-1;0<=u;u--){var h=this._markers[u];h._backupLatlng&&(h.setLatLng(h._backupLatlng),delete h._backupLatlng)}if(s-1===this._zoom)for(var m=this._childClusters.length-1;0<=m;m--)this._childClusters[m]._restorePosition();else for(var g=this._childClusters.length-1;0<=g;g--)this._childClusters[g]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,u,h,m){var g,y;this._recursively(s,u-1,h-1,function(x){for(y=x._markers.length-1;0<=y;y--)g=x._markers[y],m&&m.contains(g._latlng)||(x._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(x){for(y=x._childClusters.length-1;0<=y;y--)g=x._childClusters[y],m&&m.contains(g._latlng)||(x._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(s,u,h,m,g){var y,x,T=this._childClusters,E=this._zoom;if(u<=E&&(m&&m(this),g&&E===h&&g(this)),E<u||E<h)for(y=T.length-1;0<=y;y--)(x=T[y])._boundsNeedUpdate&&x._recalculateBounds(),s.intersects(x._bounds)&&x._recursively(s,u,h,m,g)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,u){var h=this._getCoord(u.x),m=this._getCoord(u.y),g=this._grid,y=g[m]=g[m]||{},x=y[h]=y[h]||[],T=L.Util.stamp(s);this._objectPoint[T]=u,x.push(s)},updateObject:function(s,u){this.removeObject(s),this.addObject(s,u)},removeObject:function(s,u){var h,m,g=this._getCoord(u.x),y=this._getCoord(u.y),x=this._grid,T=x[y]=x[y]||{},E=T[g]=T[g]||[];for(delete this._objectPoint[L.Util.stamp(s)],h=0,m=E.length;h<m;h++)if(E[h]===s)return E.splice(h,1),m===1&&delete T[g],!0},eachObject:function(s,u){var h,m,g,y,x,T,E=this._grid;for(h in E)for(m in x=E[h])for(g=0,y=(T=x[m]).length;g<y;g++)s.call(u,T[g])&&(g--,y--)},getNearObject:function(s){var u,h,m,g,y,x,T,E,S=this._getCoord(s.x),P=this._getCoord(s.y),U=this._objectPoint,X=this._sqCellSize,Q=null;for(u=P-1;u<=P+1;u++)if(g=this._grid[u]){for(h=S-1;h<=S+1;h++)if(y=g[h])for(m=0,x=y.length;m<x;m++)T=y[m],((E=this._sqDist(U[L.Util.stamp(T)],s))<X||E<=X&&Q===null)&&(X=E,Q=T)}return Q},_getCoord:function(s){var u=Math.floor(s/this._cellSize);return isFinite(u)?u:s},_sqDist:function(s,u){var h=u.x-s.x,m=u.y-s.y;return h*h+m*m}},L.QuickHull={getDistant:function(s,u){var h=u[1].lat-u[0].lat;return(u[0].lng-u[1].lng)*(s.lat-u[0].lat)+h*(s.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(s,u){var h,m,g,y=0,x=null,T=[];for(h=u.length-1;0<=h;h--)m=u[h],0<(g=this.getDistant(m,s))&&(T.push(m),y<g&&(y=g,x=m));return{maxPoint:x,newPoints:T}},buildConvexHull:function(s,u){var h=[],m=this.findMostDistantPointFromBaseLine(s,u);return m.maxPoint?h=(h=h.concat(this.buildConvexHull([s[0],m.maxPoint],m.newPoints))).concat(this.buildConvexHull([m.maxPoint,s[1]],m.newPoints)):[s[0]]},getConvexHull:function(s){var u,h=!1,m=!1,g=!1,y=!1,x=null,T=null,E=null,S=null,P=null,U=null;for(u=s.length-1;0<=u;u--){var X=s[u];(h===!1||X.lat>h)&&(h=(x=X).lat),(m===!1||X.lat<m)&&(m=(T=X).lat),(g===!1||X.lng>g)&&(g=(E=X).lng),(y===!1||X.lng<y)&&(y=(S=X).lng)}return P=m!==h?(U=T,x):(U=S,E),[].concat(this.buildConvexHull([U,P],s),this.buildConvexHull([P,U],s))}},L.MarkerCluster.include({getConvexHull:function(){var s,u,h=this.getAllChildMarkers(),m=[];for(u=h.length-1;0<=u;u--)s=h[u].getLatLng(),m.push(s);return L.QuickHull.getConvexHull(m)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var s,u=this.getAllChildMarkers(null,!0),h=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),s=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(u.length,h):u.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(u.length,h):(h.y+=10,this._generatePointsCircle(u.length,h)),this._animationSpiderfy(u,s)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,u){var h,m,g=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s)/this._2PI,y=this._2PI/s,x=[];for(g=Math.max(g,35),x.length=s,h=0;h<s;h++)m=this._circleStartAngle+h*y,x[h]=new L.Point(u.x+g*Math.cos(m),u.y+g*Math.sin(m))._round();return x},_generatePointsSpiral:function(s,u){var h,m=this._group.options.spiderfyDistanceMultiplier,g=m*this._spiralLengthStart,y=m*this._spiralFootSeparation,x=m*this._spiralLengthFactor*this._2PI,T=0,E=[];for(h=E.length=s;0<=h;h--)h<s&&(E[h]=new L.Point(u.x+g*Math.cos(T),u.y+g*Math.sin(T))._round()),g+=x/(T+=y/g+5e-4*h);return E},_noanimationUnspiderfy:function(){var s,u,h=this._group,m=h._map,g=h._featureGroup,y=this.getAllChildMarkers(null,!0);for(h._ignoreMove=!0,this.setOpacity(1),u=y.length-1;0<=u;u--)s=y[u],g.removeLayer(s),s._preSpiderfyLatlng&&(s.setLatLng(s._preSpiderfyLatlng),delete s._preSpiderfyLatlng),s.setZIndexOffset&&s.setZIndexOffset(0),s._spiderLeg&&(m.removeLayer(s._spiderLeg),delete s._spiderLeg);h.fire("unspiderfied",{cluster:this,markers:y}),h._ignoreMove=!1,h._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,u){var h,m,g,y,x=this._group,T=x._map,E=x._featureGroup,S=this._group.options.spiderLegPolylineOptions;for(x._ignoreMove=!0,h=0;h<s.length;h++)y=T.layerPointToLatLng(u[h]),m=s[h],g=new L.Polyline([this._latlng,y],S),T.addLayer(g),m._spiderLeg=g,m._preSpiderfyLatlng=m._latlng,m.setLatLng(y),m.setZIndexOffset&&m.setZIndexOffset(1e6),E.addLayer(m);this.setOpacity(.3),x._ignoreMove=!1,x.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,u){var h,m,g,y,x,T,E=this,S=this._group,P=S._map,U=S._featureGroup,X=this._latlng,Q=P.latLngToLayerPoint(X),$=L.Path.SVG,W=L.extend({},this._group.options.spiderLegPolylineOptions),oe=W.opacity;for(oe===void 0&&(oe=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),$?(W.opacity=0,W.className=(W.className||"")+" leaflet-cluster-spider-leg"):W.opacity=oe,S._ignoreMove=!0,h=0;h<s.length;h++)m=s[h],T=P.layerPointToLatLng(u[h]),g=new L.Polyline([X,T],W),P.addLayer(g),m._spiderLeg=g,$&&(x=(y=g._path).getTotalLength()+.1,y.style.strokeDasharray=x,y.style.strokeDashoffset=x),m.setZIndexOffset&&m.setZIndexOffset(1e6),m.clusterHide&&m.clusterHide(),U.addLayer(m),m._setPos&&m._setPos(Q);for(S._forceLayout(),S._animationStart(),h=s.length-1;0<=h;h--)T=P.layerPointToLatLng(u[h]),(m=s[h])._preSpiderfyLatlng=m._latlng,m.setLatLng(T),m.clusterShow&&m.clusterShow(),$&&((y=(g=m._spiderLeg)._path).style.strokeDashoffset=0,g.setStyle({opacity:oe}));this.setOpacity(.3),S._ignoreMove=!1,setTimeout(function(){S._animationEnd(),S.fire("spiderfied",{cluster:E,markers:s})},200)},_animationUnspiderfy:function(s){var u,h,m,g,y,x,T=this,E=this._group,S=E._map,P=E._featureGroup,U=s?S._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):S.latLngToLayerPoint(this._latlng),X=this.getAllChildMarkers(null,!0),Q=L.Path.SVG;for(E._ignoreMove=!0,E._animationStart(),this.setOpacity(1),h=X.length-1;0<=h;h--)(u=X[h])._preSpiderfyLatlng&&(u.closePopup(),u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng,x=!0,u._setPos&&(u._setPos(U),x=!1),u.clusterHide&&(u.clusterHide(),x=!1),x&&P.removeLayer(u),Q&&(y=(g=(m=u._spiderLeg)._path).getTotalLength()+.1,g.style.strokeDashoffset=y,m.setStyle({opacity:0})));E._ignoreMove=!1,setTimeout(function(){var $=0;for(h=X.length-1;0<=h;h--)(u=X[h])._spiderLeg&&$++;for(h=X.length-1;0<=h;h--)(u=X[h])._spiderLeg&&(u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),1<$&&P.removeLayer(u),S.removeLayer(u._spiderLeg),delete u._spiderLeg);E._animationEnd(),E.fire("unspiderfied",{cluster:T,markers:X})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var u,h;for(u in s)for(h=s[u].__parent;h;)h._iconNeedsUpdate=!0,h=h.__parent},_refreshSingleMarkerModeMarkers:function(s){var u,h;for(u in s)h=s[u],this.hasLayer(h)&&h.setIcon(this._overrideMarkerIcon(h))}}),L.Marker.include({refreshIconOptions:function(s,u){var h=this.options.icon;return L.setOptions(h,s),this.setIcon(h),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=i,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})}(Ta,Ta.exports)),Ta.exports}b2();const x2={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Function,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["add:layer","layer:drag","draw:start","edit:layer","geojson","geojson:ready","zoom:change","zoom:start","layer:update"],setup(e,{expose:t,emit:n}){delete sr.Icon.Default.prototype._getIconUrl,sr.Icon.Default.mergeOptions({iconRetinaUrl:n2,iconUrl:r2,shadowUrl:i2});const i=e,a=n;let s,u,h,m;const g=Me(null),y=He(()=>({maxZoom:i.zoomBounds,zoom:{animate:i.zoomAnimate}}));on(()=>i.geojson,W=>{m.clearLayers(),X(W)},{deep:!0}),on(()=>i.dragging,W=>{W?s.dragging.enable():s.dragging.disable()});function x(){const W={maxClusterRadius:i.maxClusterRadius};return i.clusterIconCreateFunction&&Object.assign(W,{iconCreateFunction:oe=>i.clusterIconCreateFunction({L:sr,cluster:oe})}),W}an(()=>{const W=JA(sr,{maxZoom:i.maxZoom,minZoom:i.minZoom,className:"map-tiles"}),[oe]=Object.values(W),Ce={center:i.center,zoom:i.zoom,worldCopyJump:!0,dragging:i.dragging,maxZoom:i.maxZoom};i.disableZoom&&Object.assign(Ce,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),h=new sr.FeatureGroup,m=i.cluster?new sr.markerClusterGroup(x()):new sr.FeatureGroup,s=sr.map(g.value,Ce),s.attributionControl.setPrefix(i.prefix),s.pm.setGlobalOptions({layerGroup:h}),m.addTo(s),s.addLayer(h),s.addLayer(m),YA(s.getContainer()),i.geojson&&X(i.geojson),i.controls&&(s.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),s.on("pm:create",be=>{Q(be.layer),a("geojson",T()),a("add:layer",S(be.layer))}),h.on("pm:edit",be=>{a("geojson",T()),a("edit:layer",S(be.layer))}),s.on("pm:drawstart",be=>{a("draw:start",be)}),s.on("zoom",be=>a("zoom:change",be)),s.on("zoomstart",be=>a("zoom:start",be))),oe.addTo(s),Object.keys(W).length>1&&sr.control.layers(W,{},{position:"topleft",collapsed:!1}).addTo(s),U()});function T(){const W=sr.featureGroup();return h.eachLayer(oe=>{(oe instanceof sr.Path||oe instanceof sr.Marker)&&oe.pm&&W.addLayer(oe)}),W.toGeoJSON()}function E(){h.clearLayers()}function S(W){const oe=W.toGeoJSON();return typeof W.getRadius=="function"&&(oe.properties.radius=W.getRadius()),oe}const P=()=>{if(!m)return;const W=m.getBounds();s.invalidateSize(),ol(()=>{Object.keys(W).length&&s.fitBounds(W,y.value)})},U=()=>{u=new ResizeObserver(W=>{const{width:oe}=W[0].contentRect;P()}),u.observe(g.value)};ni(()=>{m.clearLayers(),u?.disconnect()});function X(W){if(W){const oe={L:sr,mapObject:s};sr.geoJSON(W,{...g2(oe),...i.geojsonOptions(oe)}).addTo(m);const Ce=m.getBounds();Ce.isValid()&&s.fitBounds(Ce,y.value)}a("geojson:ready",m)}function Q(W){W.on("pm:update",oe=>{s.pm.globalEditModeEnabled()||(a("geojson",T()),a("layer:update",S(oe.layer)))}),W.on("pm:drag",oe=>{a("geojson",T()),a("layer:drag",S(oe.layer))})}function $(){return s}return t({clearDrawLayers:E,getMapObject:$,resizeMap:P}),(W,oe)=>(C(),F("div",{ref_key:"leafletMap",ref:g,style:Vn({width:i.width,height:i.height})},null,4))}},w2=Object.freeze(Object.defineProperty({__proto__:null,default:x2},Symbol.toStringTag,{value:"Module"})),L2=["innerHTML"],C2={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},k2={key:1,class:"inline h-4 w-1"},E2=["innerHTML"],M2={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(e){const t=e,n=He(()=>{const[a,...s]=t.items;return{username:a,host:s}});function i(){const[a,...s]=t.items;document.location.href=`mailto:${a}@${s.join(".")}`}return(a,s)=>(C(),F("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:i},[O("span",{innerHTML:n.value.username},null,8,L2),(C(!0),F(Oe,null,et(n.value.host,(u,h)=>(C(),F(Oe,null,[h===0?(C(),F("svg",C2,[...s[0]||(s[0]=[O("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1)])])):(C(),F("svg",k2,[...s[1]||(s[1]=[O("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1)])])),O("span",{innerHTML:u},null,8,E2)],64))),256))]))}},T2=Object.freeze(Object.defineProperty({__proto__:null,default:M2},Symbol.toStringTag,{value:"Module"})),S2={};function P2(e,t){return C(),ae(Ju,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:V(()=>[pt(e.$slots,"default")]),_:3})}const B2=yt(S2,[["render",P2]]),A2=Object.freeze(Object.defineProperty({__proto__:null,default:B2},Symbol.toStringTag,{value:"Module"})),O2={},R2={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"};function D2(e,t){return C(),F("svg",R2,[...t[0]||(t[0]=[Xv('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1)])])}const I2=yt(O2,[["render",D2]]),j2={class:"tp-autocomplete md:block relative w-fit"},F2={for:"autocomplete-search-input",class:"sr-only"},N2={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},V2={key:1,class:"tp-autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md",role:"listbox"},$2=["onMousedown"],z2=["innerHTML"],H2=500,U2={__name:"Autocomplete.global",props:Cs({autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:void 0},retainInput:{type:Boolean,default:!1}},{input:{type:String,default:""},inputModifiers:{}}),emits:Cs(["select"],["update:input"]),setup(e,{expose:t,emit:n}){const i=e,a=ti(e,"input"),s=n,u=Me([]),h=Me(!1),m=Me(null);let g;function y(E){clearTimeout(g),E.target.value.length?g=setTimeout(()=>{h.value=!0,Bt.get(i.url,{params:{...i.params,[i.queryParam]:a.value}}).then(({data:S})=>{h.value=!1,u.value=S}).catch(()=>{})},H2):u.value=[]}const x=E=>{s("select",E),i.retainInput?a.value=i.label?E[i.label]:E:a.value="",m.value.inputRef.blur()};function T(){m.value.inputRef.focus()}return t({setFocus:T}),(E,S)=>{const P=Z("IconSearch"),U=Z("InputText");return C(),F("div",j2,[O("label",F2,_e(e.placeholder||"Search"),1),O("div",N2,[I(P,{class:"w-4 h-4 text-gray-500"})]),I(U,{id:"autocomplete-search-input",ref_key:"inputElement",ref:m,modelValue:a.value,"onUpdate:modelValue":S[0]||(S[0]=X=>a.value=X),type:"text",autofocus:e.autofocus,autocomplete:"off",class:"tp-autocomplete__input block box-border min-w-full p-1.5 pl-10 h-9 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:e.placeholder,onInput:y},null,8,["modelValue","autofocus","placeholder"]),h.value?(C(),ae(I2,{key:0,class:"tp-autocomplete__spinner hidden absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):fe("",!0),u.value.length?(C(),F("ul",V2,[(C(!0),F(Oe,null,et(u.value,X=>(C(),F("li",{key:X.id,class:"tp-autocomplete__item px-3 py-2 border-b text-xs text-base-content cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",role:"option",onMousedown:Ki(Q=>x(X),["prevent"])},[O("span",{innerHTML:e.label?X[e.label]:X},null,8,z2)],40,$2))),128))])):fe("",!0)])}}},V0=yt(U2,[["__scopeId","data-v-391d1d45"]]),G2=Object.freeze(Object.defineProperty({__proto__:null,default:V0},Symbol.toStringTag,{value:"Module"})),q2={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(e){const t=So(),n=({id:i,otu_valid_id:a})=>{t.push({name:"otus-id-overview",params:{id:a||i}})};return(i,a)=>(C(),ae(V0,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:m-2 md:ml-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:e.autofocus,params:{having_taxon_name_only:!0,include_common_names:!0},onSelect:n},null,8,["autofocus"]))}},Z2=Object.freeze(Object.defineProperty({__proto__:null,default:q2},Symbol.toStringTag,{value:"Module"})),K2=["title"],W2={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,a=He({get(){return n.modelValue},set(s){i("update:modelValue",s)}});return(s,u)=>{const h=Z("IconMinusCircle"),m=Z("IconPlusCircle");return C(),F("button",{type:"button",title:a.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:u[0]||(u[0]=g=>a.value=!a.value)},[a.value?(C(),ae(h,{key:0,class:"w-5 h-5"})):(C(),ae(m,{key:1,class:"w-5 h-5"}))],8,K2)}}},J2=Object.freeze(Object.defineProperty({__proto__:null,default:W2},Symbol.toStringTag,{value:"Module"})),Y2={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(e){return(t,n)=>(C(),F("button",{type:"button",class:Xt(["tp-button","px-3","py-1","hover:bg-opacity-80",{"bg-primary-color":e.primary,"bg-secondary-color":e.secondary,"text-primary-content":e.primary,"text-secondary-content":e.secondary}])},[pt(t.$slots,"default")],2))}},X2=Object.freeze(Object.defineProperty({__proto__:null,default:Y2},Symbol.toStringTag,{value:"Module"})),Q2={},eO={class:"border-1 tp-card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function tO(e,t){return C(),F("div",eO,[pt(e.$slots,"default")])}const nO=yt(Q2,[["render",tO]]),rO=Object.freeze(Object.defineProperty({__proto__:null,default:nO},Symbol.toStringTag,{value:"Module"})),iO={},oO={class:"p-4 pl-5 pr-5 tp-card-content"};function sO(e,t){return C(),F("div",oO,[pt(e.$slots,"default")])}const aO=yt(iO,[["render",sO]]),lO=Object.freeze(Object.defineProperty({__proto__:null,default:aO},Symbol.toStringTag,{value:"Module"})),uO={},cO={class:"tp-card-header p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function dO(e,t){return C(),F("div",cO,[pt(e.$slots,"default")])}const hO=yt(uO,[["render",dO]]),fO=Object.freeze(Object.defineProperty({__proto__:null,default:hO},Symbol.toStringTag,{value:"Module"})),pO={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(e){const t=e,n=Me(!1);let i;function a(){navigator.clipboard.writeText(t.text).then(()=>{n.value=!0,i=setTimeout(()=>{n.value=!1},t.delay)})}return Pr(()=>{clearTimeout(i)}),(s,u)=>{const h=Z("IconCheck"),m=Z("IconClipboard"),g=Z("VButton");return C(),ae(g,{class:"px-2 py-2 rounded-full",primary:"",onClick:a},{default:V(()=>[n.value?(C(),ae(h,{key:0,class:"w-4 h-4"})):(C(),ae(m,{key:1,class:"w-4 h-4"}))]),_:1})}}},mO=Object.freeze(Object.defineProperty({__proto__:null,default:pO},Symbol.toStringTag,{value:"Module"})),_O={class:"relative inline"},gO=["onClick"],yO={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(e){const t=Me(null),n=Me(!1),i=()=>{n.value=!n.value},a=u=>{n.value=!1,u.action()};function s(u){(!u.target||!t.value?.contains(u.target))&&(n.value=!1)}return an(()=>{document.addEventListener("pointerdown",s,{passive:!0,capture:!0})}),Pr(()=>{document.removeEventListener("pointerdown",s,{capture:!0})}),(u,h)=>(C(),F("div",_O,[O("button",{title:"Menu",onClick:i},[pt(u.$slots,"button")]),n.value?(C(),F("ul",{key:0,ref_key:"element",ref:t,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(C(!0),F(Oe,null,et(e.items,m=>(C(),F("li",{key:m.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:g=>a(m)},_e(m.label),9,gO))),128))],512)):fe("",!0)]))}},vO=Object.freeze(Object.defineProperty({__proto__:null,default:yO},Symbol.toStringTag,{value:"Module"}));function $0({props:e}){const t=Me([]);function n(i){return{id:i.id,objectId:i.depiction_object_id,objectType:i.depiction_object_type,objectLabel:i.depiction_object.label,label:i.label,imageOriginal:i.image.original,imageMedium:i.image.medium,attribution:i.attribution?.label||"",labelAttribution:[i.depiction_object.label,i.attribution?.label||""].join(" ")}}return on(()=>e.depictionId,i=>{i.length&&Bt.get("/depictions/gallery",{params:{depiction_id:i}}).then(({data:a})=>{t.value=a.map(n).sort((s,u)=>e.depictionId.indexOf(s.id)-e.depictionId.indexOf(u.id))}).catch(()=>{})},{immediate:!0}),{depictions:t}}const bO=["src","alt"],xO={class:"bg-black bg-opacity-25 absolute h-full w-full"},wO={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-0 px-4"},LO=["innerHTML"],CO={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(e){const t=e,{depictions:n}=$0({props:t}),i=Me(0),a=He(()=>({height:t.height})),s=He(()=>n.value[i.value]||{}),u=He(()=>s.value.objectType==="Otu"),h=He(()=>[s.value.objectLabel,s.value.attribution].join(" "));let m=null;function g(){i.value=(i.value+1)%n.value.length}return on(n,()=>{t.interval?(clearInterval(m),m=setInterval(g,t.interval)):i.value=Math.floor(Math.random()*n.value.length)}),Pr(()=>{clearInterval(m)}),(y,x)=>{const T=Z("RouterLink");return C(),F("div",{class:"w-full relative",style:Vn(a.value)},[I(Ju,{name:"fade"},{default:V(()=>[s.value.imageOriginal?(C(),F("img",{key:s.value.imageOriginal,class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",src:s.value.imageOriginal,alt:s.value.label},null,8,bO)):fe("",!0)]),_:1}),O("div",xO,[pt(y.$slots,"default",{},void 0,!0)]),s.value.objectId?(C(),F("span",wO,[u.value?(C(),ae(T,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:s.value.objectId}},innerHTML:h.value},null,8,["to","innerHTML"])):(C(),F("span",{key:1,innerHTML:h.value},null,8,LO))])):fe("",!0)],4)}}},kO=yt(CO,[["__scopeId","data-v-0e946aee"]]),EO=Object.freeze(Object.defineProperty({__proto__:null,default:kO},Symbol.toStringTag,{value:"Module"})),MO={class:"h-80 max-h-80 flex items-center justify-center"},TO=["textContent"],SO=["src","alt"],PO={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(e,{emit:t}){const n=e,i=t,a=Me(!1),s=Me(null),u=Me(null);on(()=>n.image,g=>{g.original&&(u.value=null,a.value=!0)});function h(g){g.preventDefault(),a.value=!1,u.value="Image was not found or format is not supported"}function m(){a.value=!1}return an(()=>{s.value.addEventListener("load",m),s.value.addEventListener("error",h)}),(g,y)=>{const x=Z("VSpinner"),T=Z("ClientOnly");return C(),F("div",MO,[I(T,null,{default:V(()=>[a.value?(C(),ae(x,{key:0})):fe("",!0)]),_:1}),u.value?(C(),F("span",{key:0,textContent:_e(u.value)},null,8,TO)):fe("",!0),kn(O("img",{ref_key:"imageElement",ref:s,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:e.image.original,alt:e.image.depictions?.map(E=>E.label).join(";")||"",onClick:y[0]||(y[0]=E=>i("open:viewer"))},null,8,SO),[[Yu,!u.value]])])}}},BO={class:"flex flex-col"},AO={key:0,class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},OO={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]},onlyThumbs:{type:Boolean,default:!1}},setup(e){const t=e,n=Me(!1),i=Me(0),a=He(()=>t.images[i.value]||{}),s=()=>{i.value--},u=()=>{i.value++};return on(()=>t.images,()=>{i.value=0},{immediate:!0}),(h,m)=>{const g=Z("ImageViewer");return C(),F(Oe,null,[O("div",BO,[t.onlyThumbs?fe("",!0):(C(),F("div",AO,[I(PO,{image:a.value,"onOpen:viewer":m[0]||(m[0]=()=>n.value=!0)},null,8,["image"])])),I(Jh,{class:"pt-2 pb-2",images:e.images,onSelectIndex:m[1]||(m[1]=y=>{i.value=y,t.onlyThumbs&&(n.value=!0)})},null,8,["images"])]),n.value?(C(),ae(g,{key:0,index:i.value,images:e.images,next:i.value<t.images.length-1,previous:i.value>0,onSelectIndex:m[2]||(m[2]=y=>i.value=y),onNext:m[3]||(m[3]=y=>u()),onPrevious:m[4]||(m[4]=y=>s()),onClose:m[5]||(m[5]=y=>n.value=!1)},null,8,["index","images","next","previous"])):fe("",!0)],64)}}},RO=Object.freeze(Object.defineProperty({__proto__:null,default:OO},Symbol.toStringTag,{value:"Module"})),DO=["src","alt"],IO=["innerHTML"],jO={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(e){const t=e,n=He(()=>({height:t.imageHeight}));function i(s){return s.objectType==="Otu"?"RouterLink":"div"}const{depictions:a}=$0({props:t});return(s,u)=>(C(),F("div",{class:Xt(["grid","gap-2",{"grid-flow-col":!t.wrap}]),style:Vn(t.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${t.imageWidth}, 1fr))`)},[(C(!0),F(Oe,null,et(Re(a),h=>(C(),ae(Wi(i(h)),{key:h.id,to:{name:"otus-id",params:{id:h.objectId}}},{default:V(()=>[O("img",{src:h.imageMedium,alt:h.objectLabel?.replace(/<[^>]*>/g,"")||"",style:Vn(n.value),class:"max-w-full my-0 object-cover w-full"},null,12,DO),e.label?(C(),F("span",{key:0,class:"text-sm",innerHTML:h.labelAttribution},null,8,IO)):fe("",!0)]),_:2},1032,["to"]))),128))],6))}},FO=Object.freeze(Object.defineProperty({__proto__:null,default:jO},Symbol.toStringTag,{value:"Module"})),NO={},VO={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function $O(e,t){return C(),F("svg",VO,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])])}const zO=yt(NO,[["render",$O]]),HO=Object.freeze(Object.defineProperty({__proto__:null,default:zO},Symbol.toStringTag,{value:"Module"})),UO={},GO={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function qO(e,t){return C(),F("svg",GO,[...t[0]||(t[0]=[O("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1)])])}const ZO=yt(UO,[["render",qO]]),KO=Object.freeze(Object.defineProperty({__proto__:null,default:ZO},Symbol.toStringTag,{value:"Module"})),WO={},JO={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"};function YO(e,t){return C(),F("svg",JO,[...t[0]||(t[0]=[O("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1)])])}const XO=yt(WO,[["render",YO]]),QO=Object.freeze(Object.defineProperty({__proto__:null,default:XO},Symbol.toStringTag,{value:"Module"})),eR={},tR={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function nR(e,t){return C(),F("svg",tR,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"},null,-1)])])}const rR=yt(eR,[["render",nR]]),iR=Object.freeze(Object.defineProperty({__proto__:null,default:rR},Symbol.toStringTag,{value:"Module"})),oR={},sR={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function aR(e,t){return C(),F("svg",sR,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)])])}const lR=yt(oR,[["render",aR]]),uR=Object.freeze(Object.defineProperty({__proto__:null,default:lR},Symbol.toStringTag,{value:"Module"})),cR={},dR={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function hR(e,t){return C(),F("svg",dR,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1)])])}const fR=yt(cR,[["render",hR]]),pR=Object.freeze(Object.defineProperty({__proto__:null,default:fR},Symbol.toStringTag,{value:"Module"})),mR={},_R={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function gR(e,t){return C(),F("svg",_R,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)])])}const yR=yt(mR,[["render",gR]]),vR=Object.freeze(Object.defineProperty({__proto__:null,default:yR},Symbol.toStringTag,{value:"Module"})),bR={},xR={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function wR(e,t){return C(),F("svg",xR,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])}const LR=yt(bR,[["render",wR]]),CR=Object.freeze(Object.defineProperty({__proto__:null,default:LR},Symbol.toStringTag,{value:"Module"})),kR={},ER={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function MR(e,t){return C(),F("svg",ER,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1)])])}const TR=yt(kR,[["render",MR]]),SR=Object.freeze(Object.defineProperty({__proto__:null,default:TR},Symbol.toStringTag,{value:"Module"})),PR={},BR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function AR(e,t){return C(),F("svg",BR,[...t[0]||(t[0]=[O("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[O("path",{d:"M14.5 5h-2c-2.828 0-4.243 0-5.121.879C6.5 6.757 6.5 8.172 6.5 11v5c0 2.828 0 4.243.879 5.121C8.257 22 9.672 22 12.5 22h1.343c.818 0 1.226 0 1.594-.152s.656-.441 1.235-1.02l2.656-2.656c.579-.579.867-.867 1.02-1.235c.152-.368.152-.776.152-1.594V11c0-2.828 0-4.243-.879-5.121C18.743 5 17.328 5 14.5 5"}),O("path",{d:"M15 21.5v-1c0-1.886 0-2.828.586-3.414S17.114 16.5 19 16.5h1M6.5 19a3 3 0 0 1-3-3V8c0-2.828 0-4.243.879-5.121C5.257 2 6.672 2 9.5 2h5a3 3 0 0 1 3 3m-7.499 8h4m-4-4h7"})],-1)])])}const OR=yt(PR,[["render",AR]]),RR=Object.freeze(Object.defineProperty({__proto__:null,default:OR},Symbol.toStringTag,{value:"Module"})),DR={},IR={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"};function jR(e,t){return C(),F("svg",IR,[...t[0]||(t[0]=[O("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1)])])}const FR=yt(DR,[["render",jR]]),NR=Object.freeze(Object.defineProperty({__proto__:null,default:FR},Symbol.toStringTag,{value:"Module"})),VR={},$R={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function zR(e,t){return C(),F("svg",$R,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])])}const HR=yt(VR,[["render",zR]]),UR=Object.freeze(Object.defineProperty({__proto__:null,default:HR},Symbol.toStringTag,{value:"Module"})),GR={},qR={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function ZR(e,t){return C(),F("svg",qR,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"},null,-1)])])}const KR=yt(GR,[["render",ZR]]),WR=Object.freeze(Object.defineProperty({__proto__:null,default:KR},Symbol.toStringTag,{value:"Module"})),JR={},YR={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"};function XR(e,t){return C(),F("svg",YR,[...t[0]||(t[0]=[O("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1)])])}const QR=yt(JR,[["render",XR]]),eD=Object.freeze(Object.defineProperty({__proto__:null,default:QR},Symbol.toStringTag,{value:"Module"})),tD={},nD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function rD(e,t){return C(),F("svg",nD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])}const iD=yt(tD,[["render",rD]]),oD=Object.freeze(Object.defineProperty({__proto__:null,default:iD},Symbol.toStringTag,{value:"Module"})),sD={},aD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function lD(e,t){return C(),F("svg",aD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"},null,-1)])])}const uD=yt(sD,[["render",lD]]),cD=Object.freeze(Object.defineProperty({__proto__:null,default:uD},Symbol.toStringTag,{value:"Module"})),dD={},hD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function fD(e,t){return C(),F("svg",hD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"},null,-1)])])}const pD=yt(dD,[["render",fD]]),mD=Object.freeze(Object.defineProperty({__proto__:null,default:pD},Symbol.toStringTag,{value:"Module"})),_D={},gD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function yD(e,t){return C(),F("svg",gD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])}const vD=yt(_D,[["render",yD]]),bD=Object.freeze(Object.defineProperty({__proto__:null,default:vD},Symbol.toStringTag,{value:"Module"})),xD={},wD={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function LD(e,t){return C(),F("svg",wD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1)])])}const CD=yt(xD,[["render",LD]]),kD=Object.freeze(Object.defineProperty({__proto__:null,default:CD},Symbol.toStringTag,{value:"Module"})),ED={},MD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function TD(e,t){return C(),F("svg",MD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"},null,-1)])])}const SD=yt(ED,[["render",TD]]),PD=Object.freeze(Object.defineProperty({__proto__:null,default:SD},Symbol.toStringTag,{value:"Module"})),BD={},AD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function OD(e,t){return C(),F("svg",AD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"},null,-1)])])}const RD=yt(BD,[["render",OD]]),DD=Object.freeze(Object.defineProperty({__proto__:null,default:RD},Symbol.toStringTag,{value:"Module"})),ID={},jD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function FD(e,t){return C(),F("svg",jD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)])])}const ND=yt(ID,[["render",FD]]),VD=Object.freeze(Object.defineProperty({__proto__:null,default:ND},Symbol.toStringTag,{value:"Module"})),$D={},zD={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function HD(e,t){return C(),F("svg",zD,[...t[0]||(t[0]=[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])}const UD=yt($D,[["render",HD]]),GD=Object.freeze(Object.defineProperty({__proto__:null,default:UD},Symbol.toStringTag,{value:"Module"})),qD={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(e){return(t,n)=>(C(),F("div",null,[O("p",null,_e(e.attribution.label),1)]))}},ZD={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(C(),F("div",null,[(C(!0),F(Oe,null,et(e.depictions,i=>(C(),F("div",{key:i.id},[O("p",null,_e(i.label),1)]))),128))]))}},KD=["innerHTML"],WD={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(e){return(t,n)=>(C(),F("div",null,[O("p",{innerHTML:e.source.label},null,8,KD)]))}},JD={class:"p-2 text-black dark:text-white opacity-50"},YD={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(e){return(t,n)=>(C(),F("span",JD,_e(e.currentImage+1)+"/"+_e(e.totalImages),1))}},XD={},QD={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function eI(e,t){const n=Z("IconArrowRight");return C(),F("button",QD,[I(n,{class:"h-8 w-8"})])}const tI=yt(XD,[["render",eI]]),nI={},rI={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function iI(e,t){const n=Z("IconArrowLeft");return C(),F("button",rI,[I(n,{class:"h-8 w-8"})])}const oI=yt(nI,[["render",iI]]),sI={},aI={class:"p-2 box-border flex justify-between"};function lI(e,t){return C(),F("div",aI,[O("div",null,[pt(e.$slots,"default")]),O("div",null,[pt(e.$slots,"right")])])}const uI=yt(sI,[["render",lI]]),cI={},dI={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function hI(e,t){const n=Z("IconClose");return C(),F("button",dI,[I(n)])}const fI=yt(cI,[["render",hI]]),pI={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},mI={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},_I=["textContent"],gI=["alt","src"],yI={class:"bottom-0 fixed max-w-full w-full"},vI={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},bI={class:"flex justify-center"},xI={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(e,{emit:t}){const n=e,i=t,a=({key:x})=>{switch(x){case"ArrowLeft":n.previous&&i("previous");break;case"ArrowRight":n.next&&i("next");break;case"Escape":i("close");break}},s=Me(null),u=Me(!1),h=Me(null),m=He(()=>n.images[n.index]);document.addEventListener("keyup",a);function g(){u.value=!1,h.value="Image was not found or format is not supported"}function y(){u.value=!1}return an(()=>{s.value.addEventListener("load",y),s.value.addEventListener("error",g),document.body.classList.add("overflow-hidden")}),ni(()=>{document.removeEventListener("keyup",a),document.body.classList.remove("overflow-hidden")}),on(()=>n.index,()=>{h.value=null,u.value=!0}),(x,T)=>{const E=Z("VSpinner");return C(),F("div",pI,[O("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:T[3]||(T[3]=Ki(()=>{},["stop"]))},[O("div",mI,[u.value?(C(),ae(E,{key:0})):fe("",!0),h.value?(C(),F("div",{key:1,class:"flex flex-col justify-center",textContent:_e(h.value)},null,8,_I)):fe("",!0),kn(O("img",{ref_key:"imageElement",ref:s,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:m.value?.depictions?.map(S=>S.label).join(";"),src:m.value.original,onClick:T[0]||(T[0]=S=>i("close"))},null,8,gI),[[Yu,!h.value]]),e.next?(C(),ae(tI,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:T[1]||(T[1]=S=>i("next"))})):fe("",!0),e.previous?(C(),ae(oI,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:T[2]||(T[2]=S=>i("previous"))})):fe("",!0)])]),O("div",yI,[O("div",vI,[I(ZD,{class:"my-auto",depictions:m.value.depictions},null,8,["depictions"]),I(qD,{class:"my-auto",attribution:m.value.attribution},null,8,["attribution"]),I(WD,{class:"my-auto",source:m.value.source},null,8,["source"])]),O("div",bI,[I(Jh,{class:"pb-2",current:e.index,images:e.images,onSelectIndex:T[4]||(T[4]=S=>i("selectIndex",S)),onClick:T[5]||(T[5]=Ki(()=>{},["stop"]))},null,8,["current","images"])])]),I(uI,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:V(()=>[I(fI,{onClick:T[6]||(T[6]=S=>i("close"))})]),default:V(()=>[I(YD,{"current-image":e.index,"total-images":e.images.length},null,8,["current-image","total-images"])]),_:1})])}}},wI=Object.freeze(Object.defineProperty({__proto__:null,default:xI},Symbol.toStringTag,{value:"Module"})),LI=["value"],CI={__name:"InputText.global",props:{modelValue:[String,Number],value:[String,Number]},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const i=e,a=n,s=Gu("input"),u=h=>{a("update:modelValue",h.target.value)};return t({inputRef:s}),(h,m)=>(C(),F("input",{ref:"input",type:"text",class:"box-border p-1.5 px-2 text-base-content rounded border sm:text-sm placeholder:text-sm border-base-border focus:ring-primary-500 focus:border-primary-500",value:i.modelValue??i.value,onInput:u},null,40,LI))}},kI=Object.freeze(Object.defineProperty({__proto__:null,default:CI},Symbol.toStringTag,{value:"Module"})),EI=["value"],MI={__name:"SelectInput.global",props:{modelValue:[String,Number],value:[String,Number]},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const i=e,a=n,s=Gu("input");function u(h){a("update:modelValue",h.target.value)}return t({inputRef:s}),(h,m)=>(C(),F("select",{ref:"input",class:"box-border p-1.5 px-2 text-base-content rounded border sm:text-sm placeholder:text-sm border-base-border focus:ring-primary-500 focus:border-primary-500",value:i.modelValue??i.value,onChange:u},[pt(h.$slots,"default")],40,EI))}},TI=Object.freeze(Object.defineProperty({__proto__:null,default:MI},Symbol.toStringTag,{value:"Module"})),SI="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",PI={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(e){const t=e,n={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},i=He(()=>n[t.frontmatter.layout]||SI);return(a,s)=>(C(),ae(Wi(e.tag),{class:Xt(i.value)},{default:V(()=>[pt(a.$slots,"default")]),_:3},8,["class"]))}},BI=Object.freeze(Object.defineProperty({__proto__:null,default:PI},Symbol.toStringTag,{value:"Module"})),AI={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center gap-2"},OI={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full md:max-h-[70vh]"},RI={__name:"VModal.global",props:{containerClass:{type:String,default:""}},emits:["close"],setup(e,{emit:t}){const n=t,i=a=>{a.key==="Escape"&&(a.stopPropagation(),n("close"))};return an(()=>{document.addEventListener("keydown",i),document.body.classList.add("overflow-hidden")}),ni(()=>{document.removeEventListener("keydown",i),document.body.classList.remove("overflow-hidden")}),(a,s)=>{const u=Z("IconClose");return C(),F("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:s[2]||(s[2]=h=>n("close")),onKey:s[3]||(s[3]=Ki(h=>n("close"),["stop"]))},[O("div",{class:Xt(["h-full md:h-auto mx-auto  bg-base-foreground container overflow-y-auto rounded",e.containerClass]),onClick:s[1]||(s[1]=Ki(()=>{},["stop"]))},[O("div",AI,[pt(a.$slots,"header",{},()=>[s[4]||(s[4]=O("span",null,null,-1))]),I(u,{class:"w-6 h-6 min-w-6 min-h-6 cursor-pointer opacity-50",onClick:s[0]||(s[0]=()=>n("close"))})]),O("div",OI,[pt(a.$slots,"default")]),O("div",null,[pt(a.$slots,"footer")])],2)],32)}}},DI=Object.freeze(Object.defineProperty({__proto__:null,default:RI},Symbol.toStringTag,{value:"Module"})),II={"aria-disabled":"false","aria-label":"Pagination",class:"flex flex-row text-sm"},jI=["disabled"],FI={role:"presentation",class:"page-item"},NI=["disabled"],VI={key:0,class:"border border-base-border px-2 py-1.5"},$I={key:0,class:"page-item"},zI=["disabled","onClick"],HI={key:1,class:"border border-base-border px-2 py-1.5"},UI={class:"page-item"},GI=["disabled"],qI={role:"presentation"},ZI=["disabled"],KI={__name:"VPagination.global",props:{modelValue:{type:Number,required:!0},total:{type:Number,required:!0},per:{type:Number,required:!0},rangePages:{type:Number,default:5}},emits:["update:modelValue","select"],setup(e,{emit:t}){const n=e,i=t,a=He(()=>Math.ceil(n.total/n.per)),s=He({get:()=>n.modelValue,set:m=>{i("select",m),i("update:modelValue",m)}}),u=He(()=>n.modelValue+n.rangePages),h=He(()=>n.modelValue-n.rangePages);return(m,g)=>(C(),F("ul",II,[O("li",null,[O("button",{type:"button",disabled:s.value<2||!a.value,"aria-label":"Go to first page",class:"border border-base-border rounded-l-md px-2 py-1.5",onClick:g[0]||(g[0]=y=>s.value=1)},"  ",8,jI)]),O("li",FI,[O("button",{type:"button",disabled:s.value<2||!a.value,"aria-label":"Go to previous page",class:"border border-base-border px-2 py-1.5",onClick:g[1]||(g[1]=y=>s.value--)},"  ",8,NI)]),e.modelValue>n.rangePages?(C(),F("li",VI," ... ")):fe("",!0),(C(!0),F(Oe,null,et(a.value,y=>(C(),F(Oe,{key:y},[y<u.value&&h.value<y?(C(),F("li",$I,[O("button",{type:"button","aria-label":"Go to page 1",disabled:s.value===y,class:Xt(["border","border-base-border","px-2","py-1.5",s.value===y?"text-primary-content bg-primary-color":"text-base-content"]),onClick:()=>s.value=y},_e(y),11,zI)])):fe("",!0)],64))),128)),a.value-e.modelValue>=e.rangePages?(C(),F("li",HI," ... ")):fe("",!0),O("li",UI,[O("button",{type:"button","aria-label":"Go to next page",class:"border border-base-border px-2 py-1.5",disabled:s.value===a.value||!a.value,onClick:g[2]||(g[2]=()=>s.value++)},"  ",8,GI)]),O("li",qI,[O("button",{type:"button",disabled:s.value===a.value||!a.value,"aria-label":"Go to last page",class:"border border-base-border rounded-r-md px-2 py-1.5",onClick:g[3]||(g[3]=()=>s.value=a.value)},"  ",8,ZI)])]))}},WI=Object.freeze(Object.defineProperty({__proto__:null,default:KI},Symbol.toStringTag,{value:"Module"})),JI={class:"text-sm"},YI={key:0,class:"horizontal-left-content"},XI={key:1},QI={__name:"VPaginationInfo.global",props:{pagination:{type:Object,required:!0}},setup(e){const t=e,n=He(()=>(t.pagination.page-1)*t.pagination.per||1),i=He(()=>{const s=t.pagination.page*t.pagination.per;return s>t.pagination.total?t.pagination.total:s}),a=He(()=>Number(t.pagination.total));return(s,u)=>(C(),F("div",JI,[a.value?(C(),F("span",YI,_e(n.value)+" - "+_e(i.value)+" of "+_e(e.pagination.total)+" records. ",1)):(C(),F("span",XI,"0 records."))]))}},e5=Object.freeze(Object.defineProperty({__proto__:null,default:QI},Symbol.toStringTag,{value:"Module"})),t5={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(e){const t=e,n=Me({data:[]}),i=He(()=>t.data.map(u=>u.toLowerCase())),a=He(()=>{const u=n.value.data;return u.length?s(u):i.value.map(h=>[h,"??"])});function s(u){const h=t.data.length?u.filter(([m])=>i.value.includes(m)):u;return h.sort(([m],[g])=>i.value.indexOf(m)-i.value.indexOf(g)),h}return an(()=>{Bt.get("/stats").then(u=>{const h=Object.entries(u.data.data).map(([m,g])=>[m.toLowerCase(),g.toLocaleString()]);n.value.data=h}).catch(()=>{})}),(u,h)=>(C(),ae(Wi(e.tag),null,{default:V(()=>[(C(!0),F(Oe,null,et(a.value,([m,g],y)=>pt(u.$slots,"default",{type:m,value:g},()=>[O("span",null,_e(m)+": "+_e(g)+_e(y<a.value.length-1?"; ":""),1)])),256))]),_:3}))}},n5=Object.freeze(Object.defineProperty({__proto__:null,default:t5},Symbol.toStringTag,{value:"Module"})),r5={key:1,"aria-hidden":"true"},i5={__name:"ClientOnly.global",setup(e){const t=Me(!1);return an(()=>{t.value=!0}),(n,i)=>t.value?pt(n.$slots,"default",{key:0}):(C(),F("div",r5))}},o5=Object.freeze(Object.defineProperty({__proto__:null,default:i5},Symbol.toStringTag,{value:"Module"})),s5={class:"tp-tab-item inline-flex items-center text-sm"},a5={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(e){return(t,n)=>{const i=Z("RouterLink");return C(),F("li",s5,[I(i,{class:"block py-2 px-3 text-base-content border-b-2 border-transparent","active-class":"border-b-2 !border-secondary-color text-secondary-color",to:e.to},{default:V(()=>[pt(t.$slots,"default")]),_:3},8,["to"])])}}},l5=Object.freeze(Object.defineProperty({__proto__:null,default:a5},Symbol.toStringTag,{value:"Module"})),u5={},c5={class:"tp-tab-list inline-flex items-center gap-0.5 flex-wrap"};function d5(e,t){return C(),F("ul",c5,[pt(e.$slots,"default")])}const h5=yt(u5,[["render",d5]]),f5=Object.freeze(Object.defineProperty({__proto__:null,default:h5},Symbol.toStringTag,{value:"Module"})),p5={},m5={class:"tp-table relative sm:rounded-lg"},_5={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function g5(e,t){return C(),F("div",m5,[O("table",_5,[pt(e.$slots,"default")])])}const y5=yt(p5,[["render",g5]]),v5=Object.freeze(Object.defineProperty({__proto__:null,default:y5},Symbol.toStringTag,{value:"Module"})),b5={},x5={class:"normal-case text-xs"};function w5(e,t){return C(),F("tbody",x5,[pt(e.$slots,"default")])}const L5=yt(b5,[["render",w5]]),C5=Object.freeze(Object.defineProperty({__proto__:null,default:L5},Symbol.toStringTag,{value:"Module"})),k5={},E5={class:"px-4 py-4"};function M5(e,t){return C(),F("td",E5,[pt(e.$slots,"default")])}const T5=yt(k5,[["render",M5]]),S5=Object.freeze(Object.defineProperty({__proto__:null,default:T5},Symbol.toStringTag,{value:"Module"})),P5={},B5={class:"bg-base-foreground border-b border-base-border"};function A5(e,t){return C(),F("tr",B5,[pt(e.$slots,"default")])}const O5=yt(P5,[["render",A5]]),R5=Object.freeze(Object.defineProperty({__proto__:null,default:O5},Symbol.toStringTag,{value:"Module"})),D5={},I5={class:"text-xs text-base-content uppercase bg-base-background"};function j5(e,t){return C(),F("thead",I5,[pt(e.$slots,"default")])}const F5=yt(D5,[["render",j5]]),N5=Object.freeze(Object.defineProperty({__proto__:null,default:F5},Symbol.toStringTag,{value:"Module"})),V5={},$5={class:"px-4 py-3"};function z5(e,t){return C(),F("th",$5,[pt(e.$slots,"default")])}const H5=yt(V5,[["render",z5]]),U5=Object.freeze(Object.defineProperty({__proto__:null,default:H5},Symbol.toStringTag,{value:"Module"})),G5={};function q5(e,t){return C(),F("tr",null,[pt(e.$slots,"default")])}const Z5=yt(G5,[["render",q5]]),K5=Object.freeze(Object.defineProperty({__proto__:null,default:Z5},Symbol.toStringTag,{value:"Module"}));var W5={};const J5={key:1},Y5={class:"font-normal p-5 pt-0 text-base"},X5={class:"mx-5 my-2"},Q5=["href"],e6={key:0,class:"text-sm"},t6="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",n6={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},iconClass:{type:Array,default:()=>["w-5 h-5"]},tag:{type:String,default:"VButton"}},setup(e){const{issue_trackers:t}=W5,n=Me(!1);function i(){t?n.value=!0:window.open(t6,"_blank")}return(a,s)=>{const u=Z("IconGithub"),h=Z("VModal");return C(),F(Oe,null,[(C(),ae(Wi(e.tag),{type:"button",title:"Report a problem",class:Xt(e.buttonClass),onClick:i},{default:V(()=>[e.icon?(C(),ae(u,{key:0,class:Xt(e.iconClass)},null,8,["class"])):fe("",!0),e.label?(C(),F("span",J5,_e(e.label),1)):fe("",!0)]),_:1},8,["class"])),n.value?(C(),ae(h,{key:0,class:"tp-tracker-report-modal text-base-content",onClose:s[0]||(s[0]=m=>n.value=!1)},{header:V(()=>[...s[1]||(s[1]=[O("h1",{class:"font-medium text-base px-1"},"Report a problem",-1)])]),default:V(()=>[O("div",Y5,[s[2]||(s[2]=O("span",null,"My issue is with:",-1)),O("ul",X5,[(C(!0),F(Oe,null,et(Re(t),m=>(C(),F("li",null,[O("a",{href:m.url,target:"_blank"},_e(m.label),9,Q5),m.description?(C(),F("span",e6," - "+_e(m.description),1)):fe("",!0)]))),256))])])]),_:1})):fe("",!0)],64)}}},r6=Object.freeze(Object.defineProperty({__proto__:null,default:n6},Symbol.toStringTag,{value:"Module"})),i6={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(e){const t=wv(),n=He(()=>{const a=t.default?.();return i(a)});function i(a){if(!a)return!0;const[s]=a;let u=s.children;return s.el!==null||u!==null}return(a,s)=>(C(),F(Oe,null,[pt(a.$slots,"default"),n.value?(C(),F("span",{key:0,class:Xt(e.class)},[(C(!0),F(Oe,null,et(e.lines,u=>(C(),F("span",{key:u,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"},"  "))),128))],2)):fe("",!0)],64))}},o6=Object.freeze(Object.defineProperty({__proto__:null,default:i6},Symbol.toStringTag,{value:"Module"})),s6=["innerHTML"],a6={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(e){const t={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},n=e,i=Me(null),a=Me({});let s;an(()=>{if(u(),n.resize&&!n.fullScreen){const m=n.target?document.querySelector(n.target):i.value.parentNode;s=new ResizeObserver(()=>{u()}),s.observe(m)}}),ni(()=>{s&&s.disconnect()});const u=()=>{const m=n.target?document.querySelector(n.target):i.value.parentNode;Object.assign(a.value,n.fullScreen?t:h(m))},h=m=>{const g=m.getBoundingClientRect(),y=window.getComputedStyle(m,null),x=parseInt(y.getPropertyValue("padding-left"),10),T=parseInt(y.getPropertyValue("padding-right"),10),E=parseInt(y.getPropertyValue("padding-top"),10),S=parseInt(y.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:g.width-x-T+"px",height:g.height-E-S+"px"}};return(m,g)=>(C(),F("div",{ref_key:"spinnerElement",ref:i,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Vn(a.value)},[O("div",{class:Xt(["tp-spinner",`tp-spinner-${e.spinnerPosition}`])},[e.showSpinner?(C(),F("svg",{key:0,style:Vn(e.logoSize),"aria-hidden":"true",class:Xt(["text-base-lighter","animate-spin fill-primary-color",e.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[...g[0]||(g[0]=[O("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),O("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)])],6)):fe("",!0),g[1]||(g[1]=O("span",{class:"sr-only"},"Loading...",-1)),e.legend.length?(C(),F("div",{key:1,class:Xt(["text-base-content","text-center",e.legendClass]),style:Vn(e.legendStyle)},[e.showLegend?(C(),F("span",{key:0,innerHTML:e.legend},null,8,s6)):fe("",!0),pt(m.$slots,"default",{},void 0,!0)],6)):fe("",!0)],2)],4))}},l6=yt(a6,[["__scopeId","data-v-6277184c"]]),u6=Object.freeze(Object.defineProperty({__proto__:null,default:l6},Symbol.toStringTag,{value:"Module"}));
